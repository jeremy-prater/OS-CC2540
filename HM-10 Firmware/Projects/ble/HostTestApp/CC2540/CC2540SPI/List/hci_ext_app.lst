###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.30.1.41636 for 8051             02/Jun/2014  17:48:01 #
# Copyright 2004-2013 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#                                                                             #
#    Source file        =  c:\Users\Administrator\Documents\Dropbox\Fish      #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\Source\hci_ext_app.c                        #
#    Command line       =  -f "c:\Users\Administrator\Documents\Dropbox\Fish  #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\config\buildComponents.cfg"    #
#                          (-DBROADCASTER_CFG=0x01 -DOBSERVER_CFG=0x02        #
#                          -DPERIPHERAL_CFG=0x04 -DCENTRAL_CFG=0x08           #
#                          -DADV_NCONN_CFG=0x01 -DADV_CONN_CFG=0x02           #
#                          -DSCAN_CFG=0x04 -DINIT_CFG=0x08                    #
#                          -DADV_CFG=ADV_NCONN_CFG+ADV_CONN_CFG               #
#                          -DLINK_CFG=ADV_CONN_CFG+INIT_CFG                   #
#                          -DFULL_CFG=INIT_CFG+SCAN_CFG+ADV_NCONN_CFG+ADV_CON #
#                          N_CFG) -f "c:\Users\Administrator\Documents\Dropbo #
#                          x\Fish Brain\HM-10 Hack\HM-10                      #
#                          Firmware\Projects\ble\HostTestApp\CC2540\buildConf #
#                          ig.cfg" (-DHOST_CONFIG=PERIPHERAL_CFG+CENTRAL_CFG  #
#                          -DGAP_PRIVACY_RECONNECT)                           #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\Source\hci_ext_app.c" -D INT_HEAP_LEN=2700  #
#                          -D HALNODEBUG -D OSAL_CBTIMER_NUM_TASKS=1 -D       #
#                          POWER_SAVING -D HAL_AES_DMA=TRUE -D HAL_DMA=TRUE   #
#                          -D HAL_UART=TRUE -D HAL_UART_DMA=0 -D              #
#                          HAL_UART_ISR=0 -D HAL_UART_SPI=2 -D                #
#                          HAL_SPI_QUEUED_TX=TRUE -D HAL_KEY=FALSE -D         #
#                          HAL_LCD=FALSE -D HAL_LED=FALSE -D                  #
#                          GATT_DB_OFF_CHIP -D GAP_BOND_MGR -lCN              #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\CC2540SPI\List\" -lA                 #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\CC2540SPI\List\" -o                  #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\CC2540SPI\Obj\" -e --debug           #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 8 -I "c:\Users\Administrator\Doc #
#                          uments\Dropbox\Fish Brain\HM-10 Hack\HM-10         #
#                          Firmware\Projects\ble\HostTestApp\CC2540\..\..\com #
#                          mon\" -I "c:\Users\Administrator\Documents\Dropbox #
#                          \Fish Brain\HM-10 Hack\HM-10                       #
#                          Firmware\Projects\ble\HostTestApp\CC2540\..\..\..\ #
#                          ..\Components\hal\include\" -I                     #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\..\..\Components\hal\target\CC #
#                          2540EB\" -I "c:\Users\Administrator\Documents\Drop #
#                          box\Fish Brain\HM-10 Hack\HM-10                    #
#                          Firmware\Projects\ble\HostTestApp\CC2540\..\..\..\ #
#                          ..\Components\osal\include\" -I                    #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\..\..\Components\services\sadd #
#                          r\" -I "c:\Users\Administrator\Documents\Dropbox\F #
#                          ish Brain\HM-10 Hack\HM-10                         #
#                          Firmware\Projects\ble\HostTestApp\CC2540\..\..\..\ #
#                          ..\Components\ble\include\" -I                     #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\..\..\Components\ble\controlle #
#                          r\phy\" -I "c:\Users\Administrator\Documents\Dropb #
#                          ox\Fish Brain\HM-10 Hack\HM-10                     #
#                          Firmware\Projects\ble\HostTestApp\CC2540\..\..\..\ #
#                          ..\Components\ble\controller\include\" -I          #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\..\..\Components\ble\hci\" -I  #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\..\..\Components\ble\host\"    #
#                          -I "c:\Users\Administrator\Documents\Dropbox\Fish  #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\common\cc2540\" -I             #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\common\npi\npi_np\" -I         #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\Include\" -I                   #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\..\Profiles\Roles\" -I            #
#                          "c:\Users\Administrator\Documents\Dropbox\Fish     #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\..\source\" -Ohz                     #
#    List file          =  c:\Users\Administrator\Documents\Dropbox\Fish      #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\CC2540SPI\List\hci_ext_app.lst       #
#    Object file        =  c:\Users\Administrator\Documents\Dropbox\Fish      #
#                          Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostT #
#                          estApp\CC2540\CC2540SPI\Obj\hci_ext_app.r51        #
#                                                                             #
#                                                                             #
###############################################################################

c:\Users\Administrator\Documents\Dropbox\Fish Brain\HM-10 Hack\HM-10 Firmware\Projects\ble\HostTestApp\Source\hci_ext_app.c
      1          /**************************************************************************************************
      2            Filename:       hci_ext_app.c
      3            Revised:        $Date: 2013-09-10 14:03:31 -0700 (Tue, 10 Sep 2013) $
      4            Revision:       $Revision: 35269 $
      5          
      6            Description:    HCI Extensions Application
      7          
      8          
      9            Copyright 2009-2013 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License"). You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product. Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41           * INCLUDES
     42           */
     43          #include "bcomdef.h"
     44          #include "OSAL.h"
     45          #include "hal_lcd.h"
     46          #include "hci.h"
     47          #include "hci_tl.h"
     48          #include "l2cap.h"
     49          #include "gap.h"
     50          #include "gatt.h"
     51          #include "gatt_uuid.h"
     52          #include "osal_snv.h"
     53          
     54          #if !defined ( GATT_DB_OFF_CHIP )
     55            #include "gattservapp.h"
     56            #include "gapgattserver.h"
     57          
     58            #if defined ( GATT_TEST ) || defined ( GATT_QUAL )
     59              #include "gatttest.h"
     60            #endif
     61          #endif // GATT_DB_OFF_CHIP
     62          
     63          #if defined ( GAP_BOND_MGR )
     64            #include "gapbondmgr.h"
     65          #endif
     66          
     67          #include "OnBoard.h"
     68          #include "hci_ext_app.h"
     69          
     70          /*********************************************************************
     71           * MACROS
     72           */
     73          
     74          /*********************************************************************
     75           * CONSTANTS
     76           */
     77          
     78          #define RSP_PAYLOAD_IDX                  6
     79          #define MAX_RSP_DATA_LEN                 50
     80          #define MAX_RSP_BUF                      ( RSP_PAYLOAD_IDX + MAX_RSP_DATA_LEN )
     81          
     82          #if !defined ( HCI_EXT_APP_OUT_BUF )
     83            #define HCI_EXT_APP_OUT_BUF            44
     84          #endif
     85          
     86          #define KEYDIST_SENC                     0x01
     87          #define KEYDIST_SID                      0x02
     88          #define KEYDIST_SSIGN                    0x04
     89          #define KEYDIST_MENC                     0x08
     90          #define KEYDIST_MID                      0x10
     91          #define KEYDIST_MSIGN                    0x20
     92          
     93          #define HCI_EXT_HDR_LEN                  5
     94          
     95          // Maximum number of reliable writes supported by Attribute Client
     96          #define GATT_MAX_NUM_RELIABLE_WRITES     5
     97          
     98          /*********************************************************************
     99           * TYPEDEFS
    100           */
    101          typedef struct
    102          {
    103            uint8  pktType;
    104            uint16 opCode;
    105            uint8  len;
    106            uint8  *pData;
    107          } hciExtCmd_t;
    108          
    109          /*********************************************************************
    110           * GLOBAL VARIABLES
    111           */
    112          
    113          /*********************************************************************
    114           * EXTERNAL VARIABLES
    115           */
    116          
    117          /*********************************************************************
    118           * EXTERNAL FUNCTIONS
    119           */
    120          
    121          /*********************************************************************
    122           * LOCAL VARIABLES
    123           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    124          uint8 hciExtApp_TaskID;   // Task ID for internal task/event processing
   \                     hciExtApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    125          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    126          uint32 hciExtSignCounter = 0;
   \                     hciExtSignCounter:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    127          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    128          static uint8 out_msg[HCI_EXT_APP_OUT_BUF];
   \                     out_msg:
   \   000000                DS 44
   \   00002C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    129          uint8 rspBuf[MAX_RSP_BUF];
   \                     rspBuf:
   \   000000                DS 56
   \   000038                REQUIRE __INIT_XDATA_Z
    130          
    131          // The device's local keys

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    132          static uint8 IRK[KEYLEN] = {0};
   \                     IRK:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    133          static uint8 SRK[KEYLEN] = {0};
   \                     SRK:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z
    134          
    135          #if !defined ( GATT_DB_OFF_CHIP )
    136            #if ( ( HOST_CONFIG & CENTRAL_CFG ) && ( HOST_CONFIG & PERIPHERAL_CFG ) )
    137              static uint8 deviceName[GAP_DEVICE_NAME_LEN] = "TI BLE All";
    138            #elif ( HOST_CONFIG & CENTRAL_CFG )
    139              static uint8 deviceName[GAP_DEVICE_NAME_LEN] = "TI BLE Central";
    140            #else
    141              static uint8 deviceName[GAP_DEVICE_NAME_LEN] = "TI BLE Peripheral";
    142            #endif
    143            static uint16 appearance = 17;
    144          #endif
    145          
    146          #if defined ( GAP_BOND_MGR )

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    147            static uint8 hciExtProfileRole;
   \                     hciExtProfileRole:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    148          #endif
    149          
    150          /*********************************************************************
    151           * LOCAL FUNCTIONS
    152           */
    153          
    154          /*********************************************************************
    155           * NETWORK LAYER CALLBACKS
    156           */
    157          
    158          /*********************************************************************
    159           * PUBLIC FUNCTIONS
    160           */
    161          
    162          /*********************************************************************
    163           * LOCAL FUNCTION PROTOTYPES
    164           */
    165          static uint8 processExtMsg( hciPacket_t *pMsg );
    166          static uint8 processExMsgUTIL( uint8 cmdID, hciExtCmd_t *pCmd, uint8 *pRspDataLen );
    167          static uint8 checkNVLen( osalSnvId_t id, osalSnvLen_t len );
    168          static uint8 processExMsgL2CAP( uint8 cmdID, hciExtCmd_t *pCmd );
    169          static uint8 processExMsgATT( uint8 cmdID, hciExtCmd_t *pCmd );
    170          static uint8 processExMsgGATT( uint8 cmdID, hciExtCmd_t *pCmd, uint8 *pRspDataLen );
    171          static uint8 processExMsgGAP( uint8 cmdID, hciExtCmd_t *pCmd, uint8 *pRspDataLen );
    172          
    173          static uint8 processEvents( osal_event_hdr_t *pMsg );
    174          static uint8 *processEventsGAP( gapEventHdr_t *pMsg, uint8 *pOutMsg, uint8 *pMsgLen,
    175                                          uint8 *pAllocated, uint8 *pDeallocate );
    176          static uint8 *processEventsL2CAP( l2capSignalEvent_t *pPkt, uint8 *pOutMsg, uint8 *pMsgLen );
    177          static uint8 *processEventsGATT( gattMsgEvent_t *pPkt, uint8 *pMsg, uint8 *pMsgLen, uint8 *pAllocated );
    178          
    179          #ifndef GATT_DB_OFF_CHIP
    180          static uint8 *processEventsGATTServ( gattEventHdr_t *pPkt, uint8 *pMsg, uint8 *pMsgLen );
    181          #else
    182          static uint8 addAttrRec( gattService_t *pServ, uint8 *pUUID, uint8 len,
    183                                   uint8 permissions, uint16 *pTotalAttrs, uint8 *pRspDataLen );
    184          static void freeAttrRecs( gattService_t *pServ );
    185          static const uint8 *findUUIDRec( uint8 *pUUID, uint8 len );
    186          #endif // !GATT_DB_OFF_CHIP
    187          
    188          static uint8 buildHCIExtHeader( uint8 *pBuf, uint16 event, uint8 status, uint16 connHandle );
    189          static uint8 mapATT2BLEStatus( uint8 status );
    190          
    191          /*********************************************************************
    192           * @fn      HCI_EXT_App_Init
    193           *
    194           * @brief   Initialization function for the HCI Ext App Task.
    195           *          This is called during initialization and should contain
    196           *          any application specific initialization (ie. hardware
    197           *          initialization/setup, table initialization, power up
    198           *          notificaiton ... ).
    199           *
    200           * @param   task_id - the ID assigned by OSAL.  This ID should be
    201           *                    used to send messages and set timers.
    202           *
    203           * @return  none
    204           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    205          void HCI_EXT_App_Init( uint8 task_id )
   \                     HCI_EXT_App_Init:
    206          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
    207            hciExtApp_TaskID = task_id;
   \   000006   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000009   F0           MOVX    @DPTR,A
    208          
    209            HCI_ExtTaskRegister( hciExtApp_TaskID );
   \   00000A                ; Setup parameters for call to function HCI_ExtTaskRegister
   \   00000A   12....       LCALL   ??HCI_ExtTaskRegister?relay; Banked call to: HCI_ExtTaskRegister
    210          
    211            // Register for unwanted HCI messages
    212            GAP_RegisterForHCIMsgs( hciExtApp_TaskID );
   \   00000D                ; Setup parameters for call to function GAP_RegisterForHCIMsgs
   \   00000D   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000010   E0           MOVX    A,@DPTR
   \   000011   F9           MOV     R1,A
   \   000012   12....       LCALL   ??GAP_RegisterForHCIMsgs?relay; Banked call to: GAP_RegisterForHCIMsgs
    213          
    214            // Initialize GATT Client
    215            VOID GATT_InitClient();
   \   000015                ; Setup parameters for call to function GATT_InitClient
   \   000015   12....       LCALL   ??GATT_InitClient?relay; Banked call to: GATT_InitClient
    216          
    217            // Register to receive incoming ATT Indications/Notifications
    218            GATT_RegisterForInd( hciExtApp_TaskID );
   \   000018                ; Setup parameters for call to function GATT_RegisterForInd
   \   000018   90....       MOV     DPTR,#hciExtApp_TaskID
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F9           MOV     R1,A
   \   00001D   12....       LCALL   ??GATT_RegisterForInd?relay; Banked call to: GATT_RegisterForInd
    219          
    220          #if !defined ( GATT_DB_OFF_CHIP )
    221            // Register with GATT Server App for event messages
    222            GATTServApp_RegisterForMsg( hciExtApp_TaskID );
    223          
    224            #if defined ( GATT_QUAL )
    225              VOID GATTQual_AddService( GATT_ALL_SERVICES ); // Includes GAP and GATT Services
    226            #else
    227              // Add our services to GATT Server
    228              VOID GGS_AddService( GATT_ALL_SERVICES );
    229              VOID GATTServApp_AddService( GATT_ALL_SERVICES );
    230              #if defined ( GATT_TEST )
    231                VOID GATTTest_AddService( GATT_ALL_SERVICES );
    232              #endif
    233            #endif
    234          
    235            VOID GGS_SetParameter( GGS_DEVICE_NAME_ATT, osal_strlen((char *)deviceName) , deviceName );
    236            VOID GGS_SetParameter( GGS_APPEARANCE_ATT, sizeof( uint16 ), (void*)&appearance );
    237          #else
    238            // Register with GATT Server for GATT messages
    239            GATT_RegisterForReq( hciExtApp_TaskID );
   \   000020                ; Setup parameters for call to function GATT_RegisterForReq
   \   000020   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F9           MOV     R1,A
   \   000025   12....       LCALL   ??GATT_RegisterForReq?relay; Banked call to: GATT_RegisterForReq
    240          #endif // GATT_DB_OFF_CHIP
    241          
    242            // Enable the Host to Application flow control (if required by the App)
    243            //GATT_SetHostToAppFlowCtrl( TRUE );
    244          
    245          #if (defined HAL_LCD) && (HAL_LCD == TRUE)
    246          
    247            HalLcdWriteString( "  TI BLEv1.4", HAL_LCD_LINE_1 );
    248            HalLcdWriteString( "  HostTestApp", HAL_LCD_LINE_2 );
    249            #if ( ( HOST_CONFIG & CENTRAL_CFG ) && ( HOST_CONFIG & PERIPHERAL_CFG ) )
    250              HalLcdWriteString( "      All", HAL_LCD_LINE_3 );
    251            #elif ( ( HOST_CONFIG & CENTRAL_CFG ) && ( HOST_CONFIG & BROADCASTER_CFG ) )
    252              HalLcdWriteString( "  Cent+Bcast", HAL_LCD_LINE_3 );
    253            #elif ( ( HOST_CONFIG & PERIPHERAL_CFG ) && ( HOST_CONFIG & OBSERVER_CFG ) )
    254              HalLcdWriteString( "  Peri+Observ", HAL_LCD_LINE_3 );
    255            #elif ( HOST_CONFIG & CENTRAL_CFG )
    256              HalLcdWriteString( "    Central", HAL_LCD_LINE_3 );
    257            #else
    258              HalLcdWriteString( "  Peripheral", HAL_LCD_LINE_3 );
    259            #endif
    260          
    261          #endif // (defined HAL_LCD) && (HAL_LCD == TRUE)
    262          
    263            VOID osal_snv_read( BLE_NVID_IRK, KEYLEN, IRK );
   \   000028                ; Setup parameters for call to function osal_snv_read
   \   000028   7C..         MOV     R4,#IRK & 0xff
   \   00002A   7D..         MOV     R5,#(IRK >> 8) & 0xff
   \   00002C   7A10         MOV     R2,#0x10
   \   00002E   7902         MOV     R1,#0x2
   \   000030   12....       LCALL   ??osal_snv_read?relay; Banked call to: osal_snv_read
    264            VOID osal_snv_read( BLE_NVID_CSRK, KEYLEN, SRK );
   \   000033                ; Setup parameters for call to function osal_snv_read
   \   000033   7C..         MOV     R4,#SRK & 0xff
   \   000035   7D..         MOV     R5,#(SRK >> 8) & 0xff
   \   000037   7A10         MOV     R2,#0x10
   \   000039   7903         MOV     R1,#0x3
   \   00003B   12....       LCALL   ??osal_snv_read?relay; Banked call to: osal_snv_read
    265            VOID osal_snv_read( BLE_NVID_SIGNCOUNTER, sizeof( uint32 ), &hciExtSignCounter );
   \   00003E                ; Setup parameters for call to function osal_snv_read
   \   00003E   7C..         MOV     R4,#hciExtSignCounter & 0xff
   \   000040   7D..         MOV     R5,#(hciExtSignCounter >> 8) & 0xff
   \   000042   7A04         MOV     R2,#0x4
   \   000044   7904         MOV     R1,#0x4
   \   000046   12....       LCALL   ??osal_snv_read?relay; Banked call to: osal_snv_read
    266          }
   \   000049                REQUIRE ?Subroutine0
   \   000049                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    267          
    268          /*********************************************************************
    269           * @fn      HCI_EXT_App_ProcessEvent
    270           *
    271           * @brief   HCI Extension App Task event processor.  This function
    272           *          is called to process all events for the task.  Events
    273           *          include timers, messages and any other user defined events.
    274           *
    275           * @param   task_id  - The OSAL assigned task ID.
    276           * @param   events - events to process.  This is a bit map and can
    277           *                   contain more than one event.
    278           *
    279           * @return  none
    280           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    281          uint16 HCI_EXT_App_ProcessEvent( uint8 task_id, uint16 events )
   \                     HCI_EXT_App_ProcessEvent:
    282          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0,R2
   \   000007   8B..         MOV     ?V1,R3
    283            if ( events & SYS_EVENT_MSG )
   \   000009   EB           MOV     A,R3
   \   00000A   5480         ANL     A,#0x80
   \   00000C   6071         JZ      ??HCI_EXT_App_ProcessEvent_0
    284            {
    285              hciPacket_t *pMsg;
    286          
    287              if ( (pMsg = ( hciPacket_t *)osal_msg_receive( hciExtApp_TaskID )) != NULL )
   \   00000E                ; Setup parameters for call to function osal_msg_receive
   \   00000E   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000011   E0           MOVX    A,@DPTR
   \   000012   F9           MOV     R1,A
   \   000013   12....       LCALL   ??osal_msg_receive?relay; Banked call to: osal_msg_receive
   \   000016   8A..         MOV     ?V2,R2
   \   000018   8B..         MOV     ?V3,R3
   \   00001A   AE..         MOV     R6,?V2
   \   00001C   AF..         MOV     R7,?V3
   \   00001E   EE           MOV     A,R6
   \   00001F   4F           ORL     A,R7
   \   000020   6055         JZ      ??HCI_EXT_App_ProcessEvent_1
    288              {
    289                uint8 dealloc = TRUE;
    290          
    291                // Process incoming messages
    292                switch ( pMsg->hdr.event )
   \   000022   8E82         MOV     DPL,R6
   \   000024   8F83         MOV     DPH,R7
   \   000026   E0           MOVX    A,@DPTR
   \   000027   246F         ADD     A,#0x6f
   \   000029   6009         JZ      ??HCI_EXT_App_ProcessEvent_2
   \   00002B   24FE         ADD     A,#-0x2
   \   00002D   703B         JNZ     ??HCI_EXT_App_ProcessEvent_3
    293                {
    294                  // Incoming HCI extension message
    295                  case HCI_EXT_CMD_EVENT:
    296                    dealloc = processExtMsg( pMsg );
   \   00002F                ; Setup parameters for call to function processExtMsg
   \   00002F   12....       LCALL   ??processExtMsg?relay; Banked call to: processExtMsg
   \   000032   8039         SJMP    ??HCI_EXT_App_ProcessEvent_4
    297                    break;
    298          
    299                  case HCI_GAP_EVENT_EVENT:
    300                    {
    301                      if ( pMsg->hdr.status == HCI_COMMAND_COMPLETE_EVENT_CODE )
   \                     ??HCI_EXT_App_ProcessEvent_2:
   \   000034   A3           INC     DPTR
   \   000035   E0           MOVX    A,@DPTR
   \   000036   640E         XRL     A,#0xe
   \   000038   7036         JNZ     ??HCI_EXT_App_ProcessEvent_5
    302                      {
    303                        hciEvt_CmdComplete_t *pkt = (hciEvt_CmdComplete_t *)pMsg;
    304                        osal_msg_hdr_t *msgHdr;
    305                        uint8 len;
    306          
    307                        msgHdr = (osal_msg_hdr_t *)pMsg;
    308                        msgHdr--; // Backup to the msg header
    309          
    310                        len = (uint8)(msgHdr->len - sizeof ( hciEvt_CmdComplete_t ));
    311          
    312                        HCI_SendCommandCompleteEvent( HCI_COMMAND_COMPLETE_EVENT_CODE, pkt->cmdOpcode, len, pkt->pReturnParam );
   \   00003A                ; Setup parameters for call to function HCI_SendCommandCompleteEvent
   \   00003A   8E82         MOV     DPL,R6
   \   00003C   8F83         MOV     DPH,R7
   \   00003E   A3           INC     DPTR
   \   00003F   A3           INC     DPTR
   \   000040   A3           INC     DPTR
   \   000041   A3           INC     DPTR
   \   000042   A3           INC     DPTR
   \   000043   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000046   EE           MOV     A,R6
   \   000047   24FD         ADD     A,#-0x3
   \   000049   F582         MOV     DPL,A
   \   00004B   EF           MOV     A,R7
   \   00004C   34FF         ADDC    A,#-0x1
   \   00004E   F583         MOV     DPH,A
   \   000050   E0           MOVX    A,@DPTR
   \   000051   24F9         ADD     A,#-0x7
   \   000053   FC           MOV     R4,A
   \   000054   8E82         MOV     DPL,R6
   \   000056   8F83         MOV     DPH,R7
   \   000058   A3           INC     DPTR
   \   000059   A3           INC     DPTR
   \   00005A   A3           INC     DPTR
   \   00005B   12....       LCALL   ?Subroutine54 & 0xFFFF
    313                      }
    314                    }
   \                     ??CrossCallReturnLabel_150:
   \   00005E   790E         MOV     R1,#0xe
   \   000060   12....       LCALL   ??HCI_SendCommandCompleteEvent?relay; Banked call to: HCI_SendCommandCompleteEvent
   \   000063   7402         MOV     A,#0x2
   \   000065   12....       LCALL   ?DEALLOC_XSTACK8
   \   000068   8006         SJMP    ??HCI_EXT_App_ProcessEvent_5
    315                    break;
    316          
    317                  default:
    318                    dealloc = processEvents( (osal_event_hdr_t *)pMsg );
   \                     ??HCI_EXT_App_ProcessEvent_3:
   \   00006A                ; Setup parameters for call to function processEvents
   \   00006A   12....       LCALL   ??processEvents?relay; Banked call to: processEvents
   \                     ??HCI_EXT_App_ProcessEvent_4:
   \   00006D   E9           MOV     A,R1
    319                    break;
    320                }
    321          
    322                // Release the OSAL message
    323                if ( dealloc )
   \   00006E   6007         JZ      ??HCI_EXT_App_ProcessEvent_1
    324                {
    325                  VOID osal_msg_deallocate( (uint8 *)pMsg );
   \                     ??HCI_EXT_App_ProcessEvent_5:
   \   000070                ; Setup parameters for call to function osal_msg_deallocate
   \   000070   EE           MOV     A,R6
   \   000071   FA           MOV     R2,A
   \   000072   EF           MOV     A,R7
   \   000073   FB           MOV     R3,A
   \   000074   12....       LCALL   ??osal_msg_deallocate?relay; Banked call to: osal_msg_deallocate
    326                }
    327              }
    328          
    329              // return unprocessed events
    330              return (events ^ SYS_EVENT_MSG);
   \                     ??HCI_EXT_App_ProcessEvent_1:
   \   000077   AA..         MOV     R2,?V0
   \   000079   E5..         MOV     A,?V1
   \   00007B   6480         XRL     A,#0x80
   \   00007D   8016         SJMP    ??HCI_EXT_App_ProcessEvent_6
    331            }
    332          
    333            if ( events & GAP_EVENT_SIGN_COUNTER_CHANGED )
   \                     ??HCI_EXT_App_ProcessEvent_0:
   \   00007F   EB           MOV     A,R3
   \   000080   5440         ANL     A,#0x40
   \   000082   6014         JZ      ??HCI_EXT_App_ProcessEvent_7
    334            {
    335              // Sign counter changed, save it to NV
    336              VOID osal_snv_write( BLE_NVID_SIGNCOUNTER, sizeof( uint32 ), &hciExtSignCounter );
   \   000084                ; Setup parameters for call to function osal_snv_write
   \   000084   7C..         MOV     R4,#hciExtSignCounter & 0xff
   \   000086   7D..         MOV     R5,#(hciExtSignCounter >> 8) & 0xff
   \   000088   7A04         MOV     R2,#0x4
   \   00008A   7904         MOV     R1,#0x4
   \   00008C   12....       LCALL   ??osal_snv_write?relay; Banked call to: osal_snv_write
    337          
    338              return ( events ^ GAP_EVENT_SIGN_COUNTER_CHANGED );
   \   00008F   AA..         MOV     R2,?V0
   \   000091   E5..         MOV     A,?V1
   \   000093   6440         XRL     A,#0x40
   \                     ??HCI_EXT_App_ProcessEvent_6:
   \   000095   FB           MOV     R3,A
   \   000096   8004         SJMP    ??HCI_EXT_App_ProcessEvent_8
    339            }
    340          
    341            // Discard unknown events
    342            return 0;
   \                     ??HCI_EXT_App_ProcessEvent_7:
   \   000098   7A00         MOV     R2,#0x0
   \   00009A   7B00         MOV     R3,#0x0
   \                     ??HCI_EXT_App_ProcessEvent_8:
   \   00009C   02....       LJMP    ??Subroutine148_0 & 0xFFFF
    343          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine54:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine148_0:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    344          
    345          /*********************************************************************
    346           * @fn      processExtMsg
    347           *
    348           * @brief   Parse and process incoming HCI extension messages.
    349           *
    350           * @param   pMsg - incoming HCI extension message.
    351           *
    352           * @return  none
    353           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    354          static uint8 processExtMsg( hciPacket_t *pMsg )
   \                     processExtMsg:
    355          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 7
   \   000005   74F9         MOV     A,#-0x7
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    356            uint8 deallocateIncoming;
    357            bStatus_t stat = SUCCESS;
    358            uint8 rspDataLen = 0;
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   12....       LCALL   ?Subroutine39 & 0xFFFF
    359            hciExtCmd_t msg;
    360            uint8 *pBuf = pMsg->pData;
   \                     ??CrossCallReturnLabel_283:
   \   000017   12....       LCALL   ?Subroutine72 & 0xFFFF
    361          
    362            // Parse the header
    363            msg.pktType = *pBuf++;
   \                     ??CrossCallReturnLabel_191:
   \   00001A   C0E0         PUSH    A
   \   00001C   7401         MOV     A,#0x1
   \   00001E   12....       LCALL   ?XSTACK_DISP0_8
   \   000021   D0E0         POP     A
   \   000023   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000026   A882         MOV     R0,DPL
   \   000028   A983         MOV     R1,DPH
    364            msg.opCode = BUILD_UINT16( pBuf[0], pBuf[1] );
   \   00002A   E0           MOVX    A,@DPTR
   \   00002B   FC           MOV     R4,A
   \   00002C   A3           INC     DPTR
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   FB           MOV     R3,A
   \   00002F   EC           MOV     A,R4
   \   000030   FA           MOV     R2,A
   \   000031   7402         MOV     A,#0x2
   \   000033   12....       LCALL   ?XSTACK_DISP0_8
   \   000036   EA           MOV     A,R2
   \   000037   F0           MOVX    @DPTR,A
   \   000038   A3           INC     DPTR
   \   000039   EB           MOV     A,R3
   \   00003A   F0           MOVX    @DPTR,A
    365            pBuf += 2;
   \   00003B   E8           MOV     A,R0
   \   00003C   2402         ADD     A,#0x2
   \   00003E   F8           MOV     R0,A
   \   00003F   5001         JNC     ??processExtMsg_0
   \   000041   09           INC     R1
    366          
    367            msg.len = *pBuf++;
   \                     ??processExtMsg_0:
   \   000042   8882         MOV     DPL,R0
   \   000044   8983         MOV     DPH,R1
   \   000046   E0           MOVX    A,@DPTR
   \   000047   C0E0         PUSH    A
   \   000049   7404         MOV     A,#0x4
   \   00004B   12....       LCALL   ?XSTACK_DISP0_8
   \   00004E   D0E0         POP     A
   \   000050   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000053   08           INC     R0
   \   000054   A983         MOV     R1,DPH
    368            msg.pData = pBuf;
   \   000056   7405         MOV     A,#0x5
   \   000058   12....       LCALL   ?XSTACK_DISP0_8
   \   00005B   12....       LCALL   ?Subroutine32 & 0xFFFF
    369          
    370            switch( msg.opCode >> 7 )
   \                     ??CrossCallReturnLabel_59:
   \   00005E   7402         MOV     A,#0x2
   \   000060   12....       LCALL   ?XSTACK_DISP0_8
   \   000063   E0           MOVX    A,@DPTR
   \   000064   F5..         MOV     ?V0,A
   \   000066   A3           INC     DPTR
   \   000067   E0           MOVX    A,@DPTR
   \   000068   85....       MOV     ?V2,?V0
   \   00006B   F5..         MOV     ?V3,A
   \   00006D   7407         MOV     A,#0x7
   \   00006F   78..         MOV     R0,#?V2
   \   000071   12....       LCALL   ?US_SHR
   \   000074   78..         MOV     R0,#?V2
   \   000076   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for processExtMsg>_0`:
   \   000079   0100         DW        1
   \   00007B   04           DB        4
   \   00007C   ....         DW        ??processExtMsg_1
   \   00007E   ....         DW        ??processExtMsg_2
   \   000080   ....         DW        ??processExtMsg_3
   \   000082   ....         DW        ??processExtMsg_4
   \   000084   ....         DW        ??processExtMsg_5
   \   000086   ....         DW        ??processExtMsg_6
    371            {
    372              case HCI_EXT_L2CAP_SUBGRP:
    373                stat = processExMsgL2CAP( (msg.opCode & 0x007F), &msg );
   \                     ??processExtMsg_2:
   \   000088                ; Setup parameters for call to function processExMsgL2CAP
   \   000088   7401         MOV     A,#0x1
   \   00008A   12....       LCALL   ?XSTACK_DISP101_8
   \   00008D   E5..         MOV     A,?V0
   \   00008F   547F         ANL     A,#0x7f
   \   000091   F9           MOV     R1,A
   \   000092   12....       LCALL   ??processExMsgL2CAP?relay; Banked call to: processExMsgL2CAP
   \   000095   8046         SJMP    ??processExtMsg_7
    374                break;
    375          
    376              case HCI_EXT_ATT_SUBGRP:
    377                stat = processExMsgATT( (msg.opCode & 0x007F), &msg );
   \                     ??processExtMsg_3:
   \   000097                ; Setup parameters for call to function processExMsgATT
   \   000097   7401         MOV     A,#0x1
   \   000099   12....       LCALL   ?XSTACK_DISP101_8
   \   00009C   E5..         MOV     A,?V0
   \   00009E   547F         ANL     A,#0x7f
   \   0000A0   F9           MOV     R1,A
   \   0000A1   12....       LCALL   ??processExMsgATT?relay; Banked call to: processExMsgATT
   \   0000A4   8037         SJMP    ??processExtMsg_7
    378                break;
    379          
    380              case HCI_EXT_GATT_SUBGRP:
    381                stat = processExMsgGATT( (msg.opCode & 0x007F), &msg, &rspDataLen );
   \                     ??processExtMsg_4:
   \   0000A6                ; Setup parameters for call to function processExMsgGATT
   \   0000A6   AC..         MOV     R4,?XSP + 0
   \   0000A8   AD..         MOV     R5,?XSP + 1
   \   0000AA   7401         MOV     A,#0x1
   \   0000AC   12....       LCALL   ?XSTACK_DISP101_8
   \   0000AF   E5..         MOV     A,?V0
   \   0000B1   547F         ANL     A,#0x7f
   \   0000B3   F9           MOV     R1,A
   \   0000B4   12....       LCALL   ??processExMsgGATT?relay; Banked call to: processExMsgGATT
   \   0000B7   8024         SJMP    ??processExtMsg_7
    382                break;
    383          
    384              case HCI_EXT_GAP_SUBGRP:
    385                stat = processExMsgGAP( (msg.opCode & 0x007F), &msg, &rspDataLen );
   \                     ??processExtMsg_5:
   \   0000B9                ; Setup parameters for call to function processExMsgGAP
   \   0000B9   AC..         MOV     R4,?XSP + 0
   \   0000BB   AD..         MOV     R5,?XSP + 1
   \   0000BD   7401         MOV     A,#0x1
   \   0000BF   12....       LCALL   ?XSTACK_DISP101_8
   \   0000C2   E5..         MOV     A,?V0
   \   0000C4   547F         ANL     A,#0x7f
   \   0000C6   F9           MOV     R1,A
   \   0000C7   12....       LCALL   ??processExMsgGAP?relay; Banked call to: processExMsgGAP
   \   0000CA   8011         SJMP    ??processExtMsg_7
    386                break;
    387          
    388              case HCI_EXT_UTIL_SUBGRP:
    389                stat = processExMsgUTIL( (msg.opCode & 0x007F), &msg, &rspDataLen );
   \                     ??processExtMsg_6:
   \   0000CC                ; Setup parameters for call to function processExMsgUTIL
   \   0000CC   AC..         MOV     R4,?XSP + 0
   \   0000CE   AD..         MOV     R5,?XSP + 1
   \   0000D0   7401         MOV     A,#0x1
   \   0000D2   12....       LCALL   ?XSTACK_DISP101_8
   \   0000D5   E5..         MOV     A,?V0
   \   0000D7   547F         ANL     A,#0x7f
   \   0000D9   F9           MOV     R1,A
   \   0000DA   12....       LCALL   ??processExMsgUTIL?relay; Banked call to: processExMsgUTIL
   \                     ??processExtMsg_7:
   \   0000DD   E9           MOV     A,R1
   \   0000DE   F5..         MOV     ?V0,A
    390                break;
   \   0000E0   8003         SJMP    ??processExtMsg_8
    391          
    392              default:
    393                stat = FAILURE;
   \                     ??processExtMsg_1:
   \   0000E2   75..01       MOV     ?V0,#0x1
    394                break;
    395            }
    396          
    397            // Deallocate here to free up heap space for the serial message set out HCI.
    398            VOID osal_msg_deallocate( (uint8 *)pMsg );
   \                     ??processExtMsg_8:
   \   0000E5                ; Setup parameters for call to function osal_msg_deallocate
   \   0000E5   EE           MOV     A,R6
   \   0000E6   FA           MOV     R2,A
   \   0000E7   EF           MOV     A,R7
   \   0000E8   FB           MOV     R3,A
   \   0000E9   12....       LCALL   ??osal_msg_deallocate?relay; Banked call to: osal_msg_deallocate
    399            deallocateIncoming = FALSE;
    400          
    401            // Send back an immediate response
    402            rspBuf[0] = LO_UINT16( HCI_EXT_GAP_CMD_STATUS_EVENT );
   \   0000EC   90....       MOV     DPTR,#rspBuf
   \   0000EF   747F         MOV     A,#0x7f
   \   0000F1   12....       LCALL   ?Subroutine40 & 0xFFFF
    403            rspBuf[1] = HI_UINT16( HCI_EXT_GAP_CMD_STATUS_EVENT );
   \                     ??CrossCallReturnLabel_80:
   \   0000F4   F0           MOVX    @DPTR,A
    404            rspBuf[2] = stat;
   \   0000F5   E5..         MOV     A,?V0
   \   0000F7   A3           INC     DPTR
   \   0000F8   F0           MOVX    @DPTR,A
    405            rspBuf[3] = LO_UINT16( 0xFC00 | msg.opCode );
   \   0000F9   7402         MOV     A,#0x2
   \   0000FB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000FE   E0           MOVX    A,@DPTR
   \   0000FF   90....       MOV     DPTR,#rspBuf + 3
   \   000102   F0           MOVX    @DPTR,A
    406            rspBuf[4] = HI_UINT16( 0xFC00 | msg.opCode );
   \   000103   7402         MOV     A,#0x2
   \   000105   12....       LCALL   ?XSTACK_DISP0_8
   \   000108   A3           INC     DPTR
   \   000109   E0           MOVX    A,@DPTR
   \   00010A   44FC         ORL     A,#0xfc
   \   00010C   90....       MOV     DPTR,#rspBuf + 4
   \   00010F   12....       LCALL   ?Subroutine42 & 0xFFFF
    407            rspBuf[5] = rspDataLen;
   \                     ??CrossCallReturnLabel_89:
   \   000112   90....       MOV     DPTR,#rspBuf + 5
   \   000115   F0           MOVX    @DPTR,A
    408          
    409            // IMPORTANT!! Fill in Payload (if needed) in case statement
    410          
    411            HCI_SendControllerToHostEvent( HCI_VE_EVENT_CODE, (6 + rspDataLen), rspBuf );
   \   000116                ; Setup parameters for call to function HCI_SendControllerToHostEvent
   \   000116   7C..         MOV     R4,#rspBuf & 0xff
   \   000118   7D..         MOV     R5,#(rspBuf >> 8) & 0xff
   \   00011A   85..82       MOV     DPL,?XSP + 0
   \   00011D   85..83       MOV     DPH,?XSP + 1
   \   000120   E0           MOVX    A,@DPTR
   \   000121   2406         ADD     A,#0x6
   \   000123   FA           MOV     R2,A
   \   000124   79FF         MOV     R1,#-0x1
   \   000126   12....       LCALL   ??HCI_SendControllerToHostEvent?relay; Banked call to: HCI_SendControllerToHostEvent
    412          
    413            return ( deallocateIncoming );
   \   000129   7900         MOV     R1,#0x0
   \   00012B   7407         MOV     A,#0x7
   \   00012D   02....       LJMP    ?Subroutine1 & 0xFFFF
    414          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine39:
   \   000000   E4           CLR     A
   \   000001                REQUIRE ??Subroutine139_0
   \   000001                ; // Fall through to label ??Subroutine139_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine139_0:
   \   000000   12....       LCALL   ?Subroutine103 & 0xFFFF
   \                     ??CrossCallReturnLabel_290:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine103:
   \   000000   12....       LCALL   ?Subroutine125 & 0xFFFF
   \                     ??CrossCallReturnLabel_293:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine72:
   \   000000   A3           INC     DPTR
   \   000001   12....       LCALL   ??Subroutine170_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_443:
   \   000004   8882         MOV     DPL,R0
   \   000006   8983         MOV     DPH,R1
   \   000008   E0           MOVX    A,@DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine125:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine42:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine148_0
   \   000003                ; // Fall through to label ??Subroutine148_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine159_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine40:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   7406         MOV     A,#0x6
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8882         MOV     DPL,R0
   \   000003   8983         MOV     DPH,R1
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine170_0:
   \   000000   12....       LCALL   ??Subroutine159_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_453:
   \   000003   F9           MOV     R1,A
   \   000004   22           RET
    415          
    416          /*********************************************************************
    417           * @fn      processExMsgUTIL
    418           *
    419           * @brief   Parse and process incoming HCI extension UTIL messages.
    420           *
    421           * @param   cmdID - incoming HCI extension command ID.
    422           * @param   pCmd - incoming HCI extension message.
    423           * @param   pRspDataLen - response data length to be returned.
    424           *
    425           * @return  SUCCESS, INVALIDPARAMETER and FAILURE.
    426           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    427          static uint8 processExMsgUTIL( uint8 cmdID, hciExtCmd_t *pCmd, uint8 *pRspDataLen )
   \                     processExMsgUTIL:
    428          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   85..82       MOV     DPL,?XSP + 0
   \   00000E   85..83       MOV     DPH,?XSP + 1
   \   000011   12....       LCALL   ?Subroutine105 & 0xFFFF
   \                     ??CrossCallReturnLabel_249:
   \   000014   8C..         MOV     ?V2,R4
   \   000016   8D..         MOV     ?V3,R5
    429            uint8 *pBuf = pCmd->pData;
   \   000018   A3           INC     DPTR
   \   000019   A3           INC     DPTR
   \   00001A   A3           INC     DPTR
   \   00001B   A3           INC     DPTR
   \   00001C   E0           MOVX    A,@DPTR
   \   00001D   FE           MOV     R6,A
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   FF           MOV     R7,A
    430            bStatus_t stat = SUCCESS;
    431          
    432            *pRspDataLen = 0;
   \   000021   8C82         MOV     DPL,R4
   \   000023   8D83         MOV     DPH,R5
   \   000025   12....       LCALL   ?Subroutine39 & 0xFFFF
    433          
    434            switch( cmdID )
   \                     ??CrossCallReturnLabel_284:
   \   000028   8582..       MOV     ?V0,DPL
   \   00002B   8583..       MOV     ?V1,DPH
   \   00002E   85..82       MOV     DPL,?XSP + 0
   \   000031   85..83       MOV     DPH,?XSP + 1
   \   000034   E0           MOVX    A,@DPTR
   \   000035   14           DEC     A
   \   000036   600C         JZ      ??processExMsgUTIL_0
   \   000038   14           DEC     A
   \   000039   604B         JZ      ??processExMsgUTIL_1
   \   00003B   14           DEC     A
   \   00003C   7003         JNZ     $+5
   \   00003E   02....       LJMP    ??processExMsgUTIL_2 & 0xFFFF
   \   000041   02....       LJMP    ??processExMsgUTIL_3 & 0xFFFF
    435            {
    436              case HCI_EXT_UTIL_NV_READ:
    437                {
    438                  osalSnvId_t id  = pBuf[0];
   \                     ??processExMsgUTIL_0:
   \   000044   8E82         MOV     DPL,R6
   \   000046   8F83         MOV     DPH,R7
   \   000048   E0           MOVX    A,@DPTR
   \   000049   FE           MOV     R6,A
    439                  osalSnvLen_t len = pBuf[1];
   \   00004A   85..82       MOV     DPL,?V0
   \   00004D   85..83       MOV     DPH,?V1
   \   000050   E0           MOVX    A,@DPTR
   \   000051   FF           MOV     R7,A
    440          
    441                  // This has a limitation of only allowing a max data length because of the fixed buffer.
    442                  if ( (len < MAX_RSP_DATA_LEN) && (checkNVLen( id, len ) == SUCCESS) )
   \   000052   C3           CLR     C
   \   000053   9432         SUBB    A,#0x32
   \   000055   4003         JC      $+5
   \   000057   02....       LJMP    ??processExMsgUTIL_4 & 0xFFFF
   \   00005A                ; Setup parameters for call to function checkNVLen
   \   00005A   EF           MOV     A,R7
   \   00005B   FA           MOV     R2,A
   \   00005C   EE           MOV     A,R6
   \   00005D   F9           MOV     R1,A
   \   00005E   12....       LCALL   ??checkNVLen?relay   ; Banked call to: checkNVLen
   \   000061   E9           MOV     A,R1
   \   000062   6003         JZ      $+5
   \   000064   02....       LJMP    ??processExMsgUTIL_4 & 0xFFFF
    443                  {
    444                    stat = osal_snv_read( id, len, &rspBuf[RSP_PAYLOAD_IDX] );
   \   000067                ; Setup parameters for call to function osal_snv_read
   \   000067   7C..         MOV     R4,#(rspBuf + 6) & 0xff
   \   000069   7D..         MOV     R5,#((rspBuf + 6) >> 8) & 0xff
   \   00006B   EF           MOV     A,R7
   \   00006C   FA           MOV     R2,A
   \   00006D   EE           MOV     A,R6
   \   00006E   F9           MOV     R1,A
   \   00006F   12....       LCALL   ??osal_snv_read?relay; Banked call to: osal_snv_read
   \   000072   E9           MOV     A,R1
   \   000073   FA           MOV     R2,A
    445                    if ( stat == SUCCESS )
   \   000074   6003         JZ      $+5
   \   000076   02....       LJMP    ??processExMsgUTIL_5 & 0xFFFF
    446                    {
    447                      *pRspDataLen = pBuf[1];
   \   000079   85..82       MOV     DPL,?V0
   \   00007C   85..83       MOV     DPH,?V1
   \   00007F   12....       LCALL   ?Subroutine108 & 0xFFFF
    448                    }
    449                  }
    450                  else
    451                  {
    452                    stat = INVALIDPARAMETER;
    453                  }
    454                }
   \                     ??CrossCallReturnLabel_253:
   \   000082   F0           MOVX    @DPTR,A
   \   000083   02....       LJMP    ??processExMsgUTIL_5 & 0xFFFF
    455                break;
    456          
    457              case HCI_EXT_UTIL_NV_WRITE:
    458                {
    459                  osalSnvId_t id  = pBuf[0];
   \                     ??processExMsgUTIL_1:
   \   000086   8E82         MOV     DPL,R6
   \   000088   8F83         MOV     DPH,R7
   \   00008A   E0           MOVX    A,@DPTR
   \   00008B   F5..         MOV     ?V2,A
    460                  osalSnvLen_t len = pBuf[1];
   \   00008D   85..82       MOV     DPL,?V0
   \   000090   85..83       MOV     DPH,?V1
   \   000093   E0           MOVX    A,@DPTR
   \   000094   F5..         MOV     ?V3,A
    461                  if ( checkNVLen( id, len ) == SUCCESS )
   \   000096                ; Setup parameters for call to function checkNVLen
   \   000096   FA           MOV     R2,A
   \   000097   A9..         MOV     R1,?V2
   \   000099   12....       LCALL   ??checkNVLen?relay   ; Banked call to: checkNVLen
   \   00009C   E9           MOV     A,R1
   \   00009D   6003         JZ      $+5
   \   00009F   02....       LJMP    ??processExMsgUTIL_4 & 0xFFFF
    462                  {
    463                    stat = osal_snv_write( id, len, &pBuf[2] );
   \   0000A2   EE           MOV     A,R6
   \   0000A3   2402         ADD     A,#0x2
   \   0000A5   F5..         MOV     ?V0,A
   \   0000A7   E4           CLR     A
   \   0000A8   3F           ADDC    A,R7
   \   0000A9   F5..         MOV     ?V1,A
   \   0000AB                ; Setup parameters for call to function osal_snv_write
   \   0000AB   AC..         MOV     R4,?V0
   \   0000AD   FD           MOV     R5,A
   \   0000AE   AA..         MOV     R2,?V3
   \   0000B0   A9..         MOV     R1,?V2
   \   0000B2   12....       LCALL   ??osal_snv_write?relay; Banked call to: osal_snv_write
   \   0000B5   E9           MOV     A,R1
   \   0000B6   FA           MOV     R2,A
    464          
    465                    if ( id == BLE_NVID_SIGNCOUNTER )
   \   0000B7   7404         MOV     A,#0x4
   \   0000B9   65..         XRL     A,?V2
   \   0000BB   706D         JNZ     ??processExMsgUTIL_5
    466                    {
    467                      hciExtSignCounter = BUILD_UINT32(pBuf[2], pBuf[3], pBuf[4], pBuf[5]);
   \   0000BD   85..82       MOV     DPL,?V0
   \   0000C0   85..83       MOV     DPH,?V1
   \   0000C3   12....       LCALL   ?Subroutine114 & 0xFFFF
    468                    }
    469                  }
   \                     ??CrossCallReturnLabel_262:
   \   0000C6   8E82         MOV     DPL,R6
   \   0000C8   8F83         MOV     DPH,R7
   \   0000CA   A3           INC     DPTR
   \   0000CB   A3           INC     DPTR
   \   0000CC   A3           INC     DPTR
   \   0000CD   12....       LCALL   ?Subroutine73 & 0xFFFF
   \                     ??CrossCallReturnLabel_193:
   \   0000D0   7408         MOV     A,#0x8
   \   0000D2   78..         MOV     R0,#?V0
   \   0000D4   12....       LCALL   ?L_SHL
   \   0000D7   78..         MOV     R0,#?V4
   \   0000D9   79..         MOV     R1,#?V0
   \   0000DB   12....       LCALL   ?L_ADD
   \   0000DE   8E82         MOV     DPL,R6
   \   0000E0   8F83         MOV     DPH,R7
   \   0000E2   A3           INC     DPTR
   \   0000E3   A3           INC     DPTR
   \   0000E4   A3           INC     DPTR
   \   0000E5   A3           INC     DPTR
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   F5..         MOV     ?V0,A
   \   0000E9   E4           CLR     A
   \   0000EA   F5..         MOV     ?V1,A
   \   0000EC   7410         MOV     A,#0x10
   \   0000EE   78..         MOV     R0,#?V0
   \   0000F0   12....       LCALL   ?L_SHL
   \   0000F3   78..         MOV     R0,#?V4
   \   0000F5   79..         MOV     R1,#?V0
   \   0000F7   12....       LCALL   ?L_ADD
   \   0000FA   8E82         MOV     DPL,R6
   \   0000FC   8F83         MOV     DPH,R7
   \   0000FE   A3           INC     DPTR
   \   0000FF   A3           INC     DPTR
   \   000100   A3           INC     DPTR
   \   000101   A3           INC     DPTR
   \   000102   A3           INC     DPTR
   \   000103   E0           MOVX    A,@DPTR
   \   000104   F5..         MOV     ?V0,A
   \   000106   E4           CLR     A
   \   000107   F5..         MOV     ?V2,A
   \   000109   7418         MOV     A,#0x18
   \   00010B   78..         MOV     R0,#?V0
   \   00010D   12....       LCALL   ?L_SHL
   \   000110   78..         MOV     R0,#?V4
   \   000112   79..         MOV     R1,#?V0
   \   000114   12....       LCALL   ?L_ADD
   \   000117   90....       MOV     DPTR,#hciExtSignCounter
   \   00011A   78..         MOV     R0,#?V4
   \   00011C   12....       LCALL   ?L_MOV_TO_X
   \   00011F   8009         SJMP    ??processExMsgUTIL_5
    470                  else
    471                  {
    472                    stat = INVALIDPARAMETER;
    473                  }
    474                }
    475                break;
    476          
    477              case HCI_EXT_UTIL_FORCE_BOOT:
    478                {
    479                  extern void appForceBoot(void);
    480                  appForceBoot();
   \                     ??processExMsgUTIL_2:
   \   000121                ; Setup parameters for call to function appForceBoot
   \   000121   12....       LCALL   ??appForceBoot?relay ; Banked call to: appForceBoot
    481          
    482                  // Should never get here if SBL is present
    483                  stat = INVALIDPARAMETER;
    484                }
   \                     ??processExMsgUTIL_4:
   \   000124   7A02         MOV     R2,#0x2
   \   000126   8002         SJMP    ??processExMsgUTIL_5
    485                break;
    486          
    487              default:
    488                stat = FAILURE;
   \                     ??processExMsgUTIL_3:
   \   000128   7A01         MOV     R2,#0x1
    489                break;
    490            }
    491          
    492            return ( stat );
   \                     ??processExMsgUTIL_5:
   \   00012A   EA           MOV     A,R2
   \   00012B   F9           MOV     R1,A
   \   00012C   7401         MOV     A,#0x1
   \   00012E   02....       LJMP    ??Subroutine145_0 & 0xFFFF
    493          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine145_0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine146_0
   \   000003                ; // Fall through to label ??Subroutine146_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine146_0:
   \   000000   7F08         MOV     R7,#0x8
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine73:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0,A
   \   000003   E4           CLR     A
   \   000004   F5..         MOV     ?V1,A
   \   000006   F5..         MOV     ?V2,A
   \   000008   F5..         MOV     ?V3,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine114:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V4,A
   \   000003   E4           CLR     A
   \   000004   F5..         MOV     ?V5,A
   \   000006   F5..         MOV     ?V6,A
   \   000008   F5..         MOV     ?V7,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine105:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine108:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   85..82       MOV     DPL,?V2
   \   000004   85..83       MOV     DPH,?V3
   \   000007   22           RET
    494          
    495          /*********************************************************************
    496           * @fn      checkNVLen
    497           *
    498           * @brief   Checks the size of NV items.
    499           *
    500           * @param   id - NV ID.
    501           * @param   len - lengths in bytes of item.
    502           *
    503           * @return  SUCCESS, INVALIDPARAMETER or FAILURE
    504           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    505          static uint8 checkNVLen( osalSnvId_t id, osalSnvLen_t len )
   \                     checkNVLen:
    506          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
    507            uint8 stat = SUCCESS;
   \   000009   7900         MOV     R1,#0x0
    508          
    509            switch ( id )
   \   00000B   EF           MOV     A,R7
   \   00000C   24FE         ADD     A,#-0x2
   \   00000E   6008         JZ      ??checkNVLen_0
   \   000010   14           DEC     A
   \   000011   6005         JZ      ??checkNVLen_0
   \   000013   14           DEC     A
   \   000014   6009         JZ      ??checkNVLen_1
   \   000016   8010         SJMP    ??checkNVLen_2
    510            {
    511              case BLE_NVID_CSRK:
    512              case BLE_NVID_IRK:
    513                if ( len != KEYLEN )
   \                     ??checkNVLen_0:
   \   000018   7410         MOV     A,#0x10
   \   00001A   6E           XRL     A,R6
   \   00001B   7007         JNZ     ??checkNVLen_3
   \   00001D   8018         SJMP    ??checkNVLen_4
    514                {
    515                  stat = INVALIDPARAMETER;
    516                }
    517                break;
    518          
    519              case BLE_NVID_SIGNCOUNTER:
    520                if ( len != sizeof ( uint32 ) )
   \                     ??checkNVLen_1:
   \   00001F   7404         MOV     A,#0x4
   \   000021   6E           XRL     A,R6
   \   000022   6013         JZ      ??checkNVLen_4
    521                {
    522                  stat = INVALIDPARAMETER;
   \                     ??checkNVLen_3:
   \   000024   09           INC     R1
   \   000025   09           INC     R1
   \   000026   800F         SJMP    ??checkNVLen_4
    523                }
    524                break;
    525          
    526              default:
    527                stat = INVALIDPARAMETER;  // Initialize status to failure
   \                     ??checkNVLen_2:
   \   000028   09           INC     R1
   \   000029   09           INC     R1
    528          
    529          #if defined ( GAP_BOND_MGR )
    530                if ( (id >= BLE_NVID_GAP_BOND_START) && (id <= BLE_NVID_GAP_BOND_END) )
   \   00002A   74E0         MOV     A,#-0x20
   \   00002C   2F           ADD     A,R7
   \   00002D   C3           CLR     C
   \   00002E   9440         SUBB    A,#0x40
   \   000030   5005         JNC     ??checkNVLen_4
    531                {
    532                  stat = GAPBondMgr_CheckNVLen( id, len );
   \   000032                ; Setup parameters for call to function GAPBondMgr_CheckNVLen
   \   000032   EF           MOV     A,R7
   \   000033   F9           MOV     R1,A
   \   000034   12....       LCALL   ??GAPBondMgr_CheckNVLen?relay; Banked call to: GAPBondMgr_CheckNVLen
    533                }
    534          #endif
    535                break;
    536            }
    537          
    538            return ( stat );
   \                     ??checkNVLen_4:
   \   000037   02....       LJMP    ?Subroutine0 & 0xFFFF
    539          }
    540          
    541          /*********************************************************************
    542           * @fn      processExMsgL2CAP
    543           *
    544           * @brief   Parse and process incoming HCI extension L2CAP messages.
    545           *
    546           * @param   pCmd - incoming HCI extension message.
    547           *
    548           * @return  SUCCESS or FAILURE
    549           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    550          static uint8 processExMsgL2CAP( uint8 cmdID, hciExtCmd_t *pCmd )
   \                     processExMsgL2CAP:
    551          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   89..         MOV     ?V0,R1
    552            uint8 *pBuf = pCmd->pData;
   \   00000C   8A82         MOV     DPL,R2
   \   00000E   8B83         MOV     DPH,R3
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   12....       LCALL   ?Subroutine72 & 0xFFFF
    553            uint16 connHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??CrossCallReturnLabel_192:
   \   000016   FE           MOV     R6,A
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   FC           MOV     R4,A
   \   00001A   E4           CLR     A
   \   00001B   CC           XCH     A,R4
   \   00001C   FD           MOV     R5,A
   \   00001D   EE           MOV     A,R6
   \   00001E   2C           ADD     A,R4
   \   00001F   E4           CLR     A
   \   000020   3D           ADDC    A,R5
   \   000021   FF           MOV     R7,A
    554            l2capSignalCmd_t cmd;
    555            bStatus_t stat;
    556          
    557            switch( cmdID )
   \   000022   E8           MOV     A,R0
   \   000023   2402         ADD     A,#0x2
   \   000025   FC           MOV     R4,A
   \   000026   E4           CLR     A
   \   000027   39           ADDC    A,R1
   \   000028   FD           MOV     R5,A
   \   000029   E5..         MOV     A,?V0
   \   00002B   24F6         ADD     A,#-0xa
   \   00002D   6022         JZ      ??processExMsgL2CAP_0
   \   00002F   24F8         ADD     A,#-0x8
   \   000031   703C         JNZ     ??processExMsgL2CAP_1
    558            {
    559              case L2CAP_PARAM_UPDATE_REQ:
    560                stat = L2CAP_ParseParamUpdateReq( &cmd, &pBuf[2], pCmd->len-2 );
   \   000033                ; Setup parameters for call to function L2CAP_ParseParamUpdateReq
   \   000033   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   000036   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000039   7402         MOV     A,#0x2
   \   00003B   12....       LCALL   ?XSTACK_DISP101_8
   \   00003E   12....       LCALL   ??L2CAP_ParseParamUpdateReq?relay; Banked call to: L2CAP_ParseParamUpdateReq
   \   000041   7402         MOV     A,#0x2
   \   000043   12....       LCALL   ?DEALLOC_XSTACK8
   \   000046   E9           MOV     A,R1
    561                if ( stat == SUCCESS )
   \   000047   7028         JNZ     ??processExMsgL2CAP_2
    562                {
    563                  stat =  L2CAP_ConnParamUpdateReq( connHandle, &cmd.updateReq, hciExtApp_TaskID );
   \   000049                ; Setup parameters for call to function L2CAP_ConnParamUpdateReq
   \   000049   12....       LCALL   ?Subroutine47 & 0xFFFF
    564                }
   \                     ??CrossCallReturnLabel_298:
   \   00004C   12....       LCALL   ??L2CAP_ConnParamUpdateReq?relay; Banked call to: L2CAP_ConnParamUpdateReq
   \   00004F   8020         SJMP    ??processExMsgL2CAP_2
    565                break;
    566          
    567              case L2CAP_INFO_REQ:
    568                stat = L2CAP_ParseInfoReq( &cmd, &pBuf[2], pCmd->len-2 );
   \                     ??processExMsgL2CAP_0:
   \   000051                ; Setup parameters for call to function L2CAP_ParseInfoReq
   \   000051   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   000054   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000057   7402         MOV     A,#0x2
   \   000059   12....       LCALL   ?XSTACK_DISP101_8
   \   00005C   12....       LCALL   ??L2CAP_ParseInfoReq?relay; Banked call to: L2CAP_ParseInfoReq
   \   00005F   7402         MOV     A,#0x2
   \   000061   12....       LCALL   ?DEALLOC_XSTACK8
   \   000064   E9           MOV     A,R1
    569                if ( stat == SUCCESS )
   \   000065   700A         JNZ     ??processExMsgL2CAP_2
    570                {
    571                  stat = L2CAP_InfoReq( connHandle, &cmd.infoReq, hciExtApp_TaskID );
   \   000067                ; Setup parameters for call to function L2CAP_InfoReq
   \   000067   12....       LCALL   ?Subroutine47 & 0xFFFF
    572                }
   \                     ??CrossCallReturnLabel_299:
   \   00006A   12....       LCALL   ??L2CAP_InfoReq?relay; Banked call to: L2CAP_InfoReq
   \   00006D   8002         SJMP    ??processExMsgL2CAP_2
    573                break;
    574          
    575              default:
    576                stat = FAILURE;
   \                     ??processExMsgL2CAP_1:
   \   00006F   7901         MOV     R1,#0x1
    577                break;
    578            }
    579          
    580            return ( stat );
   \                     ??processExMsgL2CAP_2:
   \   000071   740C         MOV     A,#0xc
   \   000073   02....       LJMP    ?Subroutine1 & 0xFFFF
    581          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine47:
   \   000000   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000003                REQUIRE ??Subroutine140_0
   \   000003                ; // Fall through to label ??Subroutine140_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine140_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   AC..         MOV     R4,?XSP + 0
   \   000004   AD..         MOV     R5,?XSP + 1
   \   000006   EE           MOV     A,R6
   \   000007   FA           MOV     R2,A
   \   000008   EF           MOV     A,R7
   \   000009   FB           MOV     R3,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine44:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   24FE         ADD     A,#-0x2
   \   00000A   12....       LCALL   ?Subroutine120 & 0xFFFF
   \                     ??CrossCallReturnLabel_267:
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine120:
   \   000000   F5..         MOV     ?V2,A
   \   000002   E4           CLR     A
   \   000003   34FF         ADDC    A,#-0x1
   \   000005   F5..         MOV     ?V3,A
   \   000007   78..         MOV     R0,#?V2
   \   000009   22           RET
    582          
    583          /*********************************************************************
    584           * @fn      processExMsgATT
    585           *
    586           * @brief   Parse and process incoming HCI extension ATT messages.
    587           *
    588           * @param   pCmd - incoming HCI extension message.
    589           *
    590           * @return  SUCCESS, INVALIDPARAMETER, FAILURE,
    591           *          bleInvalidPDU, bleInsufficientAuthen,
    592           *          bleInsufficientKeySize, bleInsufficientEncrypt or bleMemAllocError
    593           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    594          static uint8 processExMsgATT( uint8 cmdID, hciExtCmd_t *pCmd )
   \                     processExMsgATT:
    595          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 26
   \   000005   74E6         MOV     A,#-0x1a
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7419         MOV     A,#0x19
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   E9           MOV     A,R1
   \   000010   12....       LCALL   ?Subroutine36 & 0xFFFF
    596            static uint8 numPrepareWrites = 0;
    597            static attPrepareWriteReq_t *pPrepareWrites = NULL;
    598            uint8 *pBuf = pCmd->pData;
   \                     ??CrossCallReturnLabel_74:
   \   000013   FC           MOV     R4,A
   \   000014   A3           INC     DPTR
   \   000015   E0           MOVX    A,@DPTR
   \   000016   FD           MOV     R5,A
    599            uint16 connHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \   000017   8C82         MOV     DPL,R4
   \   000019   8D83         MOV     DPH,R5
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   FE           MOV     R6,A
   \   00001D   A3           INC     DPTR
   \   00001E   E0           MOVX    A,@DPTR
   \   00001F   F8           MOV     R0,A
   \   000020   E4           CLR     A
   \   000021   C8           XCH     A,R0
   \   000022   F9           MOV     R1,A
   \   000023   EE           MOV     A,R6
   \   000024   28           ADD     A,R0
   \   000025   E4           CLR     A
   \   000026   39           ADDC    A,R1
   \   000027   FF           MOV     R7,A
    600            attMsg_t msg;
    601            bStatus_t stat;
    602          
    603            switch( cmdID )
   \   000028   75....       MOV     ?V6,#primaryServiceUUID & 0xff
   \   00002B   75....       MOV     ?V7,#(primaryServiceUUID >> 8) & 0xff
   \   00002E   EC           MOV     A,R4
   \   00002F   2403         ADD     A,#0x3
   \   000031   F5..         MOV     ?V4,A
   \   000033   E4           CLR     A
   \   000034   3D           ADDC    A,R5
   \   000035   F5..         MOV     ?V5,A
   \   000037   EC           MOV     A,R4
   \   000038   2402         ADD     A,#0x2
   \   00003A   F5..         MOV     ?V0,A
   \   00003C   E4           CLR     A
   \   00003D   3D           ADDC    A,R5
   \   00003E   F5..         MOV     ?V1,A
   \   000040   7419         MOV     A,#0x19
   \   000042   12....       LCALL   ?XSTACK_DISP0_8
   \   000045   E0           MOVX    A,@DPTR
   \   000046   12....       LCALL   ?UC_SWITCH_DENSE
   \                     `?<Jumptable for processExMsgATT>_0`:
   \   000049   01           DB        1
   \   00004A   1D           DB        29
   \   00004B   ....         DW        ??processExMsgATT_0
   \   00004D   ....         DW        ??processExMsgATT_1
   \   00004F   ....         DW        ??processExMsgATT_2
   \   000051   ....         DW        ??processExMsgATT_3
   \   000053   ....         DW        ??processExMsgATT_4
   \   000055   ....         DW        ??processExMsgATT_5
   \   000057   ....         DW        ??processExMsgATT_6
   \   000059   ....         DW        ??processExMsgATT_7
   \   00005B   ....         DW        ??processExMsgATT_8
   \   00005D   ....         DW        ??processExMsgATT_9
   \   00005F   ....         DW        ??processExMsgATT_10
   \   000061   ....         DW        ??processExMsgATT_11
   \   000063   ....         DW        ??processExMsgATT_12
   \   000065   ....         DW        ??processExMsgATT_13
   \   000067   ....         DW        ??processExMsgATT_14
   \   000069   ....         DW        ??processExMsgATT_15
   \   00006B   ....         DW        ??processExMsgATT_16
   \   00006D   ....         DW        ??processExMsgATT_17
   \   00006F   ....         DW        ??processExMsgATT_18
   \   000071   ....         DW        ??processExMsgATT_19
   \   000073   ....         DW        ??processExMsgATT_0
   \   000075   ....         DW        ??processExMsgATT_0
   \   000077   ....         DW        ??processExMsgATT_20
   \   000079   ....         DW        ??processExMsgATT_21
   \   00007B   ....         DW        ??processExMsgATT_22
   \   00007D   ....         DW        ??processExMsgATT_23
   \   00007F   ....         DW        ??processExMsgATT_0
   \   000081   ....         DW        ??processExMsgATT_24
   \   000083   ....         DW        ??processExMsgATT_0
   \   000085   ....         DW        ??processExMsgATT_25
   \   000087   ....         DW        ??processExMsgATT_26
    604            {
    605              case ATT_ERROR_RSP:
    606                stat = ATT_ParseErrorRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_1:
   \   000089                ; Setup parameters for call to function ATT_ParseErrorRsp
   \   000089   A8..         MOV     R0,?XSP + 0
   \   00008B   A9..         MOV     R1,?XSP + 1
   \   00008D   88..         MOV     ?V2,R0
   \   00008F   89..         MOV     ?V3,R1
   \   000091   78..         MOV     R0,#?V2
   \   000093   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000096   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_118:
   \   000099   12....       LCALL   ??ATT_ParseErrorRsp?relay; Banked call to: ATT_ParseErrorRsp
   \   00009C   7402         MOV     A,#0x2
   \   00009E   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000A1   E9           MOV     A,R1
   \   0000A2   F5..         MOV     ?V2,A
    607                if ( stat == SUCCESS )
   \   0000A4   6003         JZ      $+5
   \   0000A6   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    608                {
    609                  stat = ATT_ErrorRsp( connHandle, &msg.errorRsp );
   \   0000A9                ; Setup parameters for call to function ATT_ErrorRsp
   \   0000A9   AC..         MOV     R4,?XSP + 0
   \   0000AB   AD..         MOV     R5,?XSP + 1
   \   0000AD   EE           MOV     A,R6
   \   0000AE   FA           MOV     R2,A
   \   0000AF   EF           MOV     A,R7
   \   0000B0   FB           MOV     R3,A
   \   0000B1   12....       LCALL   ??ATT_ErrorRsp?relay ; Banked call to: ATT_ErrorRsp
   \   0000B4   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    610                }
    611                break;
    612          
    613              case ATT_EXCHANGE_MTU_REQ:
    614                stat = ATT_ParseExchangeMTUReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_2:
   \   0000B7                ; Setup parameters for call to function ATT_ParseExchangeMTUReq
   \   0000B7   A8..         MOV     R0,?XSP + 0
   \   0000B9   A9..         MOV     R1,?XSP + 1
   \   0000BB   88..         MOV     ?V2,R0
   \   0000BD   89..         MOV     ?V3,R1
   \   0000BF   78..         MOV     R0,#?V2
   \   0000C1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C4   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   0000C7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CA   0C           INC     R4
   \   0000CB   0C           INC     R4
   \   0000CC   AD..         MOV     R5,?V1
   \   0000CE   7A00         MOV     R2,#0x0
   \   0000D0   7900         MOV     R1,#0x0
   \   0000D2   12....       LCALL   ??ATT_ParseExchangeMTUReq?relay; Banked call to: ATT_ParseExchangeMTUReq
   \   0000D5   7404         MOV     A,#0x4
   \   0000D7   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000DA   E9           MOV     A,R1
   \   0000DB   F5..         MOV     ?V2,A
    615                if ( stat == SUCCESS )
   \   0000DD   6003         JZ      $+5
   \   0000DF   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    616                {
    617                  stat = GATT_ExchangeMTU( connHandle, &msg.exchangeMTUReq, hciExtApp_TaskID );
   \   0000E2                ; Setup parameters for call to function GATT_ExchangeMTU
   \   0000E2   12....       LCALL   ?Subroutine47 & 0xFFFF
    618                }
   \                     ??CrossCallReturnLabel_300:
   \   0000E5   12....       LCALL   ??GATT_ExchangeMTU?relay; Banked call to: GATT_ExchangeMTU
   \   0000E8   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    619                break;
    620          
    621              case ATT_EXCHANGE_MTU_RSP:
    622                stat = ATT_ParseExchangeMTURsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_3:
   \   0000EB                ; Setup parameters for call to function ATT_ParseExchangeMTURsp
   \   0000EB   A8..         MOV     R0,?XSP + 0
   \   0000ED   A9..         MOV     R1,?XSP + 1
   \   0000EF   88..         MOV     ?V2,R0
   \   0000F1   89..         MOV     ?V3,R1
   \   0000F3   78..         MOV     R0,#?V2
   \   0000F5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F8   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_119:
   \   0000FB   12....       LCALL   ??ATT_ParseExchangeMTURsp?relay; Banked call to: ATT_ParseExchangeMTURsp
   \   0000FE   7402         MOV     A,#0x2
   \   000100   12....       LCALL   ?DEALLOC_XSTACK8
   \   000103   E9           MOV     A,R1
   \   000104   F5..         MOV     ?V2,A
    623                if ( stat == SUCCESS )
   \   000106   6003         JZ      $+5
   \   000108   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    624                {
    625                  stat = ATT_ExchangeMTURsp( connHandle, &msg.exchangeMTURsp );
   \   00010B                ; Setup parameters for call to function ATT_ExchangeMTURsp
   \   00010B   AC..         MOV     R4,?XSP + 0
   \   00010D   AD..         MOV     R5,?XSP + 1
   \   00010F   EE           MOV     A,R6
   \   000110   FA           MOV     R2,A
   \   000111   EF           MOV     A,R7
   \   000112   FB           MOV     R3,A
   \   000113   12....       LCALL   ??ATT_ExchangeMTURsp?relay; Banked call to: ATT_ExchangeMTURsp
   \   000116   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    626                }
    627                break;
    628          
    629              case ATT_FIND_INFO_REQ:
    630                stat = ATT_ParseFindInfoReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_4:
   \   000119                ; Setup parameters for call to function ATT_ParseFindInfoReq
   \   000119   A8..         MOV     R0,?XSP + 0
   \   00011B   A9..         MOV     R1,?XSP + 1
   \   00011D   88..         MOV     ?V2,R0
   \   00011F   89..         MOV     ?V3,R1
   \   000121   78..         MOV     R0,#?V2
   \   000123   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000126   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000129   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012C   0C           INC     R4
   \   00012D   0C           INC     R4
   \   00012E   AD..         MOV     R5,?V1
   \   000130   7A00         MOV     R2,#0x0
   \   000132   7900         MOV     R1,#0x0
   \   000134   12....       LCALL   ??ATT_ParseFindInfoReq?relay; Banked call to: ATT_ParseFindInfoReq
   \   000137   7404         MOV     A,#0x4
   \   000139   12....       LCALL   ?DEALLOC_XSTACK8
   \   00013C   E9           MOV     A,R1
   \   00013D   F5..         MOV     ?V2,A
    631                if ( stat == SUCCESS )
   \   00013F   6003         JZ      $+5
   \   000141   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    632                {
    633                  stat = GATT_DiscAllCharDescs( connHandle, msg.findInfoReq.startHandle,
    634                                                msg.findInfoReq.endHandle, hciExtApp_TaskID );
   \   000144                ; Setup parameters for call to function GATT_DiscAllCharDescs
   \   000144   7402         MOV     A,#0x2
   \   000146   12....       LCALL   ?XSTACK_DISP0_8
   \   000149   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00014C   90....       MOV     DPTR,#hciExtApp_TaskID
   \   00014F   E0           MOVX    A,@DPTR
   \   000150   F9           MOV     R1,A
   \   000151   7402         MOV     A,#0x2
   \   000153   12....       LCALL   ?XSTACK_DISP0_8
   \   000156   12....       LCALL   ??Subroutine144_0 & 0xFFFF
    635                }
   \                     ??CrossCallReturnLabel_322:
   \   000159   12....       LCALL   ??GATT_DiscAllCharDescs?relay; Banked call to: GATT_DiscAllCharDescs
   \   00015C   02....       LJMP    ??processExMsgATT_29 & 0xFFFF
    636                break;
    637          
    638              case ATT_FIND_INFO_RSP:
    639                stat = ATT_ParseFindInfoRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_5:
   \   00015F                ; Setup parameters for call to function ATT_ParseFindInfoRsp
   \   00015F   A8..         MOV     R0,?XSP + 0
   \   000161   A9..         MOV     R1,?XSP + 1
   \   000163   88..         MOV     ?V2,R0
   \   000165   89..         MOV     ?V3,R1
   \   000167   78..         MOV     R0,#?V2
   \   000169   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00016C   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_120:
   \   00016F   12....       LCALL   ??ATT_ParseFindInfoRsp?relay; Banked call to: ATT_ParseFindInfoRsp
   \   000172   7402         MOV     A,#0x2
   \   000174   12....       LCALL   ?DEALLOC_XSTACK8
   \   000177   E9           MOV     A,R1
   \   000178   F5..         MOV     ?V2,A
    640                if ( stat == SUCCESS )
   \   00017A   6003         JZ      $+5
   \   00017C   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    641                {
    642                  stat = ATT_FindInfoRsp( connHandle, &msg.findInfoRsp );
   \   00017F                ; Setup parameters for call to function ATT_FindInfoRsp
   \   00017F   AC..         MOV     R4,?XSP + 0
   \   000181   AD..         MOV     R5,?XSP + 1
   \   000183   EE           MOV     A,R6
   \   000184   FA           MOV     R2,A
   \   000185   EF           MOV     A,R7
   \   000186   FB           MOV     R3,A
   \   000187   12....       LCALL   ??ATT_FindInfoRsp?relay; Banked call to: ATT_FindInfoRsp
   \   00018A   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    643                }
    644                break;
    645          
    646              case ATT_FIND_BY_TYPE_VALUE_REQ:
    647                stat = ATT_ParseFindByTypeValueReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_6:
   \   00018D                ; Setup parameters for call to function ATT_ParseFindByTypeValueReq
   \   00018D   A8..         MOV     R0,?XSP + 0
   \   00018F   A9..         MOV     R1,?XSP + 1
   \   000191   88..         MOV     ?V2,R0
   \   000193   89..         MOV     ?V3,R1
   \   000195   78..         MOV     R0,#?V2
   \   000197   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00019A   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   00019D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001A0   0C           INC     R4
   \   0001A1   0C           INC     R4
   \   0001A2   AD..         MOV     R5,?V1
   \   0001A4   7A00         MOV     R2,#0x0
   \   0001A6   7900         MOV     R1,#0x0
   \   0001A8   12....       LCALL   ??ATT_ParseFindByTypeValueReq?relay; Banked call to: ATT_ParseFindByTypeValueReq
   \   0001AB   7404         MOV     A,#0x4
   \   0001AD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001B0   E9           MOV     A,R1
   \   0001B1   F5..         MOV     ?V2,A
    648                if ( stat == SUCCESS )
   \   0001B3   6003         JZ      $+5
   \   0001B5   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    649                {
    650                  attFindByTypeValueReq_t *pReq = &msg.findByTypeValueReq;
    651          
    652                  // Find out what's been requested
    653                  if ( gattPrimaryServiceType( pReq->type )     &&
    654                       ( pReq->startHandle == GATT_MIN_HANDLE ) &&
    655                       ( pReq->endHandle   == GATT_MAX_HANDLE ) )
   \   0001B8                ; Setup parameters for call to function ATT_CompareUUID
   \   0001B8   7404         MOV     A,#0x4
   \   0001BA   12....       LCALL   ?XSTACK_DISP0_8
   \   0001BD   12....       LCALL   ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_145:
   \   0001C0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001C3   7407         MOV     A,#0x7
   \   0001C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C8   8582..       MOV     ?V0,DPL
   \   0001CB   8583..       MOV     ?V1,DPH
   \   0001CE   78..         MOV     R0,#?V0
   \   0001D0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001D3   7C02         MOV     R4,#0x2
   \   0001D5   7D00         MOV     R5,#0x0
   \   0001D7   AA..         MOV     R2,?V6
   \   0001D9   AB..         MOV     R3,?V7
   \   0001DB   12....       LCALL   ??ATT_CompareUUID?relay; Banked call to: ATT_CompareUUID
   \   0001DE   7404         MOV     A,#0x4
   \   0001E0   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001E3   E9           MOV     A,R1
   \   0001E4   7003         JNZ     $+5
   \   0001E6   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
   \   0001E9   85..82       MOV     DPL,?XSP + 0
   \   0001EC   85..83       MOV     DPH,?XSP + 1
   \   0001EF   E0           MOVX    A,@DPTR
   \   0001F0   6401         XRL     A,#0x1
   \   0001F2   7002         JNZ     ??processExMsgATT_31
   \   0001F4   A3           INC     DPTR
   \   0001F5   E0           MOVX    A,@DPTR
   \                     ??processExMsgATT_31:
   \   0001F6   6003         JZ      $+5
   \   0001F8   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
   \   0001FB   7402         MOV     A,#0x2
   \   0001FD   12....       LCALL   ?XSTACK_DISP0_8
   \   000200   E0           MOVX    A,@DPTR
   \   000201   F4           CPL     A
   \   000202   7003         JNZ     ??processExMsgATT_32
   \   000204   A3           INC     DPTR
   \   000205   E0           MOVX    A,@DPTR
   \   000206   F4           CPL     A
   \                     ??processExMsgATT_32:
   \   000207   6003         JZ      $+5
   \   000209   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
    656                  {
    657                    // Discover primary service by service UUID
    658                    stat = GATT_DiscPrimaryServiceByUUID( connHandle, pReq->value,
    659                                                          pReq->len, hciExtApp_TaskID );
   \   00020C                ; Setup parameters for call to function GATT_DiscPrimaryServiceByUUID
   \   00020C   12....       LCALL   ?Subroutine66 & 0xFFFF
    660                  }
    661                  else
    662                  {
    663                    stat = INVALIDPARAMETER;
    664                  }
    665                }
   \                     ??CrossCallReturnLabel_309:
   \   00020F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000212   7408         MOV     A,#0x8
   \   000214   12....       LCALL   ?XSTACK_DISP0_8
   \   000217   E0           MOVX    A,@DPTR
   \   000218   F9           MOV     R1,A
   \   000219   7409         MOV     A,#0x9
   \   00021B   12....       LCALL   ?XSTACK_DISP0_8
   \   00021E   AC82         MOV     R4,DPL
   \   000220   AD83         MOV     R5,DPH
   \   000222   EE           MOV     A,R6
   \   000223   FA           MOV     R2,A
   \   000224   EF           MOV     A,R7
   \   000225   FB           MOV     R3,A
   \   000226   12....       LCALL   ??GATT_DiscPrimaryServiceByUUID?relay; Banked call to: GATT_DiscPrimaryServiceByUUID
   \   000229   02....       LJMP    ??processExMsgATT_33 & 0xFFFF
    666                break;
    667          
    668              case ATT_FIND_BY_TYPE_VALUE_RSP:
    669                stat = ATT_ParseFindByTypeValueRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_7:
   \   00022C                ; Setup parameters for call to function ATT_ParseFindByTypeValueRsp
   \   00022C   A8..         MOV     R0,?XSP + 0
   \   00022E   A9..         MOV     R1,?XSP + 1
   \   000230   88..         MOV     ?V2,R0
   \   000232   89..         MOV     ?V3,R1
   \   000234   78..         MOV     R0,#?V2
   \   000236   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000239   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_121:
   \   00023C   12....       LCALL   ??ATT_ParseFindByTypeValueRsp?relay; Banked call to: ATT_ParseFindByTypeValueRsp
   \   00023F   7402         MOV     A,#0x2
   \   000241   12....       LCALL   ?DEALLOC_XSTACK8
   \   000244   E9           MOV     A,R1
   \   000245   F5..         MOV     ?V2,A
    670                if ( stat == SUCCESS )
   \   000247   6003         JZ      $+5
   \   000249   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    671                {
    672                  stat = ATT_FindByTypeValueRsp( connHandle, &msg.findByTypeValueRsp );
   \   00024C                ; Setup parameters for call to function ATT_FindByTypeValueRsp
   \   00024C   AC..         MOV     R4,?XSP + 0
   \   00024E   AD..         MOV     R5,?XSP + 1
   \   000250   EE           MOV     A,R6
   \   000251   FA           MOV     R2,A
   \   000252   EF           MOV     A,R7
   \   000253   FB           MOV     R3,A
   \   000254   12....       LCALL   ??ATT_FindByTypeValueRsp?relay; Banked call to: ATT_FindByTypeValueRsp
   \   000257   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    673                }
    674                break;
    675          
    676              case ATT_READ_BY_TYPE_REQ:
    677                stat = ATT_ParseReadByTypeReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_8:
   \   00025A                ; Setup parameters for call to function ATT_ParseReadByTypeReq
   \   00025A   A8..         MOV     R0,?XSP + 0
   \   00025C   A9..         MOV     R1,?XSP + 1
   \   00025E   88..         MOV     ?V2,R0
   \   000260   89..         MOV     ?V3,R1
   \   000262   78..         MOV     R0,#?V2
   \   000264   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000267   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   00026A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00026D   0C           INC     R4
   \   00026E   0C           INC     R4
   \   00026F   AD..         MOV     R5,?V1
   \   000271   7A00         MOV     R2,#0x0
   \   000273   7900         MOV     R1,#0x0
   \   000275   12....       LCALL   ??ATT_ParseReadByTypeReq?relay; Banked call to: ATT_ParseReadByTypeReq
   \   000278   7404         MOV     A,#0x4
   \   00027A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00027D   E9           MOV     A,R1
   \   00027E   F5..         MOV     ?V2,A
    678                if ( stat == SUCCESS )
   \   000280   6003         JZ      $+5
   \   000282   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    679                {
    680                  attReadByTypeReq_t *pReq = &msg.readByTypeReq;
    681          
    682                  // Find out what's been requested
    683                  if ( gattIncludeType( pReq->type ) )
   \   000285                ; Setup parameters for call to function ATT_CompareUUID
   \   000285   7404         MOV     A,#0x4
   \   000287   12....       LCALL   ?XSTACK_DISP0_8
   \   00028A   12....       LCALL   ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_146:
   \   00028D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000290   7407         MOV     A,#0x7
   \   000292   12....       LCALL   ?XSTACK_DISP0_8
   \   000295   8582..       MOV     ?V0,DPL
   \   000298   8583..       MOV     ?V1,DPH
   \   00029B   78..         MOV     R0,#?V0
   \   00029D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002A0   7C02         MOV     R4,#0x2
   \   0002A2   7D00         MOV     R5,#0x0
   \   0002A4   7A..         MOV     R2,#includeUUID & 0xff
   \   0002A6   7B..         MOV     R3,#(includeUUID >> 8) & 0xff
   \   0002A8   12....       LCALL   ??ATT_CompareUUID?relay; Banked call to: ATT_CompareUUID
   \   0002AB   7404         MOV     A,#0x4
   \   0002AD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002B0   E9           MOV     A,R1
   \   0002B1   601A         JZ      ??processExMsgATT_34
    684                  {
    685                    // Find included services
    686                    stat = GATT_FindIncludedServices( connHandle, pReq->startHandle,
    687                                                      pReq->endHandle, hciExtApp_TaskID );
   \   0002B3                ; Setup parameters for call to function GATT_FindIncludedServices
   \   0002B3   7402         MOV     A,#0x2
   \   0002B5   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B8   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0002BB   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0002BE   E0           MOVX    A,@DPTR
   \   0002BF   F9           MOV     R1,A
   \   0002C0   7402         MOV     A,#0x2
   \   0002C2   12....       LCALL   ?XSTACK_DISP0_8
   \   0002C5   12....       LCALL   ??Subroutine144_0 & 0xFFFF
    688                  }
   \                     ??CrossCallReturnLabel_323:
   \   0002C8   12....       LCALL   ??GATT_FindIncludedServices?relay; Banked call to: GATT_FindIncludedServices
   \   0002CB   8046         SJMP    ??processExMsgATT_29
    689                  else if ( gattCharacterType( pReq->type ) )
   \                     ??processExMsgATT_34:
   \   0002CD                ; Setup parameters for call to function ATT_CompareUUID
   \   0002CD   7404         MOV     A,#0x4
   \   0002CF   12....       LCALL   ?XSTACK_DISP0_8
   \   0002D2   12....       LCALL   ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_147:
   \   0002D5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002D8   7407         MOV     A,#0x7
   \   0002DA   12....       LCALL   ?XSTACK_DISP0_8
   \   0002DD   8582..       MOV     ?V0,DPL
   \   0002E0   8583..       MOV     ?V1,DPH
   \   0002E3   78..         MOV     R0,#?V0
   \   0002E5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002E8   7C02         MOV     R4,#0x2
   \   0002EA   7D00         MOV     R5,#0x0
   \   0002EC   7A..         MOV     R2,#characterUUID & 0xff
   \   0002EE   7B..         MOV     R3,#(characterUUID >> 8) & 0xff
   \   0002F0   12....       LCALL   ??ATT_CompareUUID?relay; Banked call to: ATT_CompareUUID
   \   0002F3   7404         MOV     A,#0x4
   \   0002F5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002F8   E9           MOV     A,R1
   \   0002F9   6020         JZ      ??processExMsgATT_35
    690                  {
    691                    // Discover all characteristics of a service
    692                    stat = GATT_DiscAllChars( connHandle, pReq->startHandle,
    693                                              pReq->endHandle, hciExtApp_TaskID );
   \   0002FB                ; Setup parameters for call to function GATT_DiscAllChars
   \   0002FB   7402         MOV     A,#0x2
   \   0002FD   12....       LCALL   ?XSTACK_DISP0_8
   \   000300   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000303   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000306   E0           MOVX    A,@DPTR
   \   000307   F9           MOV     R1,A
   \   000308   7402         MOV     A,#0x2
   \   00030A   12....       LCALL   ?XSTACK_DISP0_8
   \   00030D   12....       LCALL   ??Subroutine144_0 & 0xFFFF
    694                  }
   \                     ??CrossCallReturnLabel_324:
   \   000310   12....       LCALL   ??GATT_DiscAllChars?relay; Banked call to: GATT_DiscAllChars
   \                     ??processExMsgATT_29:
   \   000313   7402         MOV     A,#0x2
   \   000315   12....       LCALL   ?DEALLOC_XSTACK8
   \   000318   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    695                  else
    696                  {
    697                    // Read using characteristic UUID
    698                    stat = GATT_ReadUsingCharUUID( connHandle, pReq, hciExtApp_TaskID );
   \                     ??processExMsgATT_35:
   \   00031B                ; Setup parameters for call to function GATT_ReadUsingCharUUID
   \   00031B   12....       LCALL   ?Subroutine47 & 0xFFFF
    699                  }
    700                }
   \                     ??CrossCallReturnLabel_301:
   \   00031E   12....       LCALL   ??GATT_ReadUsingCharUUID?relay; Banked call to: GATT_ReadUsingCharUUID
   \   000321   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    701                break;
    702          
    703              case ATT_READ_BY_TYPE_RSP:
    704                stat = ATT_ParseReadByTypeRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_9:
   \   000324                ; Setup parameters for call to function ATT_ParseReadByTypeRsp
   \   000324   A8..         MOV     R0,?XSP + 0
   \   000326   A9..         MOV     R1,?XSP + 1
   \   000328   88..         MOV     ?V2,R0
   \   00032A   89..         MOV     ?V3,R1
   \   00032C   78..         MOV     R0,#?V2
   \   00032E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000331   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_122:
   \   000334   12....       LCALL   ??ATT_ParseReadByTypeRsp?relay; Banked call to: ATT_ParseReadByTypeRsp
   \   000337   7402         MOV     A,#0x2
   \   000339   12....       LCALL   ?DEALLOC_XSTACK8
   \   00033C   E9           MOV     A,R1
   \   00033D   F5..         MOV     ?V2,A
    705                if ( stat == SUCCESS )
   \   00033F   6003         JZ      $+5
   \   000341   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    706                {
    707                  stat = ATT_ReadByTypeRsp( connHandle, &msg.readByTypeRsp );
   \   000344                ; Setup parameters for call to function ATT_ReadByTypeRsp
   \   000344   AC..         MOV     R4,?XSP + 0
   \   000346   AD..         MOV     R5,?XSP + 1
   \   000348   EE           MOV     A,R6
   \   000349   FA           MOV     R2,A
   \   00034A   EF           MOV     A,R7
   \   00034B   FB           MOV     R3,A
   \   00034C   12....       LCALL   ??ATT_ReadByTypeRsp?relay; Banked call to: ATT_ReadByTypeRsp
   \   00034F   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    708                }
    709                break;
    710          
    711              case ATT_READ_REQ:
    712                stat = ATT_ParseReadReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_10:
   \   000352                ; Setup parameters for call to function ATT_ParseReadReq
   \   000352   A8..         MOV     R0,?XSP + 0
   \   000354   A9..         MOV     R1,?XSP + 1
   \   000356   88..         MOV     ?V2,R0
   \   000358   89..         MOV     ?V3,R1
   \   00035A   78..         MOV     R0,#?V2
   \   00035C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00035F   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   000362   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000365   0C           INC     R4
   \   000366   0C           INC     R4
   \   000367   AD..         MOV     R5,?V1
   \   000369   7A00         MOV     R2,#0x0
   \   00036B   7900         MOV     R1,#0x0
   \   00036D   12....       LCALL   ??ATT_ParseReadReq?relay; Banked call to: ATT_ParseReadReq
   \   000370   7404         MOV     A,#0x4
   \   000372   12....       LCALL   ?DEALLOC_XSTACK8
   \   000375   E9           MOV     A,R1
   \   000376   F5..         MOV     ?V2,A
    713                if ( stat == SUCCESS )
   \   000378   6003         JZ      $+5
   \   00037A   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    714                {
    715                  // Read Characteristic Value or Read Characteristic Descriptor
    716                  stat = GATT_ReadCharValue( connHandle, &msg.readReq, hciExtApp_TaskID );
   \   00037D                ; Setup parameters for call to function GATT_ReadCharValue
   \   00037D   12....       LCALL   ?Subroutine47 & 0xFFFF
    717                }
   \                     ??CrossCallReturnLabel_302:
   \   000380   12....       LCALL   ??GATT_ReadCharValue?relay; Banked call to: GATT_ReadCharValue
   \   000383   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    718                break;
    719          
    720              case ATT_READ_RSP:
    721                stat = ATT_ParseReadRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_11:
   \   000386                ; Setup parameters for call to function ATT_ParseReadRsp
   \   000386   A8..         MOV     R0,?XSP + 0
   \   000388   A9..         MOV     R1,?XSP + 1
   \   00038A   88..         MOV     ?V2,R0
   \   00038C   89..         MOV     ?V3,R1
   \   00038E   78..         MOV     R0,#?V2
   \   000390   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000393   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_123:
   \   000396   12....       LCALL   ??ATT_ParseReadRsp?relay; Banked call to: ATT_ParseReadRsp
   \   000399   7402         MOV     A,#0x2
   \   00039B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00039E   E9           MOV     A,R1
   \   00039F   F5..         MOV     ?V2,A
    722                if ( stat == SUCCESS )
   \   0003A1   6003         JZ      $+5
   \   0003A3   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    723                {
    724                  stat = ATT_ReadRsp( connHandle, &msg.readRsp );
   \   0003A6                ; Setup parameters for call to function ATT_ReadRsp
   \   0003A6   AC..         MOV     R4,?XSP + 0
   \   0003A8   AD..         MOV     R5,?XSP + 1
   \   0003AA   EE           MOV     A,R6
   \   0003AB   FA           MOV     R2,A
   \   0003AC   EF           MOV     A,R7
   \   0003AD   FB           MOV     R3,A
   \   0003AE   12....       LCALL   ??ATT_ReadRsp?relay  ; Banked call to: ATT_ReadRsp
   \   0003B1   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    725                }
    726                break;
    727          
    728              case ATT_READ_BLOB_REQ:
    729                stat = ATT_ParseReadBlobReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_12:
   \   0003B4                ; Setup parameters for call to function ATT_ParseReadBlobReq
   \   0003B4   A8..         MOV     R0,?XSP + 0
   \   0003B6   A9..         MOV     R1,?XSP + 1
   \   0003B8   88..         MOV     ?V2,R0
   \   0003BA   89..         MOV     ?V3,R1
   \   0003BC   78..         MOV     R0,#?V2
   \   0003BE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003C1   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   0003C4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003C7   0C           INC     R4
   \   0003C8   0C           INC     R4
   \   0003C9   AD..         MOV     R5,?V1
   \   0003CB   7A00         MOV     R2,#0x0
   \   0003CD   7900         MOV     R1,#0x0
   \   0003CF   12....       LCALL   ??ATT_ParseReadBlobReq?relay; Banked call to: ATT_ParseReadBlobReq
   \   0003D2   7404         MOV     A,#0x4
   \   0003D4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003D7   E9           MOV     A,R1
   \   0003D8   F5..         MOV     ?V2,A
    730                if ( stat == SUCCESS )
   \   0003DA   6003         JZ      $+5
   \   0003DC   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    731                {
    732                  // Read long characteristic value
    733                  stat = GATT_ReadLongCharValue( connHandle, &msg.readBlobReq, hciExtApp_TaskID );
   \   0003DF                ; Setup parameters for call to function GATT_ReadLongCharValue
   \   0003DF   12....       LCALL   ?Subroutine47 & 0xFFFF
    734                }
   \                     ??CrossCallReturnLabel_303:
   \   0003E2   12....       LCALL   ??GATT_ReadLongCharValue?relay; Banked call to: GATT_ReadLongCharValue
   \   0003E5   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    735                break;
    736          
    737              case ATT_READ_BLOB_RSP:
    738                stat = ATT_ParseReadBlobRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_13:
   \   0003E8                ; Setup parameters for call to function ATT_ParseReadBlobRsp
   \   0003E8   A8..         MOV     R0,?XSP + 0
   \   0003EA   A9..         MOV     R1,?XSP + 1
   \   0003EC   88..         MOV     ?V2,R0
   \   0003EE   89..         MOV     ?V3,R1
   \   0003F0   78..         MOV     R0,#?V2
   \   0003F2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003F5   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_124:
   \   0003F8   12....       LCALL   ??ATT_ParseReadBlobRsp?relay; Banked call to: ATT_ParseReadBlobRsp
   \   0003FB   7402         MOV     A,#0x2
   \   0003FD   12....       LCALL   ?DEALLOC_XSTACK8
   \   000400   E9           MOV     A,R1
   \   000401   F5..         MOV     ?V2,A
    739                if ( stat == SUCCESS )
   \   000403   6003         JZ      $+5
   \   000405   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    740                {
    741                  stat = ATT_ReadBlobRsp( connHandle, &msg.readBlobRsp );
   \   000408                ; Setup parameters for call to function ATT_ReadBlobRsp
   \   000408   AC..         MOV     R4,?XSP + 0
   \   00040A   AD..         MOV     R5,?XSP + 1
   \   00040C   EE           MOV     A,R6
   \   00040D   FA           MOV     R2,A
   \   00040E   EF           MOV     A,R7
   \   00040F   FB           MOV     R3,A
   \   000410   12....       LCALL   ??ATT_ReadBlobRsp?relay; Banked call to: ATT_ReadBlobRsp
   \   000413   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    742                }
    743                break;
    744          
    745              case ATT_READ_MULTI_REQ:
    746                stat = ATT_ParseReadMultiReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_14:
   \   000416                ; Setup parameters for call to function ATT_ParseReadMultiReq
   \   000416   A8..         MOV     R0,?XSP + 0
   \   000418   A9..         MOV     R1,?XSP + 1
   \   00041A   88..         MOV     ?V2,R0
   \   00041C   89..         MOV     ?V3,R1
   \   00041E   78..         MOV     R0,#?V2
   \   000420   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000423   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   000426   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000429   0C           INC     R4
   \   00042A   0C           INC     R4
   \   00042B   AD..         MOV     R5,?V1
   \   00042D   7A00         MOV     R2,#0x0
   \   00042F   7900         MOV     R1,#0x0
   \   000431   12....       LCALL   ??ATT_ParseReadMultiReq?relay; Banked call to: ATT_ParseReadMultiReq
   \   000434   7404         MOV     A,#0x4
   \   000436   12....       LCALL   ?DEALLOC_XSTACK8
   \   000439   E9           MOV     A,R1
   \   00043A   F5..         MOV     ?V2,A
    747                if ( stat == SUCCESS )
   \   00043C   6003         JZ      $+5
   \   00043E   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    748                {
    749                  stat = GATT_ReadMultiCharValues( connHandle, &msg.readMultiReq, hciExtApp_TaskID );
   \   000441                ; Setup parameters for call to function GATT_ReadMultiCharValues
   \   000441   12....       LCALL   ?Subroutine47 & 0xFFFF
    750                }
   \                     ??CrossCallReturnLabel_304:
   \   000444   12....       LCALL   ??GATT_ReadMultiCharValues?relay; Banked call to: GATT_ReadMultiCharValues
   \   000447   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    751                break;
    752          
    753              case ATT_READ_MULTI_RSP:
    754                stat = ATT_ParseReadMultiRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_15:
   \   00044A                ; Setup parameters for call to function ATT_ParseReadMultiRsp
   \   00044A   A8..         MOV     R0,?XSP + 0
   \   00044C   A9..         MOV     R1,?XSP + 1
   \   00044E   88..         MOV     ?V2,R0
   \   000450   89..         MOV     ?V3,R1
   \   000452   78..         MOV     R0,#?V2
   \   000454   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000457   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_125:
   \   00045A   12....       LCALL   ??ATT_ParseReadMultiRsp?relay; Banked call to: ATT_ParseReadMultiRsp
   \   00045D   7402         MOV     A,#0x2
   \   00045F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000462   E9           MOV     A,R1
   \   000463   F5..         MOV     ?V2,A
    755                if ( stat == SUCCESS )
   \   000465   6003         JZ      $+5
   \   000467   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    756                {
    757                  stat = ATT_ReadMultiRsp( connHandle, &msg.readMultiRsp );
   \   00046A                ; Setup parameters for call to function ATT_ReadMultiRsp
   \   00046A   AC..         MOV     R4,?XSP + 0
   \   00046C   AD..         MOV     R5,?XSP + 1
   \   00046E   EE           MOV     A,R6
   \   00046F   FA           MOV     R2,A
   \   000470   EF           MOV     A,R7
   \   000471   FB           MOV     R3,A
   \   000472   12....       LCALL   ??ATT_ReadMultiRsp?relay; Banked call to: ATT_ReadMultiRsp
   \   000475   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    758                }
    759                break;
    760          
    761              case ATT_READ_BY_GRP_TYPE_REQ:
    762                stat = ATT_ParseReadByTypeReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_16:
   \   000478                ; Setup parameters for call to function ATT_ParseReadByTypeReq
   \   000478   A8..         MOV     R0,?XSP + 0
   \   00047A   A9..         MOV     R1,?XSP + 1
   \   00047C   88..         MOV     ?V2,R0
   \   00047E   89..         MOV     ?V3,R1
   \   000480   78..         MOV     R0,#?V2
   \   000482   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000485   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   000488   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00048B   0C           INC     R4
   \   00048C   0C           INC     R4
   \   00048D   AD..         MOV     R5,?V1
   \   00048F   7A00         MOV     R2,#0x0
   \   000491   7900         MOV     R1,#0x0
   \   000493   12....       LCALL   ??ATT_ParseReadByTypeReq?relay; Banked call to: ATT_ParseReadByTypeReq
   \   000496   7404         MOV     A,#0x4
   \   000498   12....       LCALL   ?DEALLOC_XSTACK8
   \   00049B   E9           MOV     A,R1
   \   00049C   F5..         MOV     ?V2,A
    763                if ( stat == SUCCESS )
   \   00049E   6003         JZ      $+5
   \   0004A0   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    764                {
    765                  attReadByGrpTypeReq_t *pReq = &msg.readByGrpTypeReq;
    766          
    767                  // Find out what's been requested
    768                  if ( gattPrimaryServiceType( pReq->type )     &&
    769                       ( pReq->startHandle == GATT_MIN_HANDLE ) &&
    770                       ( pReq->endHandle   == GATT_MAX_HANDLE ) )
   \   0004A3                ; Setup parameters for call to function ATT_CompareUUID
   \   0004A3   7404         MOV     A,#0x4
   \   0004A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0004A8   12....       LCALL   ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_148:
   \   0004AB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004AE   7407         MOV     A,#0x7
   \   0004B0   12....       LCALL   ?XSTACK_DISP0_8
   \   0004B3   8582..       MOV     ?V0,DPL
   \   0004B6   8583..       MOV     ?V1,DPH
   \   0004B9   78..         MOV     R0,#?V0
   \   0004BB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004BE   7C02         MOV     R4,#0x2
   \   0004C0   7D00         MOV     R5,#0x0
   \   0004C2   AA..         MOV     R2,?V6
   \   0004C4   AB..         MOV     R3,?V7
   \   0004C6   12....       LCALL   ??ATT_CompareUUID?relay; Banked call to: ATT_CompareUUID
   \   0004C9   7404         MOV     A,#0x4
   \   0004CB   12....       LCALL   ?DEALLOC_XSTACK8
   \   0004CE   E9           MOV     A,R1
   \   0004CF   7003         JNZ     $+5
   \   0004D1   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
   \   0004D4   85..82       MOV     DPL,?XSP + 0
   \   0004D7   85..83       MOV     DPH,?XSP + 1
   \   0004DA   E0           MOVX    A,@DPTR
   \   0004DB   6401         XRL     A,#0x1
   \   0004DD   7002         JNZ     ??processExMsgATT_36
   \   0004DF   A3           INC     DPTR
   \   0004E0   E0           MOVX    A,@DPTR
   \                     ??processExMsgATT_36:
   \   0004E1   6003         JZ      $+5
   \   0004E3   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
   \   0004E6   7402         MOV     A,#0x2
   \   0004E8   12....       LCALL   ?XSTACK_DISP0_8
   \   0004EB   E0           MOVX    A,@DPTR
   \   0004EC   F4           CPL     A
   \   0004ED   7003         JNZ     ??processExMsgATT_37
   \   0004EF   A3           INC     DPTR
   \   0004F0   E0           MOVX    A,@DPTR
   \   0004F1   F4           CPL     A
   \                     ??processExMsgATT_37:
   \   0004F2   6003         JZ      $+5
   \   0004F4   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
    771                  {
    772                    // Discover all primary services
    773                    stat = GATT_DiscAllPrimaryServices( connHandle, hciExtApp_TaskID );
   \   0004F7                ; Setup parameters for call to function GATT_DiscAllPrimaryServices
   \   0004F7   12....       LCALL   ?Subroutine63 & 0xFFFF
    774                  }
    775                  else
    776                  {
    777                    stat = INVALIDPARAMETER;
    778                  }
    779                }
   \                     ??CrossCallReturnLabel_169:
   \   0004FA   12....       LCALL   ??GATT_DiscAllPrimaryServices?relay; Banked call to: GATT_DiscAllPrimaryServices
   \   0004FD   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    780                break;
    781          
    782              case ATT_READ_BY_GRP_TYPE_RSP:
    783                stat = ATT_ParseReadByGrpTypeRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_17:
   \   000500                ; Setup parameters for call to function ATT_ParseReadByGrpTypeRsp
   \   000500   A8..         MOV     R0,?XSP + 0
   \   000502   A9..         MOV     R1,?XSP + 1
   \   000504   88..         MOV     ?V2,R0
   \   000506   89..         MOV     ?V3,R1
   \   000508   78..         MOV     R0,#?V2
   \   00050A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00050D   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_126:
   \   000510   12....       LCALL   ??ATT_ParseReadByGrpTypeRsp?relay; Banked call to: ATT_ParseReadByGrpTypeRsp
   \   000513   7402         MOV     A,#0x2
   \   000515   12....       LCALL   ?DEALLOC_XSTACK8
   \   000518   E9           MOV     A,R1
   \   000519   F5..         MOV     ?V2,A
    784                if ( stat == SUCCESS )
   \   00051B   6003         JZ      $+5
   \   00051D   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    785                {
    786                  stat = ATT_ReadByGrpTypeRsp( connHandle, &msg.readByGrpTypeRsp );
   \   000520                ; Setup parameters for call to function ATT_ReadByGrpTypeRsp
   \   000520   AC..         MOV     R4,?XSP + 0
   \   000522   AD..         MOV     R5,?XSP + 1
   \   000524   EE           MOV     A,R6
   \   000525   FA           MOV     R2,A
   \   000526   EF           MOV     A,R7
   \   000527   FB           MOV     R3,A
   \   000528   12....       LCALL   ??ATT_ReadByGrpTypeRsp?relay; Banked call to: ATT_ReadByGrpTypeRsp
   \   00052B   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    787                }
    788                break;
    789          
    790              case ATT_WRITE_REQ:
    791                stat = ATT_ParseWriteReq( pBuf[2], pBuf[3], &pBuf[4], pCmd->len-4, &msg );
   \                     ??processExMsgATT_18:
   \   00052E                ; Setup parameters for call to function ATT_ParseWriteReq
   \   00052E   A8..         MOV     R0,?XSP + 0
   \   000530   A9..         MOV     R1,?XSP + 1
   \   000532   88..         MOV     ?V2,R0
   \   000534   89..         MOV     ?V3,R1
   \   000536   78..         MOV     R0,#?V2
   \   000538   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00053B   8A82         MOV     DPL,R2
   \   00053D   8B83         MOV     DPH,R3
   \   00053F   A3           INC     DPTR
   \   000540   A3           INC     DPTR
   \   000541   A3           INC     DPTR
   \   000542   E0           MOVX    A,@DPTR
   \   000543   24FC         ADD     A,#-0x4
   \   000545   12....       LCALL   ?Subroutine120 & 0xFFFF
   \                     ??CrossCallReturnLabel_266:
   \   000548   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00054B   EC           MOV     A,R4
   \   00054C   2404         ADD     A,#0x4
   \   00054E   FC           MOV     R4,A
   \   00054F   5001         JNC     ??processExMsgATT_38
   \   000551   0D           INC     R5
   \                     ??processExMsgATT_38:
   \   000552   85..82       MOV     DPL,?V4
   \   000555   85..83       MOV     DPH,?V5
   \   000558   E0           MOVX    A,@DPTR
   \   000559   FA           MOV     R2,A
   \   00055A   85..82       MOV     DPL,?V0
   \   00055D   85..83       MOV     DPH,?V1
   \   000560   E0           MOVX    A,@DPTR
   \   000561   F9           MOV     R1,A
   \   000562   12....       LCALL   ??ATT_ParseWriteReq?relay; Banked call to: ATT_ParseWriteReq
   \   000565   7404         MOV     A,#0x4
   \   000567   12....       LCALL   ?DEALLOC_XSTACK8
   \   00056A   E9           MOV     A,R1
   \   00056B   F5..         MOV     ?V2,A
    792                if ( stat == SUCCESS )
   \   00056D   6003         JZ      $+5
   \   00056F   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    793                {
    794                  attWriteReq_t *pReq = &msg.writeReq;
    795          
    796                  if ( pReq->cmd == FALSE )
   \   000572   7418         MOV     A,#0x18
   \   000574   12....       LCALL   ?XSTACK_DISP0_8
   \   000577   E0           MOVX    A,@DPTR
   \   000578   7009         JNZ     ??processExMsgATT_39
    797                  {
    798                    // Write Characteristic Value or Write Characteristic Descriptor
    799                    stat = GATT_WriteCharValue( connHandle, &msg.writeReq, hciExtApp_TaskID );
   \   00057A                ; Setup parameters for call to function GATT_WriteCharValue
   \   00057A   12....       LCALL   ?Subroutine47 & 0xFFFF
    800                  }
   \                     ??CrossCallReturnLabel_305:
   \   00057D   12....       LCALL   ??GATT_WriteCharValue?relay; Banked call to: GATT_WriteCharValue
   \   000580   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    801                  else
    802                  {
    803                    if ( pReq->sig == FALSE )
   \                     ??processExMsgATT_39:
   \   000583   7417         MOV     A,#0x17
   \   000585   12....       LCALL   ?XSTACK_DISP0_8
   \   000588   E0           MOVX    A,@DPTR
   \   000589   AC..         MOV     R4,?XSP + 0
   \   00058B   AD..         MOV     R5,?XSP + 1
   \   00058D   700A         JNZ     ??processExMsgATT_40
    804                    {
    805                      // Write Without Response
    806                      stat = GATT_WriteNoRsp( connHandle, pReq );
   \   00058F                ; Setup parameters for call to function GATT_WriteNoRsp
   \   00058F   EE           MOV     A,R6
   \   000590   FA           MOV     R2,A
   \   000591   EF           MOV     A,R7
   \   000592   FB           MOV     R3,A
   \   000593   12....       LCALL   ??GATT_WriteNoRsp?relay; Banked call to: GATT_WriteNoRsp
   \   000596   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    807                    }
    808                    else
    809                    {
    810                      // Signed Write Without Response
    811                      stat = GATT_SignedWriteNoRsp( connHandle, pReq );
   \                     ??processExMsgATT_40:
   \   000599                ; Setup parameters for call to function GATT_SignedWriteNoRsp
   \   000599   EE           MOV     A,R6
   \   00059A   FA           MOV     R2,A
   \   00059B   EF           MOV     A,R7
   \   00059C   FB           MOV     R3,A
   \   00059D   12....       LCALL   ??GATT_SignedWriteNoRsp?relay; Banked call to: GATT_SignedWriteNoRsp
   \   0005A0   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    812                    }
    813                  }
    814                }
    815                break;
    816          
    817              case ATT_WRITE_RSP:
    818                stat = ATT_ParseWriteRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_19:
   \   0005A3                ; Setup parameters for call to function ATT_ParseWriteRsp
   \   0005A3   A8..         MOV     R0,?XSP + 0
   \   0005A5   A9..         MOV     R1,?XSP + 1
   \   0005A7   88..         MOV     ?V2,R0
   \   0005A9   89..         MOV     ?V3,R1
   \   0005AB   78..         MOV     R0,#?V2
   \   0005AD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005B0   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_127:
   \   0005B3   12....       LCALL   ??ATT_ParseWriteRsp?relay; Banked call to: ATT_ParseWriteRsp
   \   0005B6   7402         MOV     A,#0x2
   \   0005B8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0005BB   E9           MOV     A,R1
   \   0005BC   F5..         MOV     ?V2,A
    819                if ( stat == SUCCESS )
   \   0005BE   6003         JZ      $+5
   \   0005C0   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    820                {
    821                  stat = ATT_WriteRsp( connHandle );
   \   0005C3                ; Setup parameters for call to function ATT_WriteRsp
   \   0005C3   EE           MOV     A,R6
   \   0005C4   FA           MOV     R2,A
   \   0005C5   EF           MOV     A,R7
   \   0005C6   FB           MOV     R3,A
   \   0005C7   12....       LCALL   ??ATT_WriteRsp?relay ; Banked call to: ATT_WriteRsp
   \   0005CA   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    822                }
    823                break;
    824          
    825              case ATT_PREPARE_WRITE_REQ:
    826                stat = ATT_ParsePrepareWriteReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_20:
   \   0005CD                ; Setup parameters for call to function ATT_ParsePrepareWriteReq
   \   0005CD   A8..         MOV     R0,?XSP + 0
   \   0005CF   A9..         MOV     R1,?XSP + 1
   \   0005D1   88..         MOV     ?V2,R0
   \   0005D3   89..         MOV     ?V3,R1
   \   0005D5   78..         MOV     R0,#?V2
   \   0005D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005DA   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   0005DD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005E0   0C           INC     R4
   \   0005E1   0C           INC     R4
   \   0005E2   AD..         MOV     R5,?V1
   \   0005E4   7A00         MOV     R2,#0x0
   \   0005E6   7900         MOV     R1,#0x0
   \   0005E8   12....       LCALL   ??ATT_ParsePrepareWriteReq?relay; Banked call to: ATT_ParsePrepareWriteReq
   \   0005EB   7404         MOV     A,#0x4
   \   0005ED   12....       LCALL   ?DEALLOC_XSTACK8
   \   0005F0   E9           MOV     A,R1
   \   0005F1   F5..         MOV     ?V2,A
    827                if ( stat == SUCCESS )
   \   0005F3   6003         JZ      $+5
   \   0005F5   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    828                {
    829          #if !defined ( GATT_DB_OFF_CHIP ) && defined ( TESTMODES )
    830                  if ( GATTServApp_GetParamValue() == GATT_TESTMODE_PREPARE_WRITE )
    831                  {
    832                    // Send the Prepare Write Request right away - needed for GATT testing
    833                    stat = GATT_PrepareWriteReq( connHandle, &msg.prepareWriteReq, hciExtApp_TaskID );
    834                  }
    835                  else
    836          #endif // !GATT_DB_OFF_CHIP && TESTMODE
    837                  {
    838                    // GATT Reliable Writes
    839                    if ( pPrepareWrites == NULL )
   \   0005F8   90....       MOV     DPTR,#??pPrepareWrites
   \   0005FB   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_381:
   \   0005FE   700F         JNZ     ??processExMsgATT_41
    840                    {
    841                      // First allocated buffer for the Prepare Write Requests
    842                      pPrepareWrites = osal_mem_alloc( GATT_MAX_NUM_RELIABLE_WRITES * sizeof( attPrepareWriteReq_t ) );
   \   000600                ; Setup parameters for call to function osal_mem_alloc
   \   000600   7A73         MOV     R2,#0x73
   \   000602   7B00         MOV     R3,#0x0
   \   000604   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   000607   90....       MOV     DPTR,#??pPrepareWrites
   \   00060A   EA           MOV     A,R2
   \   00060B   F0           MOVX    @DPTR,A
   \   00060C   A3           INC     DPTR
   \   00060D   EB           MOV     A,R3
   \   00060E   F0           MOVX    @DPTR,A
    843                    }
    844          
    845                    if ( pPrepareWrites != NULL )
   \                     ??processExMsgATT_41:
   \   00060F   90....       MOV     DPTR,#??pPrepareWrites
   \   000612   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_382:
   \   000615   603F         JZ      ??processExMsgATT_42
    846                    {
    847                      if ( numPrepareWrites < GATT_MAX_NUM_RELIABLE_WRITES )
   \   000617   90....       MOV     DPTR,#??numPrepareWrites
   \   00061A   E0           MOVX    A,@DPTR
   \   00061B   C3           CLR     C
   \   00061C   9405         SUBB    A,#0x5
   \   00061E   4003         JC      $+5
   \   000620   02....       LJMP    ??processExMsgATT_30 & 0xFFFF
    848                      {
    849                        // Save the Prepare Write Request for now
    850                        VOID osal_memcpy( &(pPrepareWrites[numPrepareWrites++]), 
    851                                          &(msg.prepareWriteReq), 
    852                                          sizeof( attPrepareWriteReq_t ) );
   \   000623   E0           MOVX    A,@DPTR
   \   000624   F9           MOV     R1,A
   \   000625   7401         MOV     A,#0x1
   \   000627   29           ADD     A,R1
   \   000628   F0           MOVX    @DPTR,A
   \   000629                ; Setup parameters for call to function osal_memcpy
   \   000629   75..17       MOV     ?V0,#0x17
   \   00062C   75..00       MOV     ?V1,#0x0
   \   00062F   78..         MOV     R0,#?V0
   \   000631   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000634   7402         MOV     A,#0x2
   \   000636   12....       LCALL   ?XSTACK_DISP102_8
   \   000639   E9           MOV     A,R1
   \   00063A   75F017       MOV     B,#0x17
   \   00063D   A4           MUL     AB
   \   00063E   F8           MOV     R0,A
   \   00063F   A9F0         MOV     R1,B
   \   000641   90....       MOV     DPTR,#??pPrepareWrites
   \   000644   E0           MOVX    A,@DPTR
   \   000645   28           ADD     A,R0
   \   000646   FA           MOV     R2,A
   \   000647   A3           INC     DPTR
   \   000648   E0           MOVX    A,@DPTR
   \   000649   39           ADDC    A,R1
   \   00064A   FB           MOV     R3,A
   \   00064B   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   00064E   7402         MOV     A,#0x2
   \   000650   12....       LCALL   ?DEALLOC_XSTACK8
   \   000653   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    853                      }
    854                      else
    855                      {
    856                        stat = INVALIDPARAMETER;
    857                      }
    858                    }
    859                    else
    860                    {
    861                      stat = bleMemAllocError;
   \                     ??processExMsgATT_42:
   \   000656   75..13       MOV     ?V2,#0x13
   \   000659   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    862                    }
    863                  }
    864                }
    865                break;
    866          
    867              case ATT_PREPARE_WRITE_RSP:
    868                stat = ATT_ParsePrepareWriteRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_21:
   \   00065C                ; Setup parameters for call to function ATT_ParsePrepareWriteRsp
   \   00065C   A8..         MOV     R0,?XSP + 0
   \   00065E   A9..         MOV     R1,?XSP + 1
   \   000660   88..         MOV     ?V2,R0
   \   000662   89..         MOV     ?V3,R1
   \   000664   78..         MOV     R0,#?V2
   \   000666   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000669   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_128:
   \   00066C   12....       LCALL   ??ATT_ParsePrepareWriteRsp?relay; Banked call to: ATT_ParsePrepareWriteRsp
   \   00066F   7402         MOV     A,#0x2
   \   000671   12....       LCALL   ?DEALLOC_XSTACK8
   \   000674   E9           MOV     A,R1
   \   000675   F5..         MOV     ?V2,A
    869                if ( stat == SUCCESS )
   \   000677   6003         JZ      $+5
   \   000679   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    870                {
    871                  stat = ATT_PrepareWriteRsp( connHandle, &msg.prepareWriteRsp );
   \   00067C                ; Setup parameters for call to function ATT_PrepareWriteRsp
   \   00067C   AC..         MOV     R4,?XSP + 0
   \   00067E   AD..         MOV     R5,?XSP + 1
   \   000680   EE           MOV     A,R6
   \   000681   FA           MOV     R2,A
   \   000682   EF           MOV     A,R7
   \   000683   FB           MOV     R3,A
   \   000684   12....       LCALL   ??ATT_PrepareWriteRsp?relay; Banked call to: ATT_PrepareWriteRsp
   \   000687   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    872                }
    873                break;
    874          
    875              case ATT_EXECUTE_WRITE_REQ:
    876                stat = ATT_ParseExecuteWriteReq( ATT_SIG_NOT_INCLUDED, TRUE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_22:
   \   00068A                ; Setup parameters for call to function ATT_ParseExecuteWriteReq
   \   00068A   A8..         MOV     R0,?XSP + 0
   \   00068C   A9..         MOV     R1,?XSP + 1
   \   00068E   88..         MOV     ?V2,R0
   \   000690   89..         MOV     ?V3,R1
   \   000692   78..         MOV     R0,#?V2
   \   000694   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000697   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   00069A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00069D   0C           INC     R4
   \   00069E   0C           INC     R4
   \   00069F   AD..         MOV     R5,?V1
   \   0006A1   7A01         MOV     R2,#0x1
   \   0006A3   7900         MOV     R1,#0x0
   \   0006A5   12....       LCALL   ??ATT_ParseExecuteWriteReq?relay; Banked call to: ATT_ParseExecuteWriteReq
   \   0006A8   7404         MOV     A,#0x4
   \   0006AA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006AD   E9           MOV     A,R1
   \   0006AE   F5..         MOV     ?V2,A
    877                if ( stat == SUCCESS )
   \   0006B0   6003         JZ      $+5
   \   0006B2   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    878                {
    879          #if !defined ( GATT_DB_OFF_CHIP ) && defined ( TESTMODES )
    880                  if ( GATTServApp_GetParamValue() == GATT_TESTMODE_PREPARE_WRITE )
    881                  {
    882                    // Send the Execute Write Request right away - needed for GATT testing
    883                    stat = GATT_ExecuteWriteReq( connHandle, &msg.executeWriteReq, hciExtApp_TaskID );
    884                  }
    885                  else
    886          #endif // !GATT_DB_OFF_CHIP && TESTMODE
    887                  if ( pPrepareWrites != NULL )
   \   0006B5   90....       MOV     DPTR,#??pPrepareWrites
   \   0006B8   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_383:
   \   0006BB   6040         JZ      ??processExMsgATT_30
    888                  {
    889                    // GATT Reliable Writes - send all saved Prepare Write Requests
    890                    stat = GATT_ReliableWrites( connHandle, pPrepareWrites, numPrepareWrites,
    891                                                msg.executeWriteReq.flags, hciExtApp_TaskID );
   \   0006BD                ; Setup parameters for call to function GATT_ReliableWrites
   \   0006BD   12....       LCALL   ?Subroutine66 & 0xFFFF
   \                     ??CrossCallReturnLabel_310:
   \   0006C0   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0006C3   7401         MOV     A,#0x1
   \   0006C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0006C8   12....       LCALL   ??Subroutine141_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_306:
   \   0006CB   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0006CE   90....       MOV     DPTR,#??numPrepareWrites
   \   0006D1   E0           MOVX    A,@DPTR
   \   0006D2   F9           MOV     R1,A
   \   0006D3   90....       MOV     DPTR,#??pPrepareWrites
   \   0006D6   12....       LCALL   ??Subroutine144_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_325:
   \   0006D9   12....       LCALL   ??GATT_ReliableWrites?relay; Banked call to: GATT_ReliableWrites
   \   0006DC   7402         MOV     A,#0x2
   \   0006DE   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006E1   E9           MOV     A,R1
   \   0006E2   F5..         MOV     ?V2,A
    892                    if ( stat != SUCCESS )
   \   0006E4   6009         JZ      ??processExMsgATT_43
    893                    {
    894                      osal_mem_free( pPrepareWrites );
   \   0006E6                ; Setup parameters for call to function osal_mem_free
   \   0006E6   90....       MOV     DPTR,#??pPrepareWrites
   \   0006E9   12....       LCALL   ?Subroutine54 & 0xFFFF
    895                    }
   \                     ??CrossCallReturnLabel_151:
   \   0006EC   12....       LCALL   ??osal_mem_free?relay; Banked call to: osal_mem_free
    896                    // else pPrepareWrites will be freed by GATT Client
    897          
    898                    // Reset GATT Reliable Writes variables
    899                    pPrepareWrites = NULL;
   \                     ??processExMsgATT_43:
   \   0006EF   90....       MOV     DPTR,#??pPrepareWrites
   \   0006F2   E4           CLR     A
   \   0006F3   F0           MOVX    @DPTR,A
   \   0006F4   A3           INC     DPTR
   \   0006F5   F0           MOVX    @DPTR,A
    900                    numPrepareWrites = 0;
   \   0006F6   90....       MOV     DPTR,#??numPrepareWrites
   \   0006F9   F0           MOVX    @DPTR,A
   \   0006FA   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    901                  }
    902                  else
    903                  {
    904                    stat = INVALIDPARAMETER;
   \                     ??processExMsgATT_30:
   \   0006FD   75..02       MOV     ?V2,#0x2
   \   000700   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    905                  }
    906                }
    907                break;
    908          
    909              case ATT_EXECUTE_WRITE_RSP:
    910                stat = ATT_ParseExecuteWriteRsp( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_23:
   \   000703                ; Setup parameters for call to function ATT_ParseExecuteWriteRsp
   \   000703   A8..         MOV     R0,?XSP + 0
   \   000705   A9..         MOV     R1,?XSP + 1
   \   000707   88..         MOV     ?V2,R0
   \   000709   89..         MOV     ?V3,R1
   \   00070B   78..         MOV     R0,#?V2
   \   00070D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000710   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_129:
   \   000713   12....       LCALL   ??ATT_ParseExecuteWriteRsp?relay; Banked call to: ATT_ParseExecuteWriteRsp
   \   000716   7402         MOV     A,#0x2
   \   000718   12....       LCALL   ?DEALLOC_XSTACK8
   \   00071B   E9           MOV     A,R1
   \   00071C   F5..         MOV     ?V2,A
    911                if ( stat == SUCCESS )
   \   00071E   6003         JZ      $+5
   \   000720   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    912                {
    913                  stat = ATT_ExecuteWriteRsp( connHandle );
   \   000723                ; Setup parameters for call to function ATT_ExecuteWriteRsp
   \   000723   EE           MOV     A,R6
   \   000724   FA           MOV     R2,A
   \   000725   EF           MOV     A,R7
   \   000726   FB           MOV     R3,A
   \   000727   12....       LCALL   ??ATT_ExecuteWriteRsp?relay; Banked call to: ATT_ExecuteWriteRsp
   \   00072A   02....       LJMP    ??processExMsgATT_28 & 0xFFFF
    914                }
    915                break;
    916          
    917              case ATT_HANDLE_VALUE_NOTI:
    918                stat = ATT_ParseHandleValueInd( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[3], pCmd->len-3, &msg );
   \                     ??processExMsgATT_24:
   \   00072D                ; Setup parameters for call to function ATT_ParseHandleValueInd
   \   00072D   A8..         MOV     R0,?XSP + 0
   \   00072F   A9..         MOV     R1,?XSP + 1
   \   000731   88..         MOV     ?V2,R0
   \   000733   89..         MOV     ?V3,R1
   \   000735   78..         MOV     R0,#?V2
   \   000737   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00073A   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_131:
   \   00073D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000740   0C           INC     R4
   \   000741   0C           INC     R4
   \   000742   0C           INC     R4
   \   000743   AD..         MOV     R5,?V5
   \   000745   7A00         MOV     R2,#0x0
   \   000747   7900         MOV     R1,#0x0
   \   000749   12....       LCALL   ??ATT_ParseHandleValueInd?relay; Banked call to: ATT_ParseHandleValueInd
   \   00074C   7404         MOV     A,#0x4
   \   00074E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000751   E9           MOV     A,R1
   \   000752   F5..         MOV     ?V2,A
    919                if ( stat == SUCCESS )
   \   000754   6003         JZ      $+5
   \   000756   02....       LJMP    ??processExMsgATT_27 & 0xFFFF
    920                {
    921                  stat = GATT_Notification( connHandle, &msg.handleValueNoti, pBuf[2] );
   \   000759                ; Setup parameters for call to function GATT_Notification
   \   000759   85..82       MOV     DPL,?V0
   \   00075C   85..83       MOV     DPH,?V1
   \   00075F   12....       LCALL   ??Subroutine140_0 & 0xFFFF
    922                }
   \                     ??CrossCallReturnLabel_297:
   \   000762   12....       LCALL   ??GATT_Notification?relay; Banked call to: GATT_Notification
   \   000765   8073         SJMP    ??processExMsgATT_28
    923                break;
    924          
    925              case ATT_HANDLE_VALUE_IND:
    926                stat = ATT_ParseHandleValueInd( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[3], pCmd->len-3, &msg );
   \                     ??processExMsgATT_25:
   \   000767                ; Setup parameters for call to function ATT_ParseHandleValueInd
   \   000767   A8..         MOV     R0,?XSP + 0
   \   000769   A9..         MOV     R1,?XSP + 1
   \   00076B   88..         MOV     ?V2,R0
   \   00076D   89..         MOV     ?V3,R1
   \   00076F   78..         MOV     R0,#?V2
   \   000771   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000774   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_132:
   \   000777   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00077A   0C           INC     R4
   \   00077B   0C           INC     R4
   \   00077C   0C           INC     R4
   \   00077D   AD..         MOV     R5,?V5
   \   00077F   7A00         MOV     R2,#0x0
   \   000781   7900         MOV     R1,#0x0
   \   000783   12....       LCALL   ??ATT_ParseHandleValueInd?relay; Banked call to: ATT_ParseHandleValueInd
   \   000786   7404         MOV     A,#0x4
   \   000788   12....       LCALL   ?DEALLOC_XSTACK8
   \   00078B   E9           MOV     A,R1
   \   00078C   F5..         MOV     ?V2,A
    927                if ( stat == SUCCESS )
   \   00078E   7052         JNZ     ??processExMsgATT_27
    928                {
    929                  stat = GATT_Indication( connHandle, &msg.handleValueInd, pBuf[2], hciExtApp_TaskID );
   \   000790                ; Setup parameters for call to function GATT_Indication
   \   000790   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000793   E0           MOVX    A,@DPTR
   \   000794   F5..         MOV     ?V2,A
   \   000796   78..         MOV     R0,#?V2
   \   000798   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00079B   85..82       MOV     DPL,?V0
   \   00079E   85..83       MOV     DPH,?V1
   \   0007A1   E0           MOVX    A,@DPTR
   \   0007A2   F9           MOV     R1,A
   \   0007A3   7401         MOV     A,#0x1
   \   0007A5   12....       LCALL   ?XSTACK_DISP102_8
   \   0007A8   EE           MOV     A,R6
   \   0007A9   FA           MOV     R2,A
   \   0007AA   EF           MOV     A,R7
   \   0007AB   FB           MOV     R3,A
   \   0007AC   12....       LCALL   ??GATT_Indication?relay; Banked call to: GATT_Indication
   \                     ??processExMsgATT_33:
   \   0007AF   7401         MOV     A,#0x1
   \   0007B1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0007B4   8024         SJMP    ??processExMsgATT_28
    930                }
    931                break;
    932          
    933              case ATT_HANDLE_VALUE_CFM:
    934                stat = ATT_ParseHandleValueCfm( &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgATT_26:
   \   0007B6                ; Setup parameters for call to function ATT_ParseHandleValueCfm
   \   0007B6   A8..         MOV     R0,?XSP + 0
   \   0007B8   A9..         MOV     R1,?XSP + 1
   \   0007BA   88..         MOV     ?V2,R0
   \   0007BC   89..         MOV     ?V3,R1
   \   0007BE   78..         MOV     R0,#?V2
   \   0007C0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0007C3   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_130:
   \   0007C6   12....       LCALL   ??ATT_ParseHandleValueCfm?relay; Banked call to: ATT_ParseHandleValueCfm
   \   0007C9   7402         MOV     A,#0x2
   \   0007CB   12....       LCALL   ?DEALLOC_XSTACK8
   \   0007CE   E9           MOV     A,R1
   \   0007CF   F5..         MOV     ?V2,A
    935                if ( stat == SUCCESS )
   \   0007D1   700F         JNZ     ??processExMsgATT_27
    936                {
    937                  stat = ATT_HandleValueCfm( connHandle );
   \   0007D3                ; Setup parameters for call to function ATT_HandleValueCfm
   \   0007D3   EE           MOV     A,R6
   \   0007D4   FA           MOV     R2,A
   \   0007D5   EF           MOV     A,R7
   \   0007D6   FB           MOV     R3,A
   \   0007D7   12....       LCALL   ??ATT_HandleValueCfm?relay; Banked call to: ATT_HandleValueCfm
   \                     ??processExMsgATT_28:
   \   0007DA   E9           MOV     A,R1
   \   0007DB   F5..         MOV     ?V2,A
   \   0007DD   8003         SJMP    ??processExMsgATT_27
    938                }
    939                break;
    940          
    941              default:
    942                stat = FAILURE;
   \                     ??processExMsgATT_0:
   \   0007DF   75..01       MOV     ?V2,#0x1
    943                break;
    944            }
    945          
    946            return ( mapATT2BLEStatus( stat ) );
   \                     ??processExMsgATT_27:
   \   0007E2                ; Setup parameters for call to function mapATT2BLEStatus
   \   0007E2   A9..         MOV     R1,?V2
   \   0007E4   12....       LCALL   ??mapATT2BLEStatus?relay; Banked call to: mapATT2BLEStatus
   \   0007E7   741A         MOV     A,#0x1a
   \   0007E9   02....       LJMP    ??Subroutine145_0 & 0xFFFF
    947          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine45:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   24FE         ADD     A,#-0x2
   \   00000A   FC           MOV     R4,A
   \   00000B   E4           CLR     A
   \   00000C   34FF         ADDC    A,#-0x1
   \   00000E   FD           MOV     R5,A
   \   00000F   AA..         MOV     R2,?V0
   \   000011   AB..         MOV     R3,?V1
   \   000013   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine66:
   \   000000   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000003                REQUIRE ??Subroutine141_0
   \   000003                ; // Fall through to label ??Subroutine141_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine141_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0,A
   \   000003   78..         MOV     R0,#?V0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine63:
   \   000000   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   EE           MOV     A,R6
   \   000006   FA           MOV     R2,A
   \   000007   EF           MOV     A,R7
   \   000008   FB           MOV     R3,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine53:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0,A
   \   000003   75..00       MOV     ?V1,#0x0
   \   000006   78..         MOV     R0,#?V0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine49:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   24FD         ADD     A,#-0x3
   \   00000A   12....       LCALL   ?Subroutine120 & 0xFFFF
   \                     ??CrossCallReturnLabel_268:
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine144_0:
   \   000000   12....       LCALL   ?Subroutine115 & 0xFFFF
   \                     ??CrossCallReturnLabel_336:
   \   000003   EE           MOV     A,R6
   \   000004   FA           MOV     R2,A
   \   000005   EF           MOV     A,R7
   \   000006   FB           MOV     R3,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   12....       LCALL   ?Subroutine104 & 0xFFFF
   \                     ??CrossCallReturnLabel_245:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine115:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FC           MOV     R4,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FD           MOV     R5,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine160_0:
   \   000000   12....       LCALL   ??Subroutine170_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_447:
   \   000003   E8           MOV     A,R0
   \   000004   49           ORL     A,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine104:
   \   000000   12....       LCALL   ?Subroutine126 & 0xFFFF
   \                     ??CrossCallReturnLabel_273:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine126:
   \   000000   12....       LCALL   ?Subroutine136 & 0xFFFF
   \                     ??CrossCallReturnLabel_281:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine136:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??numPrepareWrites:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??pPrepareWrites:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    948          
    949          /*********************************************************************
    950           * @fn      processExMsgGATT
    951           *
    952           * @brief   Parse and process incoming HCI extension GATT messages.
    953           *
    954           * @param   cmdID - incoming HCI extension command ID.
    955           * @param   pCmd - incoming HCI extension message.
    956           * @param   pRspDataLen - response data length to be returned.
    957           *
    958           * @return  SUCCESS, INVALIDPARAMETER, FAILURE,
    959           *          bleInvalidPDU or bleMemAllocError
    960           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    961          static uint8 processExMsgGATT( uint8 cmdID, hciExtCmd_t *pCmd, uint8 *pRspDataLen )
   \                     processExMsgGATT:
    962          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 41
   \   000005   74D7         MOV     A,#-0x29
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   85..82       MOV     DPL,?XSP + 0
   \   00000E   85..83       MOV     DPH,?XSP + 1
   \   000011   F0           MOVX    @DPTR,A
   \   000012   7403         MOV     A,#0x3
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   EC           MOV     A,R4
   \   000018   F0           MOVX    @DPTR,A
   \   000019   A3           INC     DPTR
   \   00001A   ED           MOV     A,R5
   \   00001B   12....       LCALL   ?Subroutine36 & 0xFFFF
    963          #ifdef GATT_DB_OFF_CHIP
    964            static uint16 totalAttrs = 0;
    965            static gattService_t service = { 0, NULL };
    966          #endif
    967            uint8 *pBuf = pCmd->pData;
   \                     ??CrossCallReturnLabel_75:
   \   00001E   F5..         MOV     ?V2,A
   \   000020   A3           INC     DPTR
   \   000021   E0           MOVX    A,@DPTR
   \   000022   F5..         MOV     ?V3,A
    968            uint16 connHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \   000024   85..82       MOV     DPL,?V2
   \   000027   F583         MOV     DPH,A
   \   000029   A3           INC     DPTR
   \   00002A   A882         MOV     R0,DPL
   \   00002C   A983         MOV     R1,DPH
   \   00002E   85..82       MOV     DPL,?V2
   \   000031   F583         MOV     DPH,A
   \   000033   E0           MOVX    A,@DPTR
   \   000034   FE           MOV     R6,A
   \   000035   8882         MOV     DPL,R0
   \   000037   8983         MOV     DPH,R1
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   FD           MOV     R5,A
   \   00003B   EE           MOV     A,R6
   \   00003C   FC           MOV     R4,A
   \   00003D   ED           MOV     A,R5
   \   00003E   FF           MOV     R7,A
    969            attMsg_t msg;
    970            bStatus_t stat = SUCCESS;
   \   00003F   75..00       MOV     ?V4,#0x0
   \   000042   E5..         MOV     A,?V2
   \   000044   2403         ADD     A,#0x3
   \   000046   F5..         MOV     ?V6,A
   \   000048   E4           CLR     A
   \   000049   35..         ADDC    A,?V3
   \   00004B   F5..         MOV     ?V7,A
   \   00004D   E5..         MOV     A,?V2
   \   00004F   2402         ADD     A,#0x2
   \   000051   F5..         MOV     ?V0,A
   \   000053   E4           CLR     A
   \   000054   35..         ADDC    A,?V3
   \   000056   F5..         MOV     ?V1,A
   \   000058   85..82       MOV     DPL,?XSP + 0
   \   00005B   85..83       MOV     DPH,?XSP + 1
   \   00005E   E0           MOVX    A,@DPTR
   \   00005F   12....       LCALL   ?UC_SWITCH_SPARSE
   \                     `?<Jumptable for processExMsgGATT>_0`:
   \   000062   00           DB        0
   \   000063   19           DB        25
   \   000064   02           DB        2
   \   000065   ....         DW        ??processExMsgGATT_0
   \   000067   04           DB        4
   \   000068   ....         DW        ??processExMsgGATT_1
   \   00006A   06           DB        6
   \   00006B   ....         DW        ??processExMsgGATT_2
   \   00006D   08           DB        8
   \   00006E   ....         DW        ??processExMsgGATT_3
   \   000070   0A           DB        10
   \   000071   ....         DW        ??processExMsgGATT_4
   \   000073   0C           DB        12
   \   000074   ....         DW        ??processExMsgGATT_5
   \   000076   0E           DB        14
   \   000077   ....         DW        ??processExMsgGATT_6
   \   000079   10           DB        16
   \   00007A   ....         DW        ??processExMsgGATT_7
   \   00007C   12           DB        18
   \   00007D   ....         DW        ??processExMsgGATT_8
   \   00007F   16           DB        22
   \   000080   ....         DW        ??processExMsgGATT_9
   \   000082   1B           DB        27
   \   000083   ....         DW        ??processExMsgGATT_10
   \   000085   1D           DB        29
   \   000086   ....         DW        ??processExMsgGATT_11
   \   000088   30           DB        48
   \   000089   ....         DW        ??processExMsgGATT_12
   \   00008B   32           DB        50
   \   00008C   ....         DW        ??processExMsgGATT_12
   \   00008E   34           DB        52
   \   00008F   ....         DW        ??processExMsgGATT_13
   \   000091   36           DB        54
   \   000092   ....         DW        ??processExMsgGATT_14
   \   000094   38           DB        56
   \   000095   ....         DW        ??processExMsgGATT_15
   \   000097   3A           DB        58
   \   000098   ....         DW        ??processExMsgGATT_16
   \   00009A   3C           DB        60
   \   00009B   ....         DW        ??processExMsgGATT_17
   \   00009D   3E           DB        62
   \   00009E   ....         DW        ??processExMsgGATT_18
   \   0000A0   40           DB        64
   \   0000A1   ....         DW        ??processExMsgGATT_19
   \   0000A3   42           DB        66
   \   0000A4   ....         DW        ??processExMsgGATT_9
   \   0000A6   7C           DB        124
   \   0000A7   ....         DW        ??processExMsgGATT_20
   \   0000A9   7D           DB        125
   \   0000AA   ....         DW        ??processExMsgGATT_21
   \   0000AC   7E           DB        126
   \   0000AD   ....         DW        ??processExMsgGATT_22
   \   0000AF   ....         DW        ??processExMsgGATT_23
    971          
    972            switch( cmdID )
    973            {
    974              case ATT_EXCHANGE_MTU_REQ: // GATT Exchange MTU
    975                stat = ATT_ParseExchangeMTUReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_0:
   \   0000B1                ; Setup parameters for call to function ATT_ParseExchangeMTUReq
   \   0000B1   740C         MOV     A,#0xc
   \   0000B3   12....       LCALL   ?XSTACK_DISP100_8
   \   0000B6   88..         MOV     ?V2,R0
   \   0000B8   89..         MOV     ?V3,R1
   \   0000BA   78..         MOV     R0,#?V2
   \   0000BC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000BF   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_105:
   \   0000C2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C5   AC..         MOV     R4,?V0
   \   0000C7   AD..         MOV     R5,?V1
   \   0000C9   7A00         MOV     R2,#0x0
   \   0000CB   7900         MOV     R1,#0x0
   \   0000CD   12....       LCALL   ??ATT_ParseExchangeMTUReq?relay; Banked call to: ATT_ParseExchangeMTUReq
   \   0000D0   7404         MOV     A,#0x4
   \   0000D2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000D5   E9           MOV     A,R1
   \   0000D6   F5..         MOV     ?V4,A
    976                if ( stat == SUCCESS )
   \   0000D8   6003         JZ      $+5
   \   0000DA   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
    977                {
    978                  stat = GATT_ExchangeMTU( connHandle, &msg.exchangeMTUReq, hciExtApp_TaskID );
   \   0000DD                ; Setup parameters for call to function GATT_ExchangeMTU
   \   0000DD   12....       LCALL   ?Subroutine61 & 0xFFFF
    979                }
   \                     ??CrossCallReturnLabel_312:
   \   0000E0   12....       LCALL   ?XSTACK_DISP102_8
   \   0000E3   EE           MOV     A,R6
   \   0000E4   FA           MOV     R2,A
   \   0000E5   EF           MOV     A,R7
   \   0000E6   FB           MOV     R3,A
   \   0000E7   12....       LCALL   ??GATT_ExchangeMTU?relay; Banked call to: GATT_ExchangeMTU
   \   0000EA   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
    980                break;
    981          
    982              case ATT_READ_BY_GRP_TYPE_REQ: // GATT Discover All Primary Services
    983                stat = GATT_DiscAllPrimaryServices( connHandle, hciExtApp_TaskID );
   \                     ??processExMsgGATT_7:
   \   0000ED                ; Setup parameters for call to function GATT_DiscAllPrimaryServices
   \   0000ED   12....       LCALL   ?Subroutine63 & 0xFFFF
   \                     ??CrossCallReturnLabel_170:
   \   0000F0   12....       LCALL   ??GATT_DiscAllPrimaryServices?relay; Banked call to: GATT_DiscAllPrimaryServices
   \   0000F3   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
    984                break;
    985          
    986              case ATT_FIND_BY_TYPE_VALUE_REQ: // GATT Discover Primary Service By UUID
    987                stat = GATT_DiscPrimaryServiceByUUID( connHandle, &pBuf[2],
    988                                                      pCmd->len-2, hciExtApp_TaskID );
   \                     ??processExMsgGATT_2:
   \   0000F6                ; Setup parameters for call to function GATT_DiscPrimaryServiceByUUID
   \   0000F6   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0000F9   E0           MOVX    A,@DPTR
   \   0000FA   F5..         MOV     ?V2,A
   \   0000FC   78..         MOV     R0,#?V2
   \   0000FE   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000101   8A82         MOV     DPL,R2
   \   000103   8B83         MOV     DPH,R3
   \   000105   A3           INC     DPTR
   \   000106   A3           INC     DPTR
   \   000107   A3           INC     DPTR
   \   000108   E0           MOVX    A,@DPTR
   \   000109   24FE         ADD     A,#-0x2
   \   00010B   F9           MOV     R1,A
   \   00010C   AC..         MOV     R4,?V0
   \   00010E   AD..         MOV     R5,?V1
   \   000110   EE           MOV     A,R6
   \   000111   FA           MOV     R2,A
   \   000112   EF           MOV     A,R7
   \   000113   FB           MOV     R3,A
   \   000114   12....       LCALL   ??GATT_DiscPrimaryServiceByUUID?relay; Banked call to: GATT_DiscPrimaryServiceByUUID
   \   000117   02....       LJMP    ??processExMsgGATT_26 & 0xFFFF
    989                break;
    990          
    991              case GATT_FIND_INCLUDED_SERVICES: // GATT Find Included Services
    992              case GATT_DISC_ALL_CHARS: // GATT Discover All Characteristics
    993                if ( ( pCmd->len-2 ) == READ_BY_TYPE_REQ_FIXED_SIZE )
   \                     ??processExMsgGATT_12:
   \   00011A   12....       LCALL   ?Subroutine80 & 0xFFFF
   \                     ??CrossCallReturnLabel_208:
   \   00011D   7404         MOV     A,#0x4
   \   00011F   68           XRL     A,R0
   \   000120   49           ORL     A,R1
   \   000121   6003         JZ      $+5
   \   000123   02....       LJMP    ??processExMsgGATT_27 & 0xFFFF
    994                {
    995                  // First requested handle number
    996                  uint16 startHandle = BUILD_UINT16( pBuf[2], pBuf[3] );
   \   000126   85..82       MOV     DPL,?V0
   \   000129   85..83       MOV     DPH,?V1
   \   00012C   E0           MOVX    A,@DPTR
   \   00012D   FA           MOV     R2,A
   \   00012E   85..82       MOV     DPL,?V6
   \   000131   85..83       MOV     DPH,?V7
   \   000134   12....       LCALL   ??Subroutine147_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_337:
   \   000137   FC           MOV     R4,A
   \   000138   E4           CLR     A
   \   000139   39           ADDC    A,R1
   \   00013A   FD           MOV     R5,A
    997          
    998                  // Last requested handle number
    999                  uint16 endHandle = BUILD_UINT16( pBuf[4], pBuf[5] );
   \   00013B   85..82       MOV     DPL,?V2
   \   00013E   85..83       MOV     DPH,?V3
   \   000141   A3           INC     DPTR
   \   000142   A3           INC     DPTR
   \   000143   A3           INC     DPTR
   \   000144   A3           INC     DPTR
   \   000145   E0           MOVX    A,@DPTR
   \   000146   FA           MOV     R2,A
   \   000147   85..82       MOV     DPL,?V2
   \   00014A   85..83       MOV     DPH,?V3
   \   00014D   A3           INC     DPTR
   \   00014E   A3           INC     DPTR
   \   00014F   A3           INC     DPTR
   \   000150   A3           INC     DPTR
   \   000151   A3           INC     DPTR
   \   000152   E0           MOVX    A,@DPTR
   \   000153   F9           MOV     R1,A
   \   000154   EA           MOV     A,R2
   \   000155   F5..         MOV     ?V0,A
   \   000157   E4           CLR     A
   \   000158   39           ADDC    A,R1
   \   000159   F5..         MOV     ?V1,A
   1000          
   1001                  if ( cmdID == GATT_FIND_INCLUDED_SERVICES )
   \   00015B   85..82       MOV     DPL,?XSP + 0
   \   00015E   85..83       MOV     DPH,?XSP + 1
   \   000161   E0           MOVX    A,@DPTR
   \   000162   6430         XRL     A,#0x30
   \   000164   78..         MOV     R0,#?V0
   \   000166   700C         JNZ     ??processExMsgGATT_28
   1002                  {
   1003                    stat = GATT_FindIncludedServices( connHandle, startHandle,
   1004                                                      endHandle, hciExtApp_TaskID );
   \   000168                ; Setup parameters for call to function GATT_FindIncludedServices
   \   000168   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00016B   12....       LCALL   ?Subroutine63 & 0xFFFF
   1005                  }
   \                     ??CrossCallReturnLabel_171:
   \   00016E   12....       LCALL   ??GATT_FindIncludedServices?relay; Banked call to: GATT_FindIncludedServices
   \   000171   02....       LJMP    ??processExMsgGATT_29 & 0xFFFF
   1006                  else
   1007                  {
   1008                    stat = GATT_DiscAllChars( connHandle, startHandle,
   1009                                              endHandle, hciExtApp_TaskID );
   \                     ??processExMsgGATT_28:
   \   000174                ; Setup parameters for call to function GATT_DiscAllChars
   \   000174   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000177   12....       LCALL   ?Subroutine63 & 0xFFFF
   1010                  }
   1011                }
   \                     ??CrossCallReturnLabel_172:
   \   00017A   12....       LCALL   ??GATT_DiscAllChars?relay; Banked call to: GATT_DiscAllChars
   \   00017D   02....       LJMP    ??processExMsgGATT_29 & 0xFFFF
   1012                else
   1013                {
   1014                  stat = ATT_ERR_INVALID_PDU;
   1015                }
   1016                break;
   1017          
   1018              case ATT_READ_BY_TYPE_REQ: // GATT Discover Characteristics by UUID
   1019                stat = ATT_ParseReadByTypeReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_3:
   \   000180                ; Setup parameters for call to function ATT_ParseReadByTypeReq
   \   000180   740C         MOV     A,#0xc
   \   000182   12....       LCALL   ?XSTACK_DISP100_8
   \   000185   88..         MOV     ?V2,R0
   \   000187   89..         MOV     ?V3,R1
   \   000189   78..         MOV     R0,#?V2
   \   00018B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00018E   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   000191   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000194   AC..         MOV     R4,?V0
   \   000196   AD..         MOV     R5,?V1
   \   000198   7A00         MOV     R2,#0x0
   \   00019A   7900         MOV     R1,#0x0
   \   00019C   12....       LCALL   ??ATT_ParseReadByTypeReq?relay; Banked call to: ATT_ParseReadByTypeReq
   \   00019F   7404         MOV     A,#0x4
   \   0001A1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A4   E9           MOV     A,R1
   \   0001A5   F5..         MOV     ?V4,A
   1020                if ( stat == SUCCESS )
   \   0001A7   6003         JZ      $+5
   \   0001A9   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1021                {
   1022                  stat = GATT_DiscCharsByUUID( connHandle, &msg.readByTypeReq, hciExtApp_TaskID );
   \   0001AC                ; Setup parameters for call to function GATT_DiscCharsByUUID
   \   0001AC   12....       LCALL   ?Subroutine61 & 0xFFFF
   1023                }
   \                     ??CrossCallReturnLabel_313:
   \   0001AF   12....       LCALL   ?XSTACK_DISP102_8
   \   0001B2   EE           MOV     A,R6
   \   0001B3   FA           MOV     R2,A
   \   0001B4   EF           MOV     A,R7
   \   0001B5   FB           MOV     R3,A
   \   0001B6   12....       LCALL   ??GATT_DiscCharsByUUID?relay; Banked call to: GATT_DiscCharsByUUID
   \   0001B9   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1024                break;
   1025          
   1026              case ATT_FIND_INFO_REQ: // GATT Discover All Characteristic Descriptors
   1027                stat = ATT_ParseFindInfoReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_1:
   \   0001BC                ; Setup parameters for call to function ATT_ParseFindInfoReq
   \   0001BC   740C         MOV     A,#0xc
   \   0001BE   12....       LCALL   ?XSTACK_DISP100_8
   \   0001C1   88..         MOV     ?V2,R0
   \   0001C3   89..         MOV     ?V3,R1
   \   0001C5   78..         MOV     R0,#?V2
   \   0001C7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001CA   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_107:
   \   0001CD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001D0   AC..         MOV     R4,?V0
   \   0001D2   AD..         MOV     R5,?V1
   \   0001D4   7A00         MOV     R2,#0x0
   \   0001D6   7900         MOV     R1,#0x0
   \   0001D8   12....       LCALL   ??ATT_ParseFindInfoReq?relay; Banked call to: ATT_ParseFindInfoReq
   \   0001DB   7404         MOV     A,#0x4
   \   0001DD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001E0   E9           MOV     A,R1
   \   0001E1   F5..         MOV     ?V4,A
   1028                if ( stat == SUCCESS )
   \   0001E3   6003         JZ      $+5
   \   0001E5   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1029                {
   1030                  stat = GATT_DiscAllCharDescs( connHandle, msg.findInfoReq.startHandle,
   1031                                                msg.findInfoReq.endHandle, hciExtApp_TaskID );
   \   0001E8                ; Setup parameters for call to function GATT_DiscAllCharDescs
   \   0001E8   740E         MOV     A,#0xe
   \   0001EA   12....       LCALL   ?XSTACK_DISP0_8
   \   0001ED   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0001F0   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0001F3   E0           MOVX    A,@DPTR
   \   0001F4   F9           MOV     R1,A
   \   0001F5   740E         MOV     A,#0xe
   \   0001F7   12....       LCALL   ?XSTACK_DISP0_8
   \   0001FA   12....       LCALL   ??Subroutine144_0 & 0xFFFF
   1032                }
   \                     ??CrossCallReturnLabel_326:
   \   0001FD   12....       LCALL   ??GATT_DiscAllCharDescs?relay; Banked call to: GATT_DiscAllCharDescs
   \                     ??processExMsgGATT_29:
   \   000200   7402         MOV     A,#0x2
   \   000202   12....       LCALL   ?DEALLOC_XSTACK8
   \   000205   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1033                break;
   1034          
   1035              case ATT_READ_REQ: // GATT Read Characteristic Value
   1036                stat = ATT_ParseReadReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_4:
   \   000208                ; Setup parameters for call to function ATT_ParseReadReq
   \   000208   740C         MOV     A,#0xc
   \   00020A   12....       LCALL   ?XSTACK_DISP100_8
   \   00020D   88..         MOV     ?V2,R0
   \   00020F   89..         MOV     ?V3,R1
   \   000211   78..         MOV     R0,#?V2
   \   000213   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000216   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_108:
   \   000219   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00021C   AC..         MOV     R4,?V0
   \   00021E   AD..         MOV     R5,?V1
   \   000220   7A00         MOV     R2,#0x0
   \   000222   7900         MOV     R1,#0x0
   \   000224   12....       LCALL   ??ATT_ParseReadReq?relay; Banked call to: ATT_ParseReadReq
   \   000227   7404         MOV     A,#0x4
   \   000229   12....       LCALL   ?DEALLOC_XSTACK8
   \   00022C   E9           MOV     A,R1
   \   00022D   F5..         MOV     ?V4,A
   1037                if ( stat == SUCCESS )
   \   00022F   6003         JZ      $+5
   \   000231   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1038                {
   1039                  stat = GATT_ReadCharValue( connHandle, &msg.readReq, hciExtApp_TaskID );
   \   000234                ; Setup parameters for call to function GATT_ReadCharValue
   \   000234   12....       LCALL   ?Subroutine61 & 0xFFFF
   1040                }
   \                     ??CrossCallReturnLabel_314:
   \   000237   12....       LCALL   ?XSTACK_DISP102_8
   \   00023A   EE           MOV     A,R6
   \   00023B   FA           MOV     R2,A
   \   00023C   EF           MOV     A,R7
   \   00023D   FB           MOV     R3,A
   \   00023E   12....       LCALL   ??GATT_ReadCharValue?relay; Banked call to: GATT_ReadCharValue
   \   000241   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1041                break;
   1042          
   1043              case GATT_READ_USING_CHAR_UUID: // GATT Read Using Characteristic UUID
   1044                stat = ATT_ParseReadByTypeReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_13:
   \   000244                ; Setup parameters for call to function ATT_ParseReadByTypeReq
   \   000244   740C         MOV     A,#0xc
   \   000246   12....       LCALL   ?XSTACK_DISP100_8
   \   000249   88..         MOV     ?V2,R0
   \   00024B   89..         MOV     ?V3,R1
   \   00024D   78..         MOV     R0,#?V2
   \   00024F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000252   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_109:
   \   000255   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000258   AC..         MOV     R4,?V0
   \   00025A   AD..         MOV     R5,?V1
   \   00025C   7A00         MOV     R2,#0x0
   \   00025E   7900         MOV     R1,#0x0
   \   000260   12....       LCALL   ??ATT_ParseReadByTypeReq?relay; Banked call to: ATT_ParseReadByTypeReq
   \   000263   7404         MOV     A,#0x4
   \   000265   12....       LCALL   ?DEALLOC_XSTACK8
   \   000268   E9           MOV     A,R1
   \   000269   F5..         MOV     ?V4,A
   1045                if ( stat == SUCCESS )
   \   00026B   6003         JZ      $+5
   \   00026D   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1046                {
   1047                  stat = GATT_ReadUsingCharUUID( connHandle, &msg.readByTypeReq, hciExtApp_TaskID );
   \   000270                ; Setup parameters for call to function GATT_ReadUsingCharUUID
   \   000270   12....       LCALL   ?Subroutine61 & 0xFFFF
   1048                }
   \                     ??CrossCallReturnLabel_315:
   \   000273   12....       LCALL   ?XSTACK_DISP102_8
   \   000276   EE           MOV     A,R6
   \   000277   FA           MOV     R2,A
   \   000278   EF           MOV     A,R7
   \   000279   FB           MOV     R3,A
   \   00027A   12....       LCALL   ??GATT_ReadUsingCharUUID?relay; Banked call to: GATT_ReadUsingCharUUID
   \   00027D   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1049                break;
   1050          
   1051              case ATT_READ_BLOB_REQ: // GATT Read Long Characteristic Value
   1052                stat = ATT_ParseReadBlobReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_5:
   \   000280                ; Setup parameters for call to function ATT_ParseReadBlobReq
   \   000280   740C         MOV     A,#0xc
   \   000282   12....       LCALL   ?XSTACK_DISP100_8
   \   000285   88..         MOV     ?V2,R0
   \   000287   89..         MOV     ?V3,R1
   \   000289   78..         MOV     R0,#?V2
   \   00028B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00028E   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_110:
   \   000291   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000294   AC..         MOV     R4,?V0
   \   000296   AD..         MOV     R5,?V1
   \   000298   7A00         MOV     R2,#0x0
   \   00029A   7900         MOV     R1,#0x0
   \   00029C   12....       LCALL   ??ATT_ParseReadBlobReq?relay; Banked call to: ATT_ParseReadBlobReq
   \   00029F   7404         MOV     A,#0x4
   \   0002A1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002A4   E9           MOV     A,R1
   \   0002A5   F5..         MOV     ?V4,A
   1053                if ( stat == SUCCESS )
   \   0002A7   6003         JZ      $+5
   \   0002A9   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1054                {
   1055                  stat = GATT_ReadLongCharValue( connHandle, &msg.readBlobReq, hciExtApp_TaskID );
   \   0002AC                ; Setup parameters for call to function GATT_ReadLongCharValue
   \   0002AC   12....       LCALL   ?Subroutine61 & 0xFFFF
   1056                }
   \                     ??CrossCallReturnLabel_316:
   \   0002AF   12....       LCALL   ?XSTACK_DISP102_8
   \   0002B2   EE           MOV     A,R6
   \   0002B3   FA           MOV     R2,A
   \   0002B4   EF           MOV     A,R7
   \   0002B5   FB           MOV     R3,A
   \   0002B6   12....       LCALL   ??GATT_ReadLongCharValue?relay; Banked call to: GATT_ReadLongCharValue
   \   0002B9   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1057                break;
   1058          
   1059              case ATT_READ_MULTI_REQ: // GATT Read Multiple Characteristic Values
   1060                stat = ATT_ParseReadMultiReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_6:
   \   0002BC                ; Setup parameters for call to function ATT_ParseReadMultiReq
   \   0002BC   740C         MOV     A,#0xc
   \   0002BE   12....       LCALL   ?XSTACK_DISP100_8
   \   0002C1   88..         MOV     ?V2,R0
   \   0002C3   89..         MOV     ?V3,R1
   \   0002C5   78..         MOV     R0,#?V2
   \   0002C7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002CA   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   0002CD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002D0   AC..         MOV     R4,?V0
   \   0002D2   AD..         MOV     R5,?V1
   \   0002D4   7A00         MOV     R2,#0x0
   \   0002D6   7900         MOV     R1,#0x0
   \   0002D8   12....       LCALL   ??ATT_ParseReadMultiReq?relay; Banked call to: ATT_ParseReadMultiReq
   \   0002DB   7404         MOV     A,#0x4
   \   0002DD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002E0   E9           MOV     A,R1
   \   0002E1   F5..         MOV     ?V4,A
   1061                if ( stat == SUCCESS )
   \   0002E3   6003         JZ      $+5
   \   0002E5   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1062                {
   1063                  stat = GATT_ReadMultiCharValues( connHandle, &msg.readMultiReq, hciExtApp_TaskID );
   \   0002E8                ; Setup parameters for call to function GATT_ReadMultiCharValues
   \   0002E8   12....       LCALL   ?Subroutine61 & 0xFFFF
   1064                }
   \                     ??CrossCallReturnLabel_317:
   \   0002EB   12....       LCALL   ?XSTACK_DISP102_8
   \   0002EE   EE           MOV     A,R6
   \   0002EF   FA           MOV     R2,A
   \   0002F0   EF           MOV     A,R7
   \   0002F1   FB           MOV     R3,A
   \   0002F2   12....       LCALL   ??GATT_ReadMultiCharValues?relay; Banked call to: GATT_ReadMultiCharValues
   \   0002F5   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1065                break;
   1066          
   1067              case GATT_WRITE_NO_RSP: // GATT Write Without Response
   1068                stat = ATT_ParseWriteReq( FALSE, TRUE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_14:
   \   0002F8                ; Setup parameters for call to function ATT_ParseWriteReq
   \   0002F8   740C         MOV     A,#0xc
   \   0002FA   12....       LCALL   ?XSTACK_DISP100_8
   \   0002FD   88..         MOV     ?V2,R0
   \   0002FF   89..         MOV     ?V3,R1
   \   000301   78..         MOV     R0,#?V2
   \   000303   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000306   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   000309   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00030C   AC..         MOV     R4,?V0
   \   00030E   AD..         MOV     R5,?V1
   \   000310   7A01         MOV     R2,#0x1
   \   000312   7900         MOV     R1,#0x0
   \   000314   12....       LCALL   ??ATT_ParseWriteReq?relay; Banked call to: ATT_ParseWriteReq
   \   000317   7404         MOV     A,#0x4
   \   000319   12....       LCALL   ?DEALLOC_XSTACK8
   \   00031C   E9           MOV     A,R1
   \   00031D   F5..         MOV     ?V4,A
   1069                if ( stat == SUCCESS )
   \   00031F   6003         JZ      $+5
   \   000321   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1070                {
   1071                  stat = GATT_WriteNoRsp( connHandle, &msg.writeReq );
   \   000324                ; Setup parameters for call to function GATT_WriteNoRsp
   \   000324   740C         MOV     A,#0xc
   \   000326   12....       LCALL   ?XSTACK_DISP102_8
   \   000329   EE           MOV     A,R6
   \   00032A   FA           MOV     R2,A
   \   00032B   EF           MOV     A,R7
   \   00032C   FB           MOV     R3,A
   \   00032D   12....       LCALL   ??GATT_WriteNoRsp?relay; Banked call to: GATT_WriteNoRsp
   \   000330   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1072                }
   1073                break;
   1074          
   1075              case GATT_SIGNED_WRITE_NO_RSP: // GATT Signed Write Without Response
   1076                stat = ATT_ParseWriteReq( TRUE, TRUE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_15:
   \   000333                ; Setup parameters for call to function ATT_ParseWriteReq
   \   000333   740C         MOV     A,#0xc
   \   000335   12....       LCALL   ?XSTACK_DISP100_8
   \   000338   88..         MOV     ?V2,R0
   \   00033A   89..         MOV     ?V3,R1
   \   00033C   78..         MOV     R0,#?V2
   \   00033E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000341   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   000344   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000347   AC..         MOV     R4,?V0
   \   000349   AD..         MOV     R5,?V1
   \   00034B   7A01         MOV     R2,#0x1
   \   00034D   7901         MOV     R1,#0x1
   \   00034F   12....       LCALL   ??ATT_ParseWriteReq?relay; Banked call to: ATT_ParseWriteReq
   \   000352   7404         MOV     A,#0x4
   \   000354   12....       LCALL   ?DEALLOC_XSTACK8
   \   000357   E9           MOV     A,R1
   \   000358   F5..         MOV     ?V4,A
   1077                if ( stat == SUCCESS )
   \   00035A   6003         JZ      $+5
   \   00035C   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1078                {
   1079                  stat = GATT_SignedWriteNoRsp( connHandle, &msg.writeReq );
   \   00035F                ; Setup parameters for call to function GATT_SignedWriteNoRsp
   \   00035F   740C         MOV     A,#0xc
   \   000361   12....       LCALL   ?XSTACK_DISP102_8
   \   000364   EE           MOV     A,R6
   \   000365   FA           MOV     R2,A
   \   000366   EF           MOV     A,R7
   \   000367   FB           MOV     R3,A
   \   000368   12....       LCALL   ??GATT_SignedWriteNoRsp?relay; Banked call to: GATT_SignedWriteNoRsp
   \   00036B   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1080                }
   1081                break;
   1082          
   1083              case ATT_WRITE_REQ: // GATT Write Characteristic Value
   1084                stat = ATT_ParseWriteReq( FALSE, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_8:
   \   00036E                ; Setup parameters for call to function ATT_ParseWriteReq
   \   00036E   740C         MOV     A,#0xc
   \   000370   12....       LCALL   ?XSTACK_DISP100_8
   \   000373   88..         MOV     ?V2,R0
   \   000375   89..         MOV     ?V3,R1
   \   000377   78..         MOV     R0,#?V2
   \   000379   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00037C   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_114:
   \   00037F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000382   AC..         MOV     R4,?V0
   \   000384   AD..         MOV     R5,?V1
   \   000386   7A00         MOV     R2,#0x0
   \   000388   7900         MOV     R1,#0x0
   \   00038A   12....       LCALL   ??ATT_ParseWriteReq?relay; Banked call to: ATT_ParseWriteReq
   \   00038D   7404         MOV     A,#0x4
   \   00038F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000392   E9           MOV     A,R1
   \   000393   F5..         MOV     ?V4,A
   1085                if ( stat == SUCCESS )
   \   000395   6003         JZ      $+5
   \   000397   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1086                {
   1087                  stat = GATT_WriteCharValue( connHandle, &msg.writeReq, hciExtApp_TaskID );
   \   00039A                ; Setup parameters for call to function GATT_WriteCharValue
   \   00039A   12....       LCALL   ?Subroutine61 & 0xFFFF
   1088                }
   \                     ??CrossCallReturnLabel_318:
   \   00039D   12....       LCALL   ?XSTACK_DISP102_8
   \   0003A0   EE           MOV     A,R6
   \   0003A1   FA           MOV     R2,A
   \   0003A2   EF           MOV     A,R7
   \   0003A3   FB           MOV     R3,A
   \   0003A4   12....       LCALL   ??GATT_WriteCharValue?relay; Banked call to: GATT_WriteCharValue
   \   0003A7   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1089                break;
   1090          
   1091              case ATT_PREPARE_WRITE_REQ: // GATT Write Long Characteristic Value
   1092              case GATT_WRITE_LONG_CHAR_DESC: // GATT Write Long Characteristic Descriptor
   1093                // Make sure there's an attribute value to be written
   1094                if ( pCmd->len-2 > PREPARE_WRITE_REQ_FIXED_SIZE )
   \                     ??processExMsgGATT_9:
   \   0003AA   8A82         MOV     DPL,R2
   \   0003AC   8B83         MOV     DPH,R3
   \   0003AE   A3           INC     DPTR
   \   0003AF   A3           INC     DPTR
   \   0003B0   A3           INC     DPTR
   \   0003B1   E0           MOVX    A,@DPTR
   \   0003B2   FA           MOV     R2,A
   \   0003B3   24FE         ADD     A,#-0x2
   \   0003B5   F8           MOV     R0,A
   \   0003B6   E4           CLR     A
   \   0003B7   34FF         ADDC    A,#-0x1
   \   0003B9   F9           MOV     R1,A
   \   0003BA   C3           CLR     C
   \   0003BB   E8           MOV     A,R0
   \   0003BC   9405         SUBB    A,#0x5
   \   0003BE   E9           MOV     A,R1
   \   0003BF   9400         SUBB    A,#0x0
   \   0003C1   A2D2         MOV     C,0xD0 /* PSW */.2
   \   0003C3   65D0         XRL     A,PSW
   \   0003C5   33           RLC     A
   \   0003C6   5003         JNC     $+5
   \   0003C8   02....       LJMP    ??processExMsgGATT_27 & 0xFFFF
   1095                {
   1096                  gattPrepareWriteReq_t req; // GATT Request
   1097          
   1098                  // Value length
   1099                  req.len = pCmd->len - (2 + PREPARE_WRITE_REQ_FIXED_SIZE);
   \   0003CB   74FA         MOV     A,#-0x6
   \   0003CD   2A           ADD     A,R2
   \   0003CE   F5..         MOV     ?V4,A
   \   0003D0   7409         MOV     A,#0x9
   \   0003D2   12....       LCALL   ?XSTACK_DISP0_8
   \   0003D5   E5..         MOV     A,?V4
   \   0003D7   F0           MOVX    @DPTR,A
   1100          
   1101                  // Allocate buffer for the attribute value
   1102                  if ( req.pValue = osal_mem_alloc( req.len ) )
   \   0003D8                ; Setup parameters for call to function osal_mem_alloc
   \   0003D8   FA           MOV     R2,A
   \   0003D9   7B00         MOV     R3,#0x0
   \   0003DB   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   0003DE   740A         MOV     A,#0xa
   \   0003E0   12....       LCALL   ?XSTACK_DISP0_8
   \   0003E3   EA           MOV     A,R2
   \   0003E4   F0           MOVX    @DPTR,A
   \   0003E5   A3           INC     DPTR
   \   0003E6   EB           MOV     A,R3
   \   0003E7   F0           MOVX    @DPTR,A
   \   0003E8   740A         MOV     A,#0xa
   \   0003EA   12....       LCALL   ?XSTACK_DISP0_8
   \   0003ED   E0           MOVX    A,@DPTR
   \   0003EE   FA           MOV     R2,A
   \   0003EF   4B           ORL     A,R3
   \   0003F0   7003         JNZ     $+5
   \   0003F2   02....       LJMP    ??processExMsgGATT_30 & 0xFFFF
   1103                  {
   1104                    // Attribute handle
   1105                    req.handle = BUILD_UINT16( pBuf[2], pBuf[3] );
   \   0003F5   12....       LCALL   ?Subroutine77 & 0xFFFF
   \                     ??CrossCallReturnLabel_201:
   \   0003F8   F9           MOV     R1,A
   \   0003F9   EC           MOV     A,R4
   \   0003FA   F8           MOV     R0,A
   \   0003FB   7405         MOV     A,#0x5
   \   0003FD   12....       LCALL   ?XSTACK_DISP0_8
   \   000400   12....       LCALL   ?Subroutine32 & 0xFFFF
   1106          
   1107                    // Value offset
   1108                    req.offset = BUILD_UINT16( pBuf[4], pBuf[5] );
   \                     ??CrossCallReturnLabel_60:
   \   000403   85..82       MOV     DPL,?V2
   \   000406   85..83       MOV     DPH,?V3
   \   000409   A3           INC     DPTR
   \   00040A   A3           INC     DPTR
   \   00040B   A3           INC     DPTR
   \   00040C   12....       LCALL   ?Subroutine79 & 0xFFFF
   \                     ??CrossCallReturnLabel_206:
   \   00040F   A3           INC     DPTR
   \   000410   A3           INC     DPTR
   \   000411   A3           INC     DPTR
   \   000412   A3           INC     DPTR
   \   000413   A3           INC     DPTR
   \   000414   E0           MOVX    A,@DPTR
   \   000415   F9           MOV     R1,A
   \   000416   EC           MOV     A,R4
   \   000417   F8           MOV     R0,A
   \   000418   7407         MOV     A,#0x7
   \   00041A   12....       LCALL   ?XSTACK_DISP0_8
   \   00041D   12....       LCALL   ?Subroutine32 & 0xFFFF
   1109          
   1110                    // Attribute value
   1111                    VOID osal_memcpy( req.pValue, &(pBuf[6]), req.len );
   \                     ??CrossCallReturnLabel_61:
   \   000420                ; Setup parameters for call to function osal_memcpy
   \   000420   7409         MOV     A,#0x9
   \   000422   12....       LCALL   ?XSTACK_DISP0_8
   \   000425   12....       LCALL   ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_149:
   \   000428   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00042B   E5..         MOV     A,?V2
   \   00042D   2406         ADD     A,#0x6
   \   00042F   FC           MOV     R4,A
   \   000430   E4           CLR     A
   \   000431   35..         ADDC    A,?V3
   \   000433   FD           MOV     R5,A
   \   000434   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000437   7402         MOV     A,#0x2
   \   000439   12....       LCALL   ?DEALLOC_XSTACK8
   1112          
   1113                    if ( cmdID == ATT_PREPARE_WRITE_REQ )
   \   00043C   85..82       MOV     DPL,?XSP + 0
   \   00043F   85..83       MOV     DPH,?XSP + 1
   \   000442   E0           MOVX    A,@DPTR
   \   000443   6416         XRL     A,#0x16
   \   000445   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000448   7010         JNZ     ??processExMsgGATT_31
   1114                    {
   1115                      stat = GATT_WriteLongCharValue( connHandle, &req, hciExtApp_TaskID );
   \   00044A                ; Setup parameters for call to function GATT_WriteLongCharValue
   \   00044A   E0           MOVX    A,@DPTR
   \   00044B   F9           MOV     R1,A
   \   00044C   7405         MOV     A,#0x5
   \   00044E   12....       LCALL   ?XSTACK_DISP102_8
   \   000451   EE           MOV     A,R6
   \   000452   FA           MOV     R2,A
   \   000453   EF           MOV     A,R7
   \   000454   FB           MOV     R3,A
   \   000455   12....       LCALL   ??GATT_WriteLongCharValue?relay; Banked call to: GATT_WriteLongCharValue
   \   000458   800E         SJMP    ??processExMsgGATT_32
   1116                    }
   1117                    else
   1118                    {
   1119                      stat = GATT_WriteLongCharDesc( connHandle, &req, hciExtApp_TaskID );
   \                     ??processExMsgGATT_31:
   \   00045A                ; Setup parameters for call to function GATT_WriteLongCharDesc
   \   00045A   E0           MOVX    A,@DPTR
   \   00045B   F9           MOV     R1,A
   \   00045C   7405         MOV     A,#0x5
   \   00045E   12....       LCALL   ?XSTACK_DISP102_8
   \   000461   EE           MOV     A,R6
   \   000462   FA           MOV     R2,A
   \   000463   EF           MOV     A,R7
   \   000464   FB           MOV     R3,A
   \   000465   12....       LCALL   ??GATT_WriteLongCharDesc?relay; Banked call to: GATT_WriteLongCharDesc
   \                     ??processExMsgGATT_32:
   \   000468   E9           MOV     A,R1
   \   000469   F5..         MOV     ?V4,A
   1120                    }
   1121          
   1122                    if ( stat != SUCCESS )
   \   00046B   E5..         MOV     A,?V4
   \   00046D   7003         JNZ     $+5
   \   00046F   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1123                    {
   1124                      osal_mem_free( req.pValue );
   \   000472                ; Setup parameters for call to function osal_mem_free
   \   000472   740A         MOV     A,#0xa
   \   000474   02....       LJMP    ??processExMsgGATT_33 & 0xFFFF
   1125                    }
   1126                    // else req.pValue will be freed by GATT Client
   1127                  }
   1128                  else
   1129                  {
   1130                    stat = bleMemAllocError;
   1131                  }
   1132                }
   1133                else
   1134                {
   1135                  stat = ATT_ERR_INVALID_PDU;
   1136                }
   1137                break;
   1138          
   1139              case GATT_RELIABLE_WRITES: // GATT Reliable Writes
   1140                if ( pCmd->len-2 > 0 )
   \                     ??processExMsgGATT_16:
   \   000477   12....       LCALL   ?Subroutine80 & 0xFFFF
   \                     ??CrossCallReturnLabel_209:
   \   00047A   C3           CLR     C
   \   00047B   E8           MOV     A,R0
   \   00047C   9401         SUBB    A,#0x1
   \   00047E   E9           MOV     A,R1
   \   00047F   9400         SUBB    A,#0x0
   \   000481   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000483   65D0         XRL     A,PSW
   \   000485   33           RLC     A
   \   000486   5003         JNC     $+5
   \   000488   02....       LJMP    ??processExMsgGATT_27 & 0xFFFF
   1141                {
   1142                  uint8 numReqs = pBuf[2];
   \   00048B   85..82       MOV     DPL,?V0
   \   00048E   85..83       MOV     DPH,?V1
   \   000491   E0           MOVX    A,@DPTR
   \   000492   F5..         MOV     ?V0,A
   1143          
   1144                  if ( ( numReqs > 0 ) && ( numReqs <= GATT_MAX_NUM_RELIABLE_WRITES ) )
   \   000494   7003         JNZ     $+5
   \   000496   02....       LJMP    ??processExMsgGATT_34 & 0xFFFF
   \   000499   C3           CLR     C
   \   00049A   9406         SUBB    A,#0x6
   \   00049C   4003         JC      $+5
   \   00049E   02....       LJMP    ??processExMsgGATT_34 & 0xFFFF
   1145                  {
   1146                    // First allocated buffer for the Prepare Write Requests
   1147                    attPrepareWriteReq_t *pReqs = osal_mem_alloc( numReqs * sizeof( attPrepareWriteReq_t ) );
   \   0004A1                ; Setup parameters for call to function osal_mem_alloc
   \   0004A1   E5..         MOV     A,?V0
   \   0004A3   75F017       MOV     B,#0x17
   \   0004A6   A4           MUL     AB
   \   0004A7   FA           MOV     R2,A
   \   0004A8   ABF0         MOV     R3,B
   \   0004AA   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   0004AD   7401         MOV     A,#0x1
   \   0004AF   12....       LCALL   ?XSTACK_DISP0_8
   \   0004B2   EA           MOV     A,R2
   \   0004B3   F0           MOVX    @DPTR,A
   \   0004B4   A3           INC     DPTR
   \   0004B5   EB           MOV     A,R3
   \   0004B6   F0           MOVX    @DPTR,A
   1148                    if ( pReqs != NULL )
   \   0004B7   7401         MOV     A,#0x1
   \   0004B9   12....       LCALL   ?XSTACK_DISP0_8
   \   0004BC   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_384:
   \   0004BF   7003         JNZ     $+5
   \   0004C1   02....       LJMP    ??processExMsgGATT_30 & 0xFFFF
   1149                    {
   1150                      pBuf += 3; // pass connHandle and numReqs
   \   0004C4   85....       MOV     ?V2,?V6
   \   0004C7   85....       MOV     ?V3,?V7
   1151          
   1152                      for ( uint8 i = 0; i < numReqs; i++ )
   \   0004CA   75..00       MOV     ?V1,#0x0
   \   0004CD   8061         SJMP    ??processExMsgGATT_35
   1153                      {
   1154                        // length of request is length of attribute value plus fixed fields
   1155                        uint8 reqLen = PREPARE_WRITE_REQ_FIXED_SIZE + *pBuf++;
   \                     ??processExMsgGATT_36:
   \   0004CF   85..82       MOV     DPL,?V2
   \   0004D2   85..83       MOV     DPH,?V3
   \   0004D5   E0           MOVX    A,@DPTR
   \   0004D6   2404         ADD     A,#0x4
   \   0004D8   F5..         MOV     ?V6,A
   \   0004DA   A3           INC     DPTR
   \   0004DB   8582..       MOV     ?V2,DPL
   \   0004DE   8583..       MOV     ?V3,DPH
   1156          
   1157                        stat = ATT_ParsePrepareWriteReq( ATT_SIG_NOT_INCLUDED, FALSE, pBuf,
   1158                                                         reqLen, (attMsg_t *)&(pReqs[i]) );
   \   0004E1                ; Setup parameters for call to function ATT_ParsePrepareWriteReq
   \   0004E1   E5..         MOV     A,?V1
   \   0004E3   75F017       MOV     B,#0x17
   \   0004E6   A4           MUL     AB
   \   0004E7   F8           MOV     R0,A
   \   0004E8   A9F0         MOV     R1,B
   \   0004EA   7401         MOV     A,#0x1
   \   0004EC   12....       LCALL   ?XSTACK_DISP0_8
   \   0004EF   E0           MOVX    A,@DPTR
   \   0004F0   28           ADD     A,R0
   \   0004F1   F5..         MOV     ?V4,A
   \   0004F3   A3           INC     DPTR
   \   0004F4   E0           MOVX    A,@DPTR
   \   0004F5   39           ADDC    A,R1
   \   0004F6   F5..         MOV     ?V5,A
   \   0004F8   78..         MOV     R0,#?V4
   \   0004FA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004FD   85....       MOV     ?V4,?V6
   \   000500   75..00       MOV     ?V5,#0x0
   \   000503   78..         MOV     R0,#?V4
   \   000505   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000508   AC..         MOV     R4,?V2
   \   00050A   AD..         MOV     R5,?V3
   \   00050C   7A00         MOV     R2,#0x0
   \   00050E   7900         MOV     R1,#0x0
   \   000510   12....       LCALL   ??ATT_ParsePrepareWriteReq?relay; Banked call to: ATT_ParsePrepareWriteReq
   \   000513   7404         MOV     A,#0x4
   \   000515   12....       LCALL   ?DEALLOC_XSTACK8
   \   000518   E9           MOV     A,R1
   \   000519   F5..         MOV     ?V4,A
   1159                        if ( stat != SUCCESS )
   \   00051B   6003         JZ      $+5
   \   00051D   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1160                        {
   1161                          break;
   1162                        }
   1163          
   1164                        // Next request
   1165                        pBuf += reqLen;
   \   000520   85....       MOV     ?V4,?V6
   \   000523   E5..         MOV     A,?V2
   \   000525   25..         ADD     A,?V4
   \   000527   F5..         MOV     ?V2,A
   \   000529   E4           CLR     A
   \   00052A   35..         ADDC    A,?V3
   \   00052C   F5..         MOV     ?V3,A
   1166                      }
   \   00052E   05..         INC     ?V1
   \                     ??processExMsgGATT_35:
   \   000530   E5..         MOV     A,?V1
   \   000532   C3           CLR     C
   \   000533   95..         SUBB    A,?V0
   \   000535   4098         JC      ??processExMsgGATT_36
   1167          
   1168                      if ( stat == SUCCESS )
   1169                      {
   1170                        // Send all saved Prepare Write Requests
   1171                        stat = GATT_ReliableWrites( connHandle, pReqs, numReqs,
   1172                                                    ATT_WRITE_PREPARED_VALUES, hciExtApp_TaskID );
   \   000537                ; Setup parameters for call to function GATT_ReliableWrites
   \   000537   90....       MOV     DPTR,#hciExtApp_TaskID
   \   00053A   E0           MOVX    A,@DPTR
   \   00053B   F5..         MOV     ?V1,A
   \   00053D   78..         MOV     R0,#?V1
   \   00053F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000542   75..01       MOV     ?V1,#0x1
   \   000545   78..         MOV     R0,#?V1
   \   000547   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00054A   A9..         MOV     R1,?V0
   \   00054C   7403         MOV     A,#0x3
   \   00054E   12....       LCALL   ?XSTACK_DISP0_8
   \   000551   12....       LCALL   ??Subroutine144_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_327:
   \   000554   12....       LCALL   ??GATT_ReliableWrites?relay; Banked call to: GATT_ReliableWrites
   \   000557   7402         MOV     A,#0x2
   \   000559   12....       LCALL   ?DEALLOC_XSTACK8
   \   00055C   E9           MOV     A,R1
   \   00055D   F5..         MOV     ?V4,A
   1173                        if ( stat != SUCCESS )
   \   00055F   7003         JNZ     $+5
   \   000561   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1174                        {
   1175                          osal_mem_free( pReqs );
   \   000564                ; Setup parameters for call to function osal_mem_free
   \   000564   7401         MOV     A,#0x1
   \                     ??processExMsgGATT_33:
   \   000566   12....       LCALL   ?XSTACK_DISP0_8
   1176                        }
   1177                        // else pReqs will be freed by GATT Client
   1178                      }
   1179                    }
   1180                    else
   1181                    {
   1182                      stat = bleMemAllocError;
   1183                    }
   1184                  }
   1185                  else
   1186                  {
   1187                    stat = INVALIDPARAMETER;
   1188                  }
   1189                }
   \   000569   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_152:
   \   00056C   12....       LCALL   ??osal_mem_free?relay; Banked call to: osal_mem_free
   \   00056F   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1190                else
   1191                {
   1192                  stat = ATT_ERR_INVALID_PDU;
   1193                }
   1194                break;
   1195          
   1196              case GATT_READ_CHAR_DESC: // GATT Read Characteristic Descriptor
   1197                stat = ATT_ParseReadReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_17:
   \   000572                ; Setup parameters for call to function ATT_ParseReadReq
   \   000572   740C         MOV     A,#0xc
   \   000574   12....       LCALL   ?XSTACK_DISP100_8
   \   000577   88..         MOV     ?V2,R0
   \   000579   89..         MOV     ?V3,R1
   \   00057B   78..         MOV     R0,#?V2
   \   00057D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000580   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_115:
   \   000583   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000586   AC..         MOV     R4,?V0
   \   000588   AD..         MOV     R5,?V1
   \   00058A   7A00         MOV     R2,#0x0
   \   00058C   7900         MOV     R1,#0x0
   \   00058E   12....       LCALL   ??ATT_ParseReadReq?relay; Banked call to: ATT_ParseReadReq
   \   000591   7404         MOV     A,#0x4
   \   000593   12....       LCALL   ?DEALLOC_XSTACK8
   \   000596   E9           MOV     A,R1
   \   000597   F5..         MOV     ?V4,A
   1198                if ( stat == SUCCESS )
   \   000599   6003         JZ      $+5
   \   00059B   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1199                {
   1200                  stat = GATT_ReadCharDesc( connHandle, &msg.readReq, hciExtApp_TaskID );
   \   00059E                ; Setup parameters for call to function GATT_ReadCharDesc
   \   00059E   12....       LCALL   ?Subroutine61 & 0xFFFF
   1201                }
   \                     ??CrossCallReturnLabel_319:
   \   0005A1   12....       LCALL   ?XSTACK_DISP102_8
   \   0005A4   EE           MOV     A,R6
   \   0005A5   FA           MOV     R2,A
   \   0005A6   EF           MOV     A,R7
   \   0005A7   FB           MOV     R3,A
   \   0005A8   12....       LCALL   ??GATT_ReadCharDesc?relay; Banked call to: GATT_ReadCharDesc
   \   0005AB   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1202                break;
   1203          
   1204              case GATT_READ_LONG_CHAR_DESC: // GATT Read Long Characteristic Descriptor
   1205                stat = ATT_ParseReadBlobReq( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_18:
   \   0005AE                ; Setup parameters for call to function ATT_ParseReadBlobReq
   \   0005AE   740C         MOV     A,#0xc
   \   0005B0   12....       LCALL   ?XSTACK_DISP100_8
   \   0005B3   88..         MOV     ?V2,R0
   \   0005B5   89..         MOV     ?V3,R1
   \   0005B7   78..         MOV     R0,#?V2
   \   0005B9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005BC   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_116:
   \   0005BF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005C2   AC..         MOV     R4,?V0
   \   0005C4   AD..         MOV     R5,?V1
   \   0005C6   7A00         MOV     R2,#0x0
   \   0005C8   7900         MOV     R1,#0x0
   \   0005CA   12....       LCALL   ??ATT_ParseReadBlobReq?relay; Banked call to: ATT_ParseReadBlobReq
   \   0005CD   7404         MOV     A,#0x4
   \   0005CF   12....       LCALL   ?DEALLOC_XSTACK8
   \   0005D2   E9           MOV     A,R1
   \   0005D3   F5..         MOV     ?V4,A
   1206                if ( stat == SUCCESS )
   \   0005D5   6003         JZ      $+5
   \   0005D7   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1207                {
   1208                  stat = GATT_ReadLongCharDesc( connHandle, &msg.readBlobReq, hciExtApp_TaskID );
   \   0005DA                ; Setup parameters for call to function GATT_ReadLongCharDesc
   \   0005DA   12....       LCALL   ?Subroutine61 & 0xFFFF
   1209                }
   \                     ??CrossCallReturnLabel_320:
   \   0005DD   12....       LCALL   ?XSTACK_DISP102_8
   \   0005E0   EE           MOV     A,R6
   \   0005E1   FA           MOV     R2,A
   \   0005E2   EF           MOV     A,R7
   \   0005E3   FB           MOV     R3,A
   \   0005E4   12....       LCALL   ??GATT_ReadLongCharDesc?relay; Banked call to: GATT_ReadLongCharDesc
   \   0005E7   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1210                break;
   1211          
   1212              case GATT_WRITE_CHAR_DESC: // GATT Write Characteristic Descriptor
   1213                stat = ATT_ParseWriteReq( FALSE, FALSE, &pBuf[2], pCmd->len-2, &msg );
   \                     ??processExMsgGATT_19:
   \   0005EA                ; Setup parameters for call to function ATT_ParseWriteReq
   \   0005EA   740C         MOV     A,#0xc
   \   0005EC   12....       LCALL   ?XSTACK_DISP100_8
   \   0005EF   88..         MOV     ?V2,R0
   \   0005F1   89..         MOV     ?V3,R1
   \   0005F3   78..         MOV     R0,#?V2
   \   0005F5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005F8   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_117:
   \   0005FB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005FE   AC..         MOV     R4,?V0
   \   000600   AD..         MOV     R5,?V1
   \   000602   7A00         MOV     R2,#0x0
   \   000604   7900         MOV     R1,#0x0
   \   000606   12....       LCALL   ??ATT_ParseWriteReq?relay; Banked call to: ATT_ParseWriteReq
   \   000609   7404         MOV     A,#0x4
   \   00060B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00060E   E9           MOV     A,R1
   \   00060F   F5..         MOV     ?V4,A
   1214                if ( stat == SUCCESS )
   \   000611   6003         JZ      $+5
   \   000613   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1215                {
   1216                  stat = GATT_WriteCharDesc( connHandle, &msg.writeReq, hciExtApp_TaskID );
   \   000616                ; Setup parameters for call to function GATT_WriteCharDesc
   \   000616   12....       LCALL   ?Subroutine61 & 0xFFFF
   1217                }
   \                     ??CrossCallReturnLabel_321:
   \   000619   12....       LCALL   ?XSTACK_DISP102_8
   \   00061C   EE           MOV     A,R6
   \   00061D   FA           MOV     R2,A
   \   00061E   EF           MOV     A,R7
   \   00061F   FB           MOV     R3,A
   \   000620   12....       LCALL   ??GATT_WriteCharDesc?relay; Banked call to: GATT_WriteCharDesc
   \   000623   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1218                break;
   1219          
   1220              case ATT_HANDLE_VALUE_NOTI:
   1221                stat = ATT_ParseHandleValueInd( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[3], pCmd->len-3, &msg );
   \                     ??processExMsgGATT_10:
   \   000626                ; Setup parameters for call to function ATT_ParseHandleValueInd
   \   000626   740C         MOV     A,#0xc
   \   000628   12....       LCALL   ?XSTACK_DISP100_8
   \   00062B   88..         MOV     ?V2,R0
   \   00062D   89..         MOV     ?V3,R1
   \   00062F   78..         MOV     R0,#?V2
   \   000631   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000634   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_133:
   \   000637   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00063A   AC..         MOV     R4,?V6
   \   00063C   AD..         MOV     R5,?V7
   \   00063E   7A00         MOV     R2,#0x0
   \   000640   7900         MOV     R1,#0x0
   \   000642   12....       LCALL   ??ATT_ParseHandleValueInd?relay; Banked call to: ATT_ParseHandleValueInd
   \   000645   7404         MOV     A,#0x4
   \   000647   12....       LCALL   ?DEALLOC_XSTACK8
   \   00064A   E9           MOV     A,R1
   \   00064B   F5..         MOV     ?V4,A
   1222                if ( stat == SUCCESS )
   \   00064D   6003         JZ      $+5
   \   00064F   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1223                {
   1224                  stat = GATT_Notification( connHandle, &msg.handleValueNoti, pBuf[2] );
   \   000652                ; Setup parameters for call to function GATT_Notification
   \   000652   85..82       MOV     DPL,?V0
   \   000655   85..83       MOV     DPH,?V1
   \   000658   12....       LCALL   ??Subroutine142_0 & 0xFFFF
   1225                }
   \                     ??CrossCallReturnLabel_311:
   \   00065B   12....       LCALL   ?XSTACK_DISP102_8
   \   00065E   EE           MOV     A,R6
   \   00065F   FA           MOV     R2,A
   \   000660   EF           MOV     A,R7
   \   000661   FB           MOV     R3,A
   \   000662   12....       LCALL   ??GATT_Notification?relay; Banked call to: GATT_Notification
   \   000665   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1226                break;
   1227          
   1228              case ATT_HANDLE_VALUE_IND:
   1229                stat = ATT_ParseHandleValueInd( ATT_SIG_NOT_INCLUDED, FALSE, &pBuf[3], pCmd->len-3, &msg );
   \                     ??processExMsgGATT_11:
   \   000668                ; Setup parameters for call to function ATT_ParseHandleValueInd
   \   000668   740C         MOV     A,#0xc
   \   00066A   12....       LCALL   ?XSTACK_DISP100_8
   \   00066D   88..         MOV     ?V2,R0
   \   00066F   89..         MOV     ?V3,R1
   \   000671   78..         MOV     R0,#?V2
   \   000673   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000676   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_134:
   \   000679   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00067C   AC..         MOV     R4,?V6
   \   00067E   AD..         MOV     R5,?V7
   \   000680   7A00         MOV     R2,#0x0
   \   000682   7900         MOV     R1,#0x0
   \   000684   12....       LCALL   ??ATT_ParseHandleValueInd?relay; Banked call to: ATT_ParseHandleValueInd
   \   000687   7404         MOV     A,#0x4
   \   000689   12....       LCALL   ?DEALLOC_XSTACK8
   \   00068C   E9           MOV     A,R1
   \   00068D   F5..         MOV     ?V4,A
   1230                if ( stat == SUCCESS )
   \   00068F   6003         JZ      $+5
   \   000691   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1231                {
   1232                  stat = GATT_Indication( connHandle, &msg.handleValueInd, pBuf[2], hciExtApp_TaskID );
   \   000694                ; Setup parameters for call to function GATT_Indication
   \   000694   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000697   E0           MOVX    A,@DPTR
   \   000698   F5..         MOV     ?V2,A
   \   00069A   78..         MOV     R0,#?V2
   \   00069C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00069F   85..82       MOV     DPL,?V0
   \   0006A2   85..83       MOV     DPH,?V1
   \   0006A5   E0           MOVX    A,@DPTR
   \   0006A6   F9           MOV     R1,A
   \   0006A7   740D         MOV     A,#0xd
   \   0006A9   12....       LCALL   ?XSTACK_DISP102_8
   \   0006AC   EE           MOV     A,R6
   \   0006AD   FA           MOV     R2,A
   \   0006AE   EF           MOV     A,R7
   \   0006AF   FB           MOV     R3,A
   \   0006B0   12....       LCALL   ??GATT_Indication?relay; Banked call to: GATT_Indication
   \                     ??processExMsgGATT_26:
   \   0006B3   7401         MOV     A,#0x1
   \   0006B5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006B8   02....       LJMP    ??processExMsgGATT_25 & 0xFFFF
   1233                }
   1234                break;
   1235          
   1236          #ifdef GATT_DB_OFF_CHIP // These GATT commands don't include connHandle field
   1237              case HCI_EXT_GATT_ADD_SERVICE:
   1238                if ( service.attrs == NULL )
   \                     ??processExMsgGATT_20:
   \   0006BB   90....       MOV     DPTR,#??service + 2
   \   0006BE   12....       LCALL   ?Subroutine115 & 0xFFFF
   \                     ??CrossCallReturnLabel_333:
   \   0006C1   EC           MOV     A,R4
   \   0006C2   4D           ORL     A,R5
   \   0006C3   6003         JZ      $+5
   \   0006C5   02....       LJMP    ??processExMsgGATT_37 & 0xFFFF
   1239                {
   1240                  // Service type must be 2 octets (Primary or Secondary)
   1241                  if ( pCmd->len-2 == ATT_BT_UUID_SIZE )
   \   0006C8   8A82         MOV     DPL,R2
   \   0006CA   8B83         MOV     DPH,R3
   \   0006CC   A3           INC     DPTR
   \   0006CD   A3           INC     DPTR
   \   0006CE   A3           INC     DPTR
   \   0006CF   E0           MOVX    A,@DPTR
   \   0006D0   24FE         ADD     A,#-0x2
   \   0006D2   FA           MOV     R2,A
   \   0006D3   E4           CLR     A
   \   0006D4   34FF         ADDC    A,#-0x1
   \   0006D6   FB           MOV     R3,A
   \   0006D7   7402         MOV     A,#0x2
   \   0006D9   6A           XRL     A,R2
   \   0006DA   4B           ORL     A,R3
   \   0006DB   6003         JZ      $+5
   \   0006DD   02....       LJMP    ??processExMsgGATT_27 & 0xFFFF
   1242                  {
   1243                    uint16 uuid = BUILD_UINT16( pBuf[0], pBuf[1] );
   \   0006E0   85..82       MOV     DPL,?V2
   \   0006E3   85..83       MOV     DPH,?V3
   \   0006E6   E0           MOVX    A,@DPTR
   \   0006E7   FA           MOV     R2,A
   \   0006E8   8882         MOV     DPL,R0
   \   0006EA   8983         MOV     DPH,R1
   \   0006EC   12....       LCALL   ??Subroutine147_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_338:
   \   0006EF   F8           MOV     R0,A
   1244                    uint16 numAttrs = BUILD_UINT16( pBuf[2], pBuf[3] );
   \   0006F0   12....       LCALL   ?Subroutine77 & 0xFFFF
   \                     ??CrossCallReturnLabel_202:
   \   0006F3   FB           MOV     R3,A
   \   0006F4   EC           MOV     A,R4
   \   0006F5   FE           MOV     R6,A
   \   0006F6   E4           CLR     A
   \   0006F7   3B           ADDC    A,R3
   \   0006F8   FF           MOV     R7,A
   1245          
   1246                    if ( ( ( uuid == GATT_PRIMARY_SERVICE_UUID )     ||
   1247                           ( uuid == GATT_SECONDARY_SERVICE_UUID ) ) &&
   1248                         ( numAttrs > 0 ) )
   \   0006F9   E8           MOV     A,R0
   \   0006FA   7003         JNZ     ??processExMsgGATT_38
   \   0006FC   7428         MOV     A,#0x28
   \   0006FE   69           XRL     A,R1
   \                     ??processExMsgGATT_38:
   \   0006FF   600D         JZ      ??processExMsgGATT_39
   \   000701   7401         MOV     A,#0x1
   \   000703   68           XRL     A,R0
   \   000704   7003         JNZ     ??processExMsgGATT_40
   \   000706   7428         MOV     A,#0x28
   \   000708   69           XRL     A,R1
   \                     ??processExMsgGATT_40:
   \   000709   6003         JZ      $+5
   \   00070B   02....       LJMP    ??processExMsgGATT_34 & 0xFFFF
   \                     ??processExMsgGATT_39:
   \   00070E   EE           MOV     A,R6
   \   00070F   4F           ORL     A,R7
   \   000710   7003         JNZ     $+5
   \   000712   02....       LJMP    ??processExMsgGATT_34 & 0xFFFF
   1249                    {
   1250                      // Allocate buffer for the attribute table
   1251                      service.attrs = osal_mem_alloc( numAttrs * sizeof( gattAttribute_t ) );
   \   000715   8E..         MOV     ?V4,R6
   \   000717   8F..         MOV     ?V5,R7
   \   000719   7403         MOV     A,#0x3
   \   00071B   78..         MOV     R0,#?V4
   \   00071D   12....       LCALL   ?S_SHL
   \   000720   85....       MOV     ?V0,?V4
   \   000723   85....       MOV     ?V1,?V5
   \   000726                ; Setup parameters for call to function osal_mem_alloc
   \   000726   AA..         MOV     R2,?V0
   \   000728   AB..         MOV     R3,?V1
   \   00072A   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   00072D   90....       MOV     DPTR,#??service + 2
   \   000730   EA           MOV     A,R2
   \   000731   F0           MOVX    @DPTR,A
   \   000732   A3           INC     DPTR
   \   000733   EB           MOV     A,R3
   \   000734   F0           MOVX    @DPTR,A
   1252                      if ( service.attrs != NULL )
   \   000735   EA           MOV     A,R2
   \   000736   4B           ORL     A,R3
   \   000737   6031         JZ      ??processExMsgGATT_30
   1253                      {
   1254                        // Zero out all attribute fields
   1255                        VOID osal_memset( service.attrs, 0, numAttrs * sizeof( gattAttribute_t ) );
   \   000739                ; Setup parameters for call to function osal_memset
   \   000739   AC..         MOV     R4,?V0
   \   00073B   AD..         MOV     R5,?V1
   \   00073D   7900         MOV     R1,#0x0
   \   00073F   12....       LCALL   ??osal_memset?relay  ; Banked call to: osal_memset
   1256          
   1257                        totalAttrs = numAttrs;
   \   000742   90....       MOV     DPTR,#??totalAttrs
   \   000745   EE           MOV     A,R6
   \   000746   F0           MOVX    @DPTR,A
   \   000747   A3           INC     DPTR
   \   000748   EF           MOV     A,R7
   \   000749   F0           MOVX    @DPTR,A
   1258          
   1259                        // Set up service record
   1260                        stat = addAttrRec( &service, pBuf, ATT_BT_UUID_SIZE,
   1261                                           GATT_PERMIT_READ, &totalAttrs, pRspDataLen );
   \   00074A                ; Setup parameters for call to function addAttrRec
   \   00074A   7403         MOV     A,#0x3
   \   00074C   12....       LCALL   ?XSTACK_DISP0_8
   \   00074F   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000752   75....       MOV     ?V0,#??totalAttrs & 0xff
   \   000755   75....       MOV     ?V1,#(??totalAttrs >> 8) & 0xff
   \   000758   78..         MOV     R0,#?V0
   \   00075A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00075D   75..01       MOV     ?V0,#0x1
   \   000760   78..         MOV     R0,#?V0
   \   000762   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000765   7902         MOV     R1,#0x2
   \   000767   02....       LJMP    ??processExMsgGATT_41 & 0xFFFF
   1262                      }
   1263                      else
   1264                      {
   1265                        stat = bleMemAllocError;
   \                     ??processExMsgGATT_30:
   \   00076A   75..13       MOV     ?V4,#0x13
   \   00076D   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1266                      }
   1267                    }
   1268                    else
   1269                    {
   1270                      stat = INVALIDPARAMETER;
   1271                    }
   1272                  }
   1273                  else
   1274                  {
   1275                    stat = ATT_ERR_INVALID_PDU;
   1276                  }
   1277                }
   1278                else
   1279                {
   1280                  stat = blePending;
   \                     ??processExMsgGATT_37:
   \   000770   75..16       MOV     ?V4,#0x16
   \   000773   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1281                }
   1282                break;
   1283          
   1284              case HCI_EXT_GATT_DEL_SERVICE:
   1285                {
   1286                  uint16 handle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGATT_21:
   \   000776   EC           MOV     A,R4
   \   000777   FA           MOV     R2,A
   \   000778   ED           MOV     A,R5
   \   000779   FB           MOV     R3,A
   1287          
   1288                  if ( handle == 0x0000 )
   \   00077A   EA           MOV     A,R2
   \   00077B   4B           ORL     A,R3
   \   00077C   7011         JNZ     ??processExMsgGATT_42
   1289                  {
   1290                    // Service is not registered with GATT yet
   1291                    freeAttrRecs( &service );
   \   00077E                ; Setup parameters for call to function freeAttrRecs
   \   00077E   7A..         MOV     R2,#??service & 0xff
   \   000780   7B..         MOV     R3,#(??service >> 8) & 0xff
   \   000782   12....       LCALL   ??freeAttrRecs?relay ; Banked call to: freeAttrRecs
   1292          
   1293                    totalAttrs = 0;
   \   000785   90....       MOV     DPTR,#??totalAttrs
   \   000788   E4           CLR     A
   \   000789   F0           MOVX    @DPTR,A
   \   00078A   A3           INC     DPTR
   \   00078B   F0           MOVX    @DPTR,A
   \   00078C   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1294                  }
   1295                  else
   1296                  {
   1297                    gattService_t serv;
   1298          
   1299                    // Service is already registered with the GATT Server
   1300                    stat = GATT_DeregisterService( handle, &serv );
   \                     ??processExMsgGATT_42:
   \   00078F                ; Setup parameters for call to function GATT_DeregisterService
   \   00078F   7425         MOV     A,#0x25
   \   000791   12....       LCALL   ?XSTACK_DISP102_8
   \   000794   12....       LCALL   ??GATT_DeregisterService?relay; Banked call to: GATT_DeregisterService
   \   000797   E9           MOV     A,R1
   \   000798   F5..         MOV     ?V4,A
   1301                    if ( stat == SUCCESS )
   \   00079A   6003         JZ      $+5
   \   00079C   02....       LJMP    ??processExMsgGATT_24 & 0xFFFF
   1302                    {
   1303                      freeAttrRecs( &serv );
   \   00079F                ; Setup parameters for call to function freeAttrRecs
   \   00079F   7425         MOV     A,#0x25
   \   0007A1   12....       LCALL   ?XSTACK_DISP101_8
   \   0007A4   12....       LCALL   ??freeAttrRecs?relay ; Banked call to: freeAttrRecs
   \   0007A7   8077         SJMP    ??processExMsgGATT_24
   1304                    }
   1305                  }
   1306                }
   1307                break;
   1308          
   1309              case HCI_EXT_GATT_ADD_ATTRIBUTE:
   1310                if ( service.attrs != NULL )
   \                     ??processExMsgGATT_22:
   \   0007A9   90....       MOV     DPTR,#??service + 2
   \   0007AC   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_385:
   \   0007AF   6067         JZ      ??processExMsgGATT_34
   1311                {
   1312                  if ( ( pCmd->len-1 == ATT_UUID_SIZE ) ||
   1313                       ( pCmd->len-1 == ATT_BT_UUID_SIZE ) )
   \   0007B1   8A82         MOV     DPL,R2
   \   0007B3   8B83         MOV     DPH,R3
   \   0007B5   A3           INC     DPTR
   \   0007B6   A3           INC     DPTR
   \   0007B7   A3           INC     DPTR
   \   0007B8   E0           MOVX    A,@DPTR
   \   0007B9   FA           MOV     R2,A
   \   0007BA   24FF         ADD     A,#-0x1
   \   0007BC   F8           MOV     R0,A
   \   0007BD   E4           CLR     A
   \   0007BE   34FF         ADDC    A,#-0x1
   \   0007C0   F9           MOV     R1,A
   \   0007C1   7410         MOV     A,#0x10
   \   0007C3   68           XRL     A,R0
   \   0007C4   7001         JNZ     ??processExMsgGATT_43
   \   0007C6   E9           MOV     A,R1
   \                     ??processExMsgGATT_43:
   \   0007C7   6006         JZ      ??processExMsgGATT_44
   \   0007C9   7402         MOV     A,#0x2
   \   0007CB   68           XRL     A,R0
   \   0007CC   49           ORL     A,R1
   \   0007CD   7044         JNZ     ??processExMsgGATT_27
   1314                  {
   1315                    // Add attribute record to the service being added
   1316                    stat = addAttrRec( &service, pBuf, pCmd->len-1,
   1317                                       pBuf[pCmd->len-1], &totalAttrs, pRspDataLen );
   \                     ??processExMsgGATT_44:
   \   0007CF                ; Setup parameters for call to function addAttrRec
   \   0007CF   7403         MOV     A,#0x3
   \   0007D1   12....       LCALL   ?XSTACK_DISP0_8
   \   0007D4   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0007D7   75....       MOV     ?V0,#??totalAttrs & 0xff
   \   0007DA   75....       MOV     ?V1,#(??totalAttrs >> 8) & 0xff
   \   0007DD   78..         MOV     R0,#?V0
   \   0007DF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0007E2   E5..         MOV     A,?V2
   \   0007E4   2A           ADD     A,R2
   \   0007E5   F8           MOV     R0,A
   \   0007E6   E4           CLR     A
   \   0007E7   35..         ADDC    A,?V3
   \   0007E9   F9           MOV     R1,A
   \   0007EA   E8           MOV     A,R0
   \   0007EB   24FF         ADD     A,#-0x1
   \   0007ED   F582         MOV     DPL,A
   \   0007EF   E9           MOV     A,R1
   \   0007F0   34FF         ADDC    A,#-0x1
   \   0007F2   F583         MOV     DPH,A
   \   0007F4   12....       LCALL   ??Subroutine141_0 & 0xFFFF
   1318                  }
   \                     ??CrossCallReturnLabel_307:
   \   0007F7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0007FA   74FF         MOV     A,#-0x1
   \   0007FC   2A           ADD     A,R2
   \   0007FD   F9           MOV     R1,A
   \                     ??processExMsgGATT_41:
   \   0007FE   AC..         MOV     R4,?V2
   \   000800   AD..         MOV     R5,?V3
   \   000802   7A..         MOV     R2,#??service & 0xff
   \   000804   7B..         MOV     R3,#(??service >> 8) & 0xff
   \   000806   12....       LCALL   ??addAttrRec?relay   ; Banked call to: addAttrRec
   \   000809   7405         MOV     A,#0x5
   \   00080B   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??processExMsgGATT_25:
   \   00080E   E9           MOV     A,R1
   \   00080F   F5..         MOV     ?V4,A
   \   000811   800D         SJMP    ??processExMsgGATT_24
   1319                  else
   1320                  {
   1321                    stat = ATT_ERR_INVALID_PDU;
   \                     ??processExMsgGATT_27:
   \   000813   75..04       MOV     ?V4,#0x4
   \   000816   8008         SJMP    ??processExMsgGATT_24
   1322                  }
   1323                }
   1324                else // no corresponding service
   1325                {
   1326                  stat = INVALIDPARAMETER;
   \                     ??processExMsgGATT_34:
   \   000818   75..02       MOV     ?V4,#0x2
   \   00081B   8003         SJMP    ??processExMsgGATT_24
   1327                }
   1328                break;
   1329          #endif // GATT_DB_OFF_CHIP
   1330          
   1331              default:
   1332                stat = FAILURE;
   \                     ??processExMsgGATT_23:
   \   00081D   75..01       MOV     ?V4,#0x1
   1333                break;
   1334            }
   1335          
   1336            return ( mapATT2BLEStatus( stat ) );
   \                     ??processExMsgGATT_24:
   \   000820                ; Setup parameters for call to function mapATT2BLEStatus
   \   000820   A9..         MOV     R1,?V4
   \   000822   12....       LCALL   ??mapATT2BLEStatus?relay; Banked call to: mapATT2BLEStatus
   \   000825   7429         MOV     A,#0x29
   \   000827   80..         SJMP    ??Subroutine145_0
   1337          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine80:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   24FE         ADD     A,#-0x2
   \   00000A   F8           MOV     R0,A
   \   00000B   E4           CLR     A
   \   00000C   34FF         ADDC    A,#-0x1
   \   00000E   F9           MOV     R1,A
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine77:
   \   000000   85..82       MOV     DPL,?V0
   \   000003   85..83       MOV     DPH,?V1
   \   000006   E0           MOVX    A,@DPTR
   \   000007   FC           MOV     R4,A
   \   000008   85..82       MOV     DPL,?V6
   \   00000B   85..83       MOV     DPH,?V7
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine61:
   \   000000   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000003                REQUIRE ??Subroutine142_0
   \   000003                ; // Fall through to label ??Subroutine142_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine142_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   740C         MOV     A,#0xc
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine79:
   \   000000   A3           INC     DPTR
   \   000001   E0           MOVX    A,@DPTR
   \   000002   FC           MOV     R4,A
   \   000003   85..82       MOV     DPL,?V2
   \   000006   85..83       MOV     DPH,?V3
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine147_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   E4           CLR     A
   \   000003   C8           XCH     A,R0
   \   000004   F9           MOV     R1,A
   \   000005   EA           MOV     A,R2
   \   000006   28           ADD     A,R0
   \   000007   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??totalAttrs:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??service:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
   1338          
   1339          /*********************************************************************
   1340           * @fn      processExMsgGAP
   1341           *
   1342           * @brief   Parse and process incoming HCI extension GAP messages.
   1343           *
   1344           * @param   cmdID - incoming HCI extension command ID.
   1345           * @param   pCmd - incoming HCI extension message.
   1346           * @param   pRspDataLen - response data length to be returned.
   1347           *
   1348           * @return  SUCCESS, INVALIDPARAMETER, FAILURE,
   1349           *          or bleMemAllocError
   1350           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1351          static uint8 processExMsgGAP( uint8 cmdID, hciExtCmd_t *pCmd, uint8 *pRspDataLen )
   \                     processExMsgGAP:
   1352          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 94
   \   000005   74A2         MOV     A,#-0x5e
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   85..82       MOV     DPL,?XSP + 0
   \   00000E   85..83       MOV     DPH,?XSP + 1
   \   000011   F0           MOVX    @DPTR,A
   \   000012   8C..         MOV     ?V4,R4
   \   000014   8D..         MOV     ?V5,R5
   1353            uint8 *pBuf = pCmd->pData;
   \   000016   8A82         MOV     DPL,R2
   \   000018   8B83         MOV     DPH,R3
   \   00001A   A3           INC     DPTR
   \   00001B   A3           INC     DPTR
   \   00001C   A3           INC     DPTR
   \   00001D   A3           INC     DPTR
   \   00001E   E0           MOVX    A,@DPTR
   \   00001F   FE           MOV     R6,A
   \   000020   A3           INC     DPTR
   \   000021   E0           MOVX    A,@DPTR
   \   000022   FF           MOV     R7,A
   1354            bStatus_t stat = SUCCESS;
   \   000023   75..00       MOV     ?V0,#0x0
   \   000026   EE           MOV     A,R6
   \   000027   2402         ADD     A,#0x2
   \   000029   F5..         MOV     ?V2,A
   \   00002B   E4           CLR     A
   \   00002C   3F           ADDC    A,R7
   \   00002D   F5..         MOV     ?V3,A
   \   00002F   85..82       MOV     DPL,?XSP + 0
   \   000032   85..83       MOV     DPH,?XSP + 1
   \   000035   E0           MOVX    A,@DPTR
   \   000036   7003         JNZ     $+5
   \   000038   02....       LJMP    ??processExMsgGAP_0 & 0xFFFF
   \   00003B   24FD         ADD     A,#-0x3
   \   00003D   7003         JNZ     $+5
   \   00003F   02....       LJMP    ??processExMsgGAP_1 & 0xFFFF
   \   000042   14           DEC     A
   \   000043   7003         JNZ     $+5
   \   000045   02....       LJMP    ??processExMsgGAP_2 & 0xFFFF
   \   000048   14           DEC     A
   \   000049   7003         JNZ     $+5
   \   00004B   02....       LJMP    ??processExMsgGAP_3 & 0xFFFF
   \   00004E   14           DEC     A
   \   00004F   7003         JNZ     $+5
   \   000051   02....       LJMP    ??processExMsgGAP_4 & 0xFFFF
   \   000054   14           DEC     A
   \   000055   7003         JNZ     $+5
   \   000057   02....       LJMP    ??processExMsgGAP_5 & 0xFFFF
   \   00005A   14           DEC     A
   \   00005B   7003         JNZ     $+5
   \   00005D   02....       LJMP    ??processExMsgGAP_6 & 0xFFFF
   \   000060   14           DEC     A
   \   000061   7003         JNZ     $+5
   \   000063   02....       LJMP    ??processExMsgGAP_7 & 0xFFFF
   \   000066   14           DEC     A
   \   000067   7003         JNZ     $+5
   \   000069   02....       LJMP    ??processExMsgGAP_8 & 0xFFFF
   \   00006C   14           DEC     A
   \   00006D   7003         JNZ     $+5
   \   00006F   02....       LJMP    ??processExMsgGAP_9 & 0xFFFF
   \   000072   14           DEC     A
   \   000073   7003         JNZ     $+5
   \   000075   02....       LJMP    ??processExMsgGAP_10 & 0xFFFF
   \   000078   14           DEC     A
   \   000079   7003         JNZ     $+5
   \   00007B   02....       LJMP    ??processExMsgGAP_11 & 0xFFFF
   \   00007E   14           DEC     A
   \   00007F   7003         JNZ     $+5
   \   000081   02....       LJMP    ??processExMsgGAP_12 & 0xFFFF
   \   000084   14           DEC     A
   \   000085   7003         JNZ     $+5
   \   000087   02....       LJMP    ??processExMsgGAP_13 & 0xFFFF
   \   00008A   14           DEC     A
   \   00008B   7003         JNZ     $+5
   \   00008D   02....       LJMP    ??processExMsgGAP_14 & 0xFFFF
   \   000090   14           DEC     A
   \   000091   7003         JNZ     $+5
   \   000093   02....       LJMP    ??processExMsgGAP_15 & 0xFFFF
   \   000096   24E1         ADD     A,#-0x1f
   \   000098   7003         JNZ     $+5
   \   00009A   02....       LJMP    ??processExMsgGAP_16 & 0xFFFF
   \   00009D   14           DEC     A
   \   00009E   7003         JNZ     $+5
   \   0000A0   02....       LJMP    ??processExMsgGAP_17 & 0xFFFF
   \   0000A3   14           DEC     A
   \   0000A4   7003         JNZ     $+5
   \   0000A6   02....       LJMP    ??processExMsgGAP_18 & 0xFFFF
   \   0000A9   14           DEC     A
   \   0000AA   7003         JNZ     $+5
   \   0000AC   02....       LJMP    ??processExMsgGAP_19 & 0xFFFF
   \   0000AF   14           DEC     A
   \   0000B0   7003         JNZ     $+5
   \   0000B2   02....       LJMP    ??processExMsgGAP_20 & 0xFFFF
   \   0000B5   14           DEC     A
   \   0000B6   7003         JNZ     $+5
   \   0000B8   02....       LJMP    ??processExMsgGAP_21 & 0xFFFF
   \   0000BB   14           DEC     A
   \   0000BC   7003         JNZ     $+5
   \   0000BE   02....       LJMP    ??processExMsgGAP_22 & 0xFFFF
   \   0000C1   14           DEC     A
   \   0000C2   7003         JNZ     $+5
   \   0000C4   02....       LJMP    ??processExMsgGAP_23 & 0xFFFF
   \   0000C7   14           DEC     A
   \   0000C8   7003         JNZ     $+5
   \   0000CA   02....       LJMP    ??processExMsgGAP_24 & 0xFFFF
   \   0000CD   02....       LJMP    ??processExMsgGAP_25 & 0xFFFF
   1355          
   1356            switch( cmdID )
   1357            {
   1358              case HCI_EXT_GAP_DEVICE_INIT:
   1359                {
   1360                  uint32 signCounter;
   1361                  uint8 profileRole = pBuf[0];
   \                     ??processExMsgGAP_0:
   \   0000D0   8E82         MOV     DPL,R6
   \   0000D2   8F83         MOV     DPH,R7
   \   0000D4   12....       LCALL   ?Subroutine81 & 0xFFFF
   1362          
   1363          #if defined ( GAP_BOND_MGR )
   1364                  hciExtProfileRole = profileRole;
   \                     ??CrossCallReturnLabel_210:
   \   0000D7   90....       MOV     DPTR,#hciExtProfileRole
   \   0000DA   F0           MOVX    @DPTR,A
   1365          #endif
   1366          
   1367                  // Copy the IRK, SRK and sign counter from the command if they aren't all "0",
   1368                  // otherwise use what's in NV
   1369                  if ( osal_isbufset( &pBuf[2], 0, KEYLEN ) == FALSE )
   \   0000DB                ; Setup parameters for call to function osal_isbufset
   \   0000DB   7C10         MOV     R4,#0x10
   \   0000DD   7900         MOV     R1,#0x0
   \   0000DF   AA..         MOV     R2,?V2
   \   0000E1   AB..         MOV     R3,?V3
   \   0000E3   12....       LCALL   ??osal_isbufset?relay; Banked call to: osal_isbufset
   \   0000E6   E9           MOV     A,R1
   \   0000E7   701B         JNZ     ??processExMsgGAP_26
   1370                  {
   1371                    VOID osal_memcpy( IRK, &pBuf[2], KEYLEN );
   \   0000E9                ; Setup parameters for call to function osal_memcpy
   \   0000E9   75..10       MOV     ?V0,#0x10
   \   0000EC   75..00       MOV     ?V1,#0x0
   \   0000EF   78..         MOV     R0,#?V0
   \   0000F1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F4   AC..         MOV     R4,?V2
   \   0000F6   AD..         MOV     R5,?V3
   \   0000F8   7A..         MOV     R2,#IRK & 0xff
   \   0000FA   7B..         MOV     R3,#(IRK >> 8) & 0xff
   \   0000FC   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0000FF   7402         MOV     A,#0x2
   \   000101   12....       LCALL   ?DEALLOC_XSTACK8
   1372                  }
   1373          
   1374                  if ( osal_isbufset( &pBuf[2+KEYLEN], 0, KEYLEN ) == FALSE )
   \                     ??processExMsgGAP_26:
   \   000104   EE           MOV     A,R6
   \   000105   2412         ADD     A,#0x12
   \   000107   F5..         MOV     ?V0,A
   \   000109   E4           CLR     A
   \   00010A   3F           ADDC    A,R7
   \   00010B   F5..         MOV     ?V1,A
   \   00010D                ; Setup parameters for call to function osal_isbufset
   \   00010D   7C10         MOV     R4,#0x10
   \   00010F   7900         MOV     R1,#0x0
   \   000111   AA..         MOV     R2,?V0
   \   000113   FB           MOV     R3,A
   \   000114   12....       LCALL   ??osal_isbufset?relay; Banked call to: osal_isbufset
   \   000117   E9           MOV     A,R1
   \   000118   701B         JNZ     ??processExMsgGAP_27
   1375                  {
   1376                    VOID osal_memcpy( SRK, &pBuf[2+KEYLEN], KEYLEN );
   \   00011A                ; Setup parameters for call to function osal_memcpy
   \   00011A   75..10       MOV     ?V2,#0x10
   \   00011D   75..00       MOV     ?V3,#0x0
   \   000120   78..         MOV     R0,#?V2
   \   000122   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000125   AC..         MOV     R4,?V0
   \   000127   AD..         MOV     R5,?V1
   \   000129   7A..         MOV     R2,#SRK & 0xff
   \   00012B   7B..         MOV     R3,#(SRK >> 8) & 0xff
   \   00012D   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000130   7402         MOV     A,#0x2
   \   000132   12....       LCALL   ?DEALLOC_XSTACK8
   1377                  }
   1378          
   1379                  signCounter = BUILD_UINT32( pBuf[2+KEYLEN+KEYLEN+0], pBuf[2+KEYLEN+KEYLEN+1],
   1380                                                  pBuf[2+KEYLEN+KEYLEN+2], pBuf[2+KEYLEN+KEYLEN+3] );
   \                     ??processExMsgGAP_27:
   \   000135   EE           MOV     A,R6
   \   000136   2422         ADD     A,#0x22
   \   000138   F582         MOV     DPL,A
   \   00013A   E4           CLR     A
   \   00013B   3F           ADDC    A,R7
   \   00013C   F583         MOV     DPH,A
   \   00013E   12....       LCALL   ?Subroutine73 & 0xFFFF
   \                     ??CrossCallReturnLabel_194:
   \   000141   EE           MOV     A,R6
   \   000142   2423         ADD     A,#0x23
   \   000144   F582         MOV     DPL,A
   \   000146   E4           CLR     A
   \   000147   3F           ADDC    A,R7
   \   000148   F583         MOV     DPH,A
   \   00014A   12....       LCALL   ?Subroutine60 & 0xFFFF
   \                     ??CrossCallReturnLabel_167:
   \   00014D   12....       LCALL   ?L_SHL
   \   000150   78..         MOV     R0,#?V0
   \   000152   79..         MOV     R1,#?V4
   \   000154   12....       LCALL   ?L_ADD
   \   000157   EE           MOV     A,R6
   \   000158   2424         ADD     A,#0x24
   \   00015A   F582         MOV     DPL,A
   \   00015C   E4           CLR     A
   \   00015D   3F           ADDC    A,R7
   \   00015E   F583         MOV     DPH,A
   \   000160   12....       LCALL   ?Subroutine74 & 0xFFFF
   \                     ??CrossCallReturnLabel_195:
   \   000163   12....       LCALL   ?L_SHL
   \   000166   78..         MOV     R0,#?V0
   \   000168   79..         MOV     R1,#?V4
   \   00016A   12....       LCALL   ?L_ADD
   \   00016D   EE           MOV     A,R6
   \   00016E   2425         ADD     A,#0x25
   \   000170   F582         MOV     DPL,A
   \   000172   E4           CLR     A
   \   000173   3F           ADDC    A,R7
   \   000174   F583         MOV     DPH,A
   \   000176   12....       LCALL   ?Subroutine75 & 0xFFFF
   \                     ??CrossCallReturnLabel_197:
   \   000179   12....       LCALL   ?L_SHL
   \   00017C   78..         MOV     R0,#?V0
   \   00017E   79..         MOV     R1,#?V4
   \   000180   12....       LCALL   ?L_ADD
   1381                  if ( signCounter > 0 )
   \   000183   E5..         MOV     A,?V0
   \   000185   45..         ORL     A,?V1
   \   000187   45..         ORL     A,?V2
   \   000189   45..         ORL     A,?V3
   \   00018B   6008         JZ      ??processExMsgGAP_28
   1382                  {
   1383                    hciExtSignCounter = signCounter;
   \   00018D   90....       MOV     DPTR,#hciExtSignCounter
   \   000190   78..         MOV     R0,#?V0
   \   000192   12....       LCALL   ?L_MOV_TO_X
   1384                  }
   1385          
   1386                  stat = GAP_DeviceInit( hciExtApp_TaskID, profileRole, pBuf[1], IRK, SRK, &hciExtSignCounter );
   \                     ??processExMsgGAP_28:
   \   000195                ; Setup parameters for call to function GAP_DeviceInit
   \   000195   75....       MOV     ?V0,#hciExtSignCounter & 0xff
   \   000198   75....       MOV     ?V1,#(hciExtSignCounter >> 8) & 0xff
   \   00019B   78..         MOV     R0,#?V0
   \   00019D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001A0   75....       MOV     ?V0,#SRK & 0xff
   \   0001A3   75....       MOV     ?V1,#(SRK >> 8) & 0xff
   \   0001A6   78..         MOV     R0,#?V0
   \   0001A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001AB   7C..         MOV     R4,#IRK & 0xff
   \   0001AD   7D..         MOV     R5,#(IRK >> 8) & 0xff
   \   0001AF   8E82         MOV     DPL,R6
   \   0001B1   8F83         MOV     DPH,R7
   \   0001B3   A3           INC     DPTR
   \   0001B4   E0           MOVX    A,@DPTR
   \   0001B5   FB           MOV     R3,A
   \   0001B6   7404         MOV     A,#0x4
   \   0001B8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001BB   E0           MOVX    A,@DPTR
   \   0001BC   FA           MOV     R2,A
   \   0001BD   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0001C0   E0           MOVX    A,@DPTR
   \   0001C1   F9           MOV     R1,A
   \   0001C2   12....       LCALL   ??GAP_DeviceInit?relay; Banked call to: GAP_DeviceInit
   \   0001C5   7404         MOV     A,#0x4
   \   0001C7   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001CA   E9           MOV     A,R1
   \   0001CB   F5..         MOV     ?V0,A
   1387          
   1388                  // Take over the processing of Authentication messages
   1389                  VOID GAP_SetParamValue( TGAP_AUTH_TASK_ID, hciExtApp_TaskID );
   \   0001CD                ; Setup parameters for call to function GAP_SetParamValue
   \   0001CD   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0001D0   E0           MOVX    A,@DPTR
   \   0001D1   FC           MOV     R4,A
   \   0001D2   7D00         MOV     R5,#0x0
   \   0001D4   7A26         MOV     R2,#0x26
   \   0001D6   7B00         MOV     R3,#0x0
   \   0001D8   12....       LCALL   ??GAP_SetParamValue?relay; Banked call to: GAP_SetParamValue
   1390                }
   1391                break;
   \   0001DB   02....       LJMP    ??processExMsgGAP_29 & 0xFFFF
   1392          
   1393              case HCI_EXT_GAP_CONFIG_DEVICE_ADDR:
   1394                {
   1395                  uint8 *pStaticAddr = NULL;
   \                     ??processExMsgGAP_1:
   \   0001DE   75..00       MOV     ?V1,#0x0
   1396                  uint8 nullAddr[B_ADDR_LEN] = {0};
   \   0001E1   90....       MOV     DPTR,#`?<Constant {0}>`
   \   0001E4   740F         MOV     A,#0xf
   \   0001E6   12....       LCALL   ?XSTACK_DISP102_8
   \   0001E9   7406         MOV     A,#0x6
   \   0001EB   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1397          
   1398                  if ( osal_memcmp( &pBuf[1], nullAddr, B_ADDR_LEN ) != TRUE )
   \   0001EE                ; Setup parameters for call to function osal_memcmp
   \   0001EE   75..06       MOV     ?V2,#0x6
   \   0001F1   F5..         MOV     ?V3,A
   \   0001F3   78..         MOV     R0,#?V2
   \   0001F5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001F8   7411         MOV     A,#0x11
   \   0001FA   12....       LCALL   ?XSTACK_DISP102_8
   \   0001FD   8E82         MOV     DPL,R6
   \   0001FF   8F83         MOV     DPH,R7
   \   000201   A3           INC     DPTR
   \   000202   AA82         MOV     R2,DPL
   \   000204   AB83         MOV     R3,DPH
   \   000206   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   000209   7402         MOV     A,#0x2
   \   00020B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00020E   E9           MOV     A,R1
   \   00020F   6401         XRL     A,#0x1
   \   000211   600B         JZ      ??processExMsgGAP_30
   1399                  {
   1400                    pStaticAddr = &pBuf[1];
   \   000213   8E82         MOV     DPL,R6
   \   000215   8F83         MOV     DPH,R7
   \   000217   A3           INC     DPTR
   \   000218   8582..       MOV     ?V0,DPL
   \   00021B   8583..       MOV     ?V1,DPH
   1401                  }
   1402          
   1403                  stat = GAP_ConfigDeviceAddr( pBuf[0], pStaticAddr );
   \                     ??processExMsgGAP_30:
   \   00021E                ; Setup parameters for call to function GAP_ConfigDeviceAddr
   \   00021E   AA..         MOV     R2,?V0
   \   000220   AB..         MOV     R3,?V1
   \   000222   8E82         MOV     DPL,R6
   \   000224   8F83         MOV     DPH,R7
   \   000226   E0           MOVX    A,@DPTR
   \   000227   F9           MOV     R1,A
   \   000228   12....       LCALL   ??GAP_ConfigDeviceAddr?relay; Banked call to: GAP_ConfigDeviceAddr
   \   00022B   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1404                }
   1405                break;
   1406          
   1407          #if ( HOST_CONFIG & ( CENTRAL_CFG | OBSERVER_CFG ) )
   1408              case HCI_EXT_GAP_DEVICE_DISC_REQ:
   1409                {
   1410                  gapDevDiscReq_t discReq;
   1411          
   1412                  discReq.taskID = hciExtApp_TaskID;
   \                     ??processExMsgGAP_2:
   \   00022E   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000231   E0           MOVX    A,@DPTR
   \   000232   C0E0         PUSH    A
   \   000234   7401         MOV     A,#0x1
   \   000236   12....       LCALL   ?XSTACK_DISP0_8
   \   000239   D0E0         POP     A
   \   00023B   12....       LCALL   ?Subroutine125 & 0xFFFF
   1413                  discReq.mode = *pBuf++;
   \                     ??CrossCallReturnLabel_294:
   \   00023E   E0           MOVX    A,@DPTR
   \   00023F   C0E0         PUSH    A
   \   000241   7402         MOV     A,#0x2
   \   000243   12....       LCALL   ?XSTACK_DISP0_8
   \   000246   D0E0         POP     A
   \   000248   12....       LCALL   ?Subroutine14 & 0xFFFF
   1414                  discReq.activeScan = *pBuf++;
   \                     ??CrossCallReturnLabel_18:
   \   00024B   C0E0         PUSH    A
   \   00024D   7403         MOV     A,#0x3
   \   00024F   12....       LCALL   ?XSTACK_DISP0_8
   \   000252   D0E0         POP     A
   \   000254   12....       LCALL   ??Subroutine139_0 & 0xFFFF
   1415                  discReq.whiteList = *pBuf;
   \                     ??CrossCallReturnLabel_286:
   \   000257   E0           MOVX    A,@DPTR
   \   000258   C0E0         PUSH    A
   \   00025A   7404         MOV     A,#0x4
   \   00025C   12....       LCALL   ?XSTACK_DISP0_8
   \   00025F   D0E0         POP     A
   \   000261   F0           MOVX    @DPTR,A
   1416          
   1417                  stat = GAP_DeviceDiscoveryRequest( &discReq );
   \   000262                ; Setup parameters for call to function GAP_DeviceDiscoveryRequest
   \   000262   7401         MOV     A,#0x1
   \   000264   12....       LCALL   ?XSTACK_DISP101_8
   \   000267   12....       LCALL   ??GAP_DeviceDiscoveryRequest?relay; Banked call to: GAP_DeviceDiscoveryRequest
   \   00026A   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1418                }
   1419                break;
   1420          
   1421              case HCI_EXT_GAP_DEVICE_DISC_CANCEL:
   1422                stat = GAP_DeviceDiscoveryCancel( hciExtApp_TaskID );
   \                     ??processExMsgGAP_3:
   \   00026D                ; Setup parameters for call to function GAP_DeviceDiscoveryCancel
   \   00026D   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000270   E0           MOVX    A,@DPTR
   \   000271   F9           MOV     R1,A
   \   000272   12....       LCALL   ??GAP_DeviceDiscoveryCancel?relay; Banked call to: GAP_DeviceDiscoveryCancel
   \   000275   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1423                break;
   1424          #endif // OBSERVER_CFG | CENTRAL_CFG
   1425          
   1426          #if ( HOST_CONFIG & CENTRAL_CFG )
   1427              case HCI_EXT_GAP_EST_LINK_REQ:
   1428                {
   1429                  gapEstLinkReq_t linkReq;
   1430          
   1431                  linkReq.taskID = hciExtApp_TaskID;
   \                     ??processExMsgGAP_7:
   \   000278   90....       MOV     DPTR,#hciExtApp_TaskID
   \   00027B   E0           MOVX    A,@DPTR
   \   00027C   C0E0         PUSH    A
   \   00027E   7405         MOV     A,#0x5
   \   000280   12....       LCALL   ?XSTACK_DISP0_8
   \   000283   D0E0         POP     A
   \   000285   12....       LCALL   ?Subroutine125 & 0xFFFF
   1432                  linkReq.highDutyCycle = *pBuf++;
   \                     ??CrossCallReturnLabel_295:
   \   000288   E0           MOVX    A,@DPTR
   \   000289   C0E0         PUSH    A
   \   00028B   7406         MOV     A,#0x6
   \   00028D   12....       LCALL   ?XSTACK_DISP0_8
   \   000290   D0E0         POP     A
   \   000292   12....       LCALL   ?Subroutine14 & 0xFFFF
   1433                  linkReq.whiteList = *pBuf++;
   \                     ??CrossCallReturnLabel_19:
   \   000295   C0E0         PUSH    A
   \   000297   7407         MOV     A,#0x7
   \   000299   12....       LCALL   ?XSTACK_DISP0_8
   \   00029C   D0E0         POP     A
   \   00029E   12....       LCALL   ?Subroutine13 & 0xFFFF
   1434                  linkReq.addrTypePeer = *pBuf++;
   \                     ??CrossCallReturnLabel_13:
   \   0002A1   C0E0         PUSH    A
   \   0002A3   7408         MOV     A,#0x8
   \   0002A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0002A8   D0E0         POP     A
   \   0002AA   12....       LCALL   ?Subroutine19 & 0xFFFF
   1435                  VOID osal_memcpy( linkReq.peerAddr, pBuf, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_33:
   \   0002AD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002B0   EE           MOV     A,R6
   \   0002B1   FC           MOV     R4,A
   \   0002B2   EF           MOV     A,R7
   \   0002B3   FD           MOV     R5,A
   \   0002B4   740B         MOV     A,#0xb
   \   0002B6   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B9   AA82         MOV     R2,DPL
   \   0002BB   AB83         MOV     R3,DPH
   \   0002BD   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0002C0   7402         MOV     A,#0x2
   \   0002C2   12....       LCALL   ?DEALLOC_XSTACK8
   1436          
   1437                  stat =  GAP_EstablishLinkReq( &linkReq );
   \   0002C5                ; Setup parameters for call to function GAP_EstablishLinkReq
   \   0002C5   7405         MOV     A,#0x5
   \   0002C7   12....       LCALL   ?XSTACK_DISP101_8
   \   0002CA   12....       LCALL   ??GAP_EstablishLinkReq?relay; Banked call to: GAP_EstablishLinkReq
   \   0002CD   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1438                }
   1439                break;
   1440          
   1441              case HCI_EXT_GAP_UPDATE_LINK_PARAM_REQ:
   1442                {
   1443                  gapUpdateLinkParamReq_t updateLinkReq;
   1444          
   1445                  updateLinkReq.connectionHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_15:
   \   0002D0   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_135:
   \   0002D3   7405         MOV     A,#0x5
   \   0002D5   12....       LCALL   ?XSTACK_DISP0_8
   \   0002D8   12....       LCALL   ?Subroutine15 & 0xFFFF
   1446                  pBuf += 2;
   1447                  updateLinkReq.intervalMin = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??CrossCallReturnLabel_22:
   \   0002DB   FA           MOV     R2,A
   \   0002DC   A3           INC     DPTR
   \   0002DD   E0           MOVX    A,@DPTR
   \   0002DE   F9           MOV     R1,A
   \   0002DF   EA           MOV     A,R2
   \   0002E0   F8           MOV     R0,A
   \   0002E1   7407         MOV     A,#0x7
   \   0002E3   12....       LCALL   ?XSTACK_DISP0_8
   \   0002E6   12....       LCALL   ?Subroutine18 & 0xFFFF
   1448                  pBuf += 2;
   \                     ??CrossCallReturnLabel_29:
   \   0002E9   5001         JNC     ??processExMsgGAP_32
   \   0002EB   0F           INC     R7
   1449                  updateLinkReq.intervalMax = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_32:
   \   0002EC   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_136:
   \   0002EF   7409         MOV     A,#0x9
   \   0002F1   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F4   12....       LCALL   ?Subroutine18 & 0xFFFF
   1450                  pBuf += 2;
   \                     ??CrossCallReturnLabel_30:
   \   0002F7   5001         JNC     ??processExMsgGAP_33
   \   0002F9   0F           INC     R7
   1451                  updateLinkReq.connLatency = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_33:
   \   0002FA   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_137:
   \   0002FD   740B         MOV     A,#0xb
   \   0002FF   12....       LCALL   ?XSTACK_DISP0_8
   \   000302   12....       LCALL   ?Subroutine18 & 0xFFFF
   1452                  pBuf += 2;
   \                     ??CrossCallReturnLabel_31:
   \   000305   5001         JNC     ??processExMsgGAP_34
   \   000307   0F           INC     R7
   1453                  updateLinkReq.connTimeout = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_34:
   \   000308   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_138:
   \   00030B   740D         MOV     A,#0xd
   \   00030D   12....       LCALL   ?XSTACK_DISP0_8
   \   000310   12....       LCALL   ?Subroutine32 & 0xFFFF
   1454          
   1455                  stat = GAP_UpdateLinkParamReq( &updateLinkReq );
   \                     ??CrossCallReturnLabel_62:
   \   000313                ; Setup parameters for call to function GAP_UpdateLinkParamReq
   \   000313   7405         MOV     A,#0x5
   \   000315   12....       LCALL   ?XSTACK_DISP101_8
   \   000318   12....       LCALL   ??GAP_UpdateLinkParamReq?relay; Banked call to: GAP_UpdateLinkParamReq
   \   00031B   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1456                }
   1457                break;
   1458          #endif // CENTRAL_CFG
   1459          
   1460              case HCI_EXT_GAP_TERMINATE_LINK:
   1461                stat = GAP_TerminateLinkReq( hciExtApp_TaskID, BUILD_UINT16( pBuf[0], pBuf[1] ), pBuf[2] );
   \                     ??processExMsgGAP_8:
   \   00031E                ; Setup parameters for call to function GAP_TerminateLinkReq
   \   00031E   85..82       MOV     DPL,?V2
   \   000321   85..83       MOV     DPH,?V3
   \   000324   E0           MOVX    A,@DPTR
   \   000325   FC           MOV     R4,A
   \   000326   12....       LCALL   ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_164:
   \   000329   E4           CLR     A
   \   00032A   39           ADDC    A,R1
   \   00032B   FB           MOV     R3,A
   \   00032C   90....       MOV     DPTR,#hciExtApp_TaskID
   \   00032F   E0           MOVX    A,@DPTR
   \   000330   F9           MOV     R1,A
   \   000331   12....       LCALL   ??GAP_TerminateLinkReq?relay; Banked call to: GAP_TerminateLinkReq
   \   000334   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1462                break;
   1463          
   1464          #if ( HOST_CONFIG & ( PERIPHERAL_CFG | BROADCASTER_CFG ) )
   1465              case HCI_EXT_GAP_MAKE_DISCOVERABLE:
   1466                {
   1467                  gapAdvertisingParams_t adParams;
   1468          
   1469                  adParams.eventType = *pBuf++;
   \                     ??processExMsgGAP_4:
   \   000337   8E82         MOV     DPL,R6
   \   000339   8F83         MOV     DPH,R7
   \   00033B   E0           MOVX    A,@DPTR
   \   00033C   C0E0         PUSH    A
   \   00033E   7405         MOV     A,#0x5
   \   000340   12....       LCALL   ?XSTACK_DISP0_8
   \   000343   D0E0         POP     A
   \   000345   12....       LCALL   ?Subroutine14 & 0xFFFF
   1470                  adParams.initiatorAddrType = *pBuf++;
   \                     ??CrossCallReturnLabel_20:
   \   000348   C0E0         PUSH    A
   \   00034A   7406         MOV     A,#0x6
   \   00034C   12....       LCALL   ?XSTACK_DISP0_8
   \   00034F   D0E0         POP     A
   \   000351   12....       LCALL   ?Subroutine19 & 0xFFFF
   1471                  VOID osal_memcpy( adParams.initiatorAddr, pBuf, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_34:
   \   000354   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000357   EE           MOV     A,R6
   \   000358   FC           MOV     R4,A
   \   000359   EF           MOV     A,R7
   \   00035A   FD           MOV     R5,A
   \   00035B   7409         MOV     A,#0x9
   \   00035D   12....       LCALL   ?XSTACK_DISP0_8
   \   000360   AA82         MOV     R2,DPL
   \   000362   AB83         MOV     R3,DPH
   \   000364   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000367   7402         MOV     A,#0x2
   \   000369   12....       LCALL   ?DEALLOC_XSTACK8
   1472                  pBuf += B_ADDR_LEN;
   \   00036C   EE           MOV     A,R6
   \   00036D   2406         ADD     A,#0x6
   \   00036F   FE           MOV     R6,A
   \   000370   5001         JNC     ??processExMsgGAP_35
   \   000372   0F           INC     R7
   1473                  adParams.channelMap = *pBuf++;
   \                     ??processExMsgGAP_35:
   \   000373   8E82         MOV     DPL,R6
   \   000375   8F83         MOV     DPH,R7
   \   000377   E0           MOVX    A,@DPTR
   \   000378   C0E0         PUSH    A
   \   00037A   740D         MOV     A,#0xd
   \   00037C   12....       LCALL   ?XSTACK_DISP0_8
   \   00037F   D0E0         POP     A
   \   000381   12....       LCALL   ??Subroutine139_0 & 0xFFFF
   1474                  adParams.filterPolicy = *pBuf;
   \                     ??CrossCallReturnLabel_287:
   \   000384   E0           MOVX    A,@DPTR
   \   000385   C0E0         PUSH    A
   \   000387   740E         MOV     A,#0xe
   \   000389   12....       LCALL   ?XSTACK_DISP0_8
   \   00038C   D0E0         POP     A
   \   00038E   F0           MOVX    @DPTR,A
   1475                  stat = GAP_MakeDiscoverable( hciExtApp_TaskID, &adParams );
   \   00038F                ; Setup parameters for call to function GAP_MakeDiscoverable
   \   00038F   7405         MOV     A,#0x5
   \   000391   12....       LCALL   ?XSTACK_DISP101_8
   \   000394   90....       MOV     DPTR,#hciExtApp_TaskID
   \   000397   E0           MOVX    A,@DPTR
   \   000398   F9           MOV     R1,A
   \   000399   12....       LCALL   ??GAP_MakeDiscoverable?relay; Banked call to: GAP_MakeDiscoverable
   \   00039C   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1476                }
   1477                break;
   1478          
   1479              case HCI_EXT_GAP_UPDATE_ADV_DATA:
   1480                stat = GAP_UpdateAdvertisingData( hciExtApp_TaskID, pBuf[0], pBuf[1], &pBuf[2] );
   \                     ??processExMsgGAP_5:
   \   00039F                ; Setup parameters for call to function GAP_UpdateAdvertisingData
   \   00039F   AC..         MOV     R4,?V2
   \   0003A1   AD..         MOV     R5,?V3
   \   0003A3   8E82         MOV     DPL,R6
   \   0003A5   8F83         MOV     DPH,R7
   \   0003A7   A3           INC     DPTR
   \   0003A8   E0           MOVX    A,@DPTR
   \   0003A9   FB           MOV     R3,A
   \   0003AA   8E82         MOV     DPL,R6
   \   0003AC   8F83         MOV     DPH,R7
   \   0003AE   E0           MOVX    A,@DPTR
   \   0003AF   FA           MOV     R2,A
   \   0003B0   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0003B3   E0           MOVX    A,@DPTR
   \   0003B4   F9           MOV     R1,A
   \   0003B5   12....       LCALL   ??GAP_UpdateAdvertisingData?relay; Banked call to: GAP_UpdateAdvertisingData
   \   0003B8   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1481                break;
   1482          
   1483              case HCI_EXT_GAP_END_DISC:
   1484                stat = GAP_EndDiscoverable( hciExtApp_TaskID );
   \                     ??processExMsgGAP_6:
   \   0003BB                ; Setup parameters for call to function GAP_EndDiscoverable
   \   0003BB   90....       MOV     DPTR,#hciExtApp_TaskID
   \   0003BE   E0           MOVX    A,@DPTR
   \   0003BF   F9           MOV     R1,A
   \   0003C0   12....       LCALL   ??GAP_EndDiscoverable?relay; Banked call to: GAP_EndDiscoverable
   \   0003C3   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1485                break;
   1486          #endif // PERIPHERAL_CFG | BROADCASTER_CFG
   1487          
   1488              case HCI_EXT_GAP_AUTHENTICATE:
   1489                {
   1490                  uint8 tmp;
   1491                  gapAuthParams_t params;
   1492                  gapPairingReq_t pairReq;
   1493                  gapPairingReq_t *pPairReq = NULL;
   \                     ??processExMsgGAP_9:
   \   0003C6   75..00       MOV     ?V1,#0x0
   1494          
   1495          #if ( OSALMEM_METRICS )
   1496                  uint16 memUsed = osal_heap_mem_used();
   1497          #endif
   1498          
   1499                  VOID osal_memset( &params, 0, sizeof ( gapAuthParams_t ) );
   \   0003C9                ; Setup parameters for call to function osal_memset
   \   0003C9   7C18         MOV     R4,#0x18
   \   0003CB   7D00         MOV     R5,#0x0
   \   0003CD   7900         MOV     R1,#0x0
   \   0003CF   7417         MOV     A,#0x17
   \   0003D1   12....       LCALL   ?XSTACK_DISP101_8
   \   0003D4   12....       LCALL   ??osal_memset?relay  ; Banked call to: osal_memset
   1500          
   1501                  params.connectionHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \   0003D7   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_139:
   \   0003DA   7417         MOV     A,#0x17
   \   0003DC   12....       LCALL   ?XSTACK_DISP0_8
   \   0003DF   12....       LCALL   ?Subroutine15 & 0xFFFF
   1502                  pBuf += 2;
   1503          
   1504                  params.secReqs.ioCaps = *pBuf++;
   \                     ??CrossCallReturnLabel_23:
   \   0003E2   C0E0         PUSH    A
   \   0003E4   7419         MOV     A,#0x19
   \   0003E6   12....       LCALL   ?XSTACK_DISP0_8
   \   0003E9   D0E0         POP     A
   \   0003EB   12....       LCALL   ?Subroutine14 & 0xFFFF
   1505                  params.secReqs.oobAvailable = *pBuf++;
   \                     ??CrossCallReturnLabel_21:
   \   0003EE   C0E0         PUSH    A
   \   0003F0   741A         MOV     A,#0x1a
   \   0003F2   12....       LCALL   ?XSTACK_DISP0_8
   \   0003F5   D0E0         POP     A
   \   0003F7   12....       LCALL   ??Subroutine139_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_288:
   \   0003FA   0E           INC     R6
   \   0003FB   AF83         MOV     R7,DPH
   1506                  VOID osal_memcpy( params.secReqs.oob, pBuf, KEYLEN );
   \   0003FD                ; Setup parameters for call to function osal_memcpy
   \   0003FD   75..10       MOV     ?V2,#0x10
   \   000400   75..00       MOV     ?V3,#0x0
   \   000403   78..         MOV     R0,#?V2
   \   000405   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000408   EE           MOV     A,R6
   \   000409   FC           MOV     R4,A
   \   00040A   EF           MOV     A,R7
   \   00040B   FD           MOV     R5,A
   \   00040C   741D         MOV     A,#0x1d
   \   00040E   12....       LCALL   ?XSTACK_DISP0_8
   \   000411   AA82         MOV     R2,DPL
   \   000413   AB83         MOV     R3,DPH
   \   000415   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000418   7402         MOV     A,#0x2
   \   00041A   12....       LCALL   ?DEALLOC_XSTACK8
   1507                  pBuf += KEYLEN;
   \   00041D   EE           MOV     A,R6
   \   00041E   2410         ADD     A,#0x10
   \   000420   FE           MOV     R6,A
   \   000421   5001         JNC     ??processExMsgGAP_36
   \   000423   0F           INC     R7
   1508                  params.secReqs.authReq = *pBuf++;
   \                     ??processExMsgGAP_36:
   \   000424   8E82         MOV     DPL,R6
   \   000426   8F83         MOV     DPH,R7
   \   000428   E0           MOVX    A,@DPTR
   \   000429   C0E0         PUSH    A
   \   00042B   742B         MOV     A,#0x2b
   \   00042D   12....       LCALL   ?XSTACK_DISP0_8
   \   000430   D0E0         POP     A
   \   000432   12....       LCALL   ?Subroutine13 & 0xFFFF
   1509                  params.secReqs.maxEncKeySize = *pBuf++;
   \                     ??CrossCallReturnLabel_14:
   \   000435   C0E0         PUSH    A
   \   000437   742E         MOV     A,#0x2e
   \   000439   12....       LCALL   ?XSTACK_DISP0_8
   \   00043C   D0E0         POP     A
   \   00043E   12....       LCALL   ?Subroutine38 & 0xFFFF
   1510          
   1511                  tmp = *pBuf++;
   \                     ??CrossCallReturnLabel_78:
   \   000441   A3           INC     DPTR
   \   000442   0E           INC     R6
   \   000443   0E           INC     R6
   \   000444   AF83         MOV     R7,DPH
   1512                  params.secReqs.keyDist.sEncKey = ( tmp & KEYDIST_SENC ) ? TRUE : FALSE;
   \   000446   A2E0         MOV     C,0xE0 /* A   */.0
   \   000448   E4           CLR     A
   \   000449   33           RLC     A
   \   00044A   F5..         MOV     ?V6,A
   1513                  params.secReqs.keyDist.sIdKey = ( tmp & KEYDIST_SID ) ? TRUE : FALSE;
   \   00044C   E5..         MOV     A,?V2
   \   00044E   A2E1         MOV     C,0xE0 /* A   */.1
   \   000450   5004         JNC     ??processExMsgGAP_37
   \   000452   D2F0         SETB    B.0
   \   000454   8002         SJMP    ??processExMsgGAP_38
   \                     ??processExMsgGAP_37:
   \   000456   C2F0         CLR     B.0
   \                     ??processExMsgGAP_38:
   \   000458   A2F0         MOV     C,B.0
   \   00045A   E4           CLR     A
   \   00045B   33           RLC     A
   \   00045C   F8           MOV     R0,A
   1514                  params.secReqs.keyDist.sSign = ( tmp & KEYDIST_SSIGN ) ? TRUE : FALSE;
   \   00045D   E5..         MOV     A,?V2
   \   00045F   A2E2         MOV     C,0xE0 /* A   */.2
   \   000461   5004         JNC     ??processExMsgGAP_39
   \   000463   D2F0         SETB    B.0
   \   000465   8002         SJMP    ??processExMsgGAP_40
   \                     ??processExMsgGAP_39:
   \   000467   C2F0         CLR     B.0
   \                     ??processExMsgGAP_40:
   \   000469   A2F0         MOV     C,B.0
   \   00046B   E4           CLR     A
   \   00046C   33           RLC     A
   \   00046D   FC           MOV     R4,A
   1515                  params.secReqs.keyDist.mEncKey = ( tmp & KEYDIST_MENC ) ? TRUE : FALSE;
   \   00046E   E5..         MOV     A,?V2
   \   000470   A2E3         MOV     C,0xE0 /* A   */.3
   \   000472   5004         JNC     ??processExMsgGAP_41
   \   000474   D2F0         SETB    B.0
   \   000476   8002         SJMP    ??processExMsgGAP_42
   \                     ??processExMsgGAP_41:
   \   000478   C2F0         CLR     B.0
   \                     ??processExMsgGAP_42:
   \   00047A   A2F0         MOV     C,B.0
   \   00047C   E4           CLR     A
   \   00047D   33           RLC     A
   \   00047E   FA           MOV     R2,A
   1516                  params.secReqs.keyDist.mIdKey = ( tmp & KEYDIST_MID ) ? TRUE : FALSE;
   \   00047F   E5..         MOV     A,?V2
   \   000481   A2E4         MOV     C,0xE0 /* A   */.4
   \   000483   5004         JNC     ??processExMsgGAP_43
   \   000485   D2F0         SETB    B.0
   \   000487   8002         SJMP    ??processExMsgGAP_44
   \                     ??processExMsgGAP_43:
   \   000489   C2F0         CLR     B.0
   \                     ??processExMsgGAP_44:
   \   00048B   A2F0         MOV     C,B.0
   \   00048D   E4           CLR     A
   \   00048E   33           RLC     A
   \   00048F   F5..         MOV     ?V4,A
   \   000491   75..00       MOV     ?V5,#0x0
   1517                  params.secReqs.keyDist.mSign = ( tmp & KEYDIST_MSIGN ) ? TRUE : FALSE;
   \   000494   E5..         MOV     A,?V2
   \   000496   A2E5         MOV     C,0xE0 /* A   */.5
   \   000498   5004         JNC     ??processExMsgGAP_45
   \   00049A   D2F0         SETB    B.0
   \   00049C   8002         SJMP    ??processExMsgGAP_46
   \                     ??processExMsgGAP_45:
   \   00049E   C2F0         CLR     B.0
   1518                  params.secReqs.keyDist.reserved = 0;
   \                     ??processExMsgGAP_46:
   \   0004A0   742C         MOV     A,#0x2c
   \   0004A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0004A5   12....       LCALL   ?Subroutine68 & 0xFFFF
   \                     ??CrossCallReturnLabel_185:
   \   0004A8   45..         ORL     A,?V6
   \   0004AA   54FD         ANL     A,#0xfd
   \   0004AC   F5..         MOV     ?V2,A
   \   0004AE   E8           MOV     A,R0
   \   0004AF   28           ADD     A,R0
   \   0004B0   F8           MOV     R0,A
   \   0004B1   E5..         MOV     A,?V2
   \   0004B3   48           ORL     A,R0
   \   0004B4   A9..         MOV     R1,?V3
   \   0004B6   54FB         ANL     A,#0xfb
   \   0004B8   F5..         MOV     ?V6,A
   \   0004BA   8C..         MOV     ?V2,R4
   \   0004BC   75..00       MOV     ?V3,#0x0
   \   0004BF   7402         MOV     A,#0x2
   \   0004C1   78..         MOV     R0,#?V2
   \   0004C3   12....       LCALL   ?S_SHL
   \   0004C6   E5..         MOV     A,?V6
   \   0004C8   45..         ORL     A,?V2
   \   0004CA   54F7         ANL     A,#0xf7
   \   0004CC   FC           MOV     R4,A
   \   0004CD   8A..         MOV     ?V2,R2
   \   0004CF   7403         MOV     A,#0x3
   \   0004D1   78..         MOV     R0,#?V2
   \   0004D3   12....       LCALL   ?S_SHL
   \   0004D6   EC           MOV     A,R4
   \   0004D7   45..         ORL     A,?V2
   \   0004D9   54EF         ANL     A,#0xef
   \   0004DB   FA           MOV     R2,A
   \   0004DC   7404         MOV     A,#0x4
   \   0004DE   78..         MOV     R0,#?V4
   \   0004E0   12....       LCALL   ?S_SHL
   \   0004E3   EA           MOV     A,R2
   \   0004E4   45..         ORL     A,?V4
   \   0004E6   541F         ANL     A,#0x1f
   \   0004E8   FA           MOV     R2,A
   \   0004E9   A2F0         MOV     C,B.0
   \   0004EB   E4           CLR     A
   \   0004EC   33           RLC     A
   \   0004ED   F5..         MOV     ?V2,A
   \   0004EF   7405         MOV     A,#0x5
   \   0004F1   78..         MOV     R0,#?V2
   \   0004F3   12....       LCALL   ?S_SHL
   \   0004F6   EA           MOV     A,R2
   \   0004F7   45..         ORL     A,?V2
   \   0004F9   F8           MOV     R0,A
   \   0004FA   742C         MOV     A,#0x2c
   \   0004FC   12....       LCALL   ?XSTACK_DISP0_8
   \   0004FF   12....       LCALL   ?Subroutine32 & 0xFFFF
   1519          
   1520                  tmp = *pBuf++;
   \                     ??CrossCallReturnLabel_63:
   \   000502   8E82         MOV     DPL,R6
   \   000504   8F83         MOV     DPH,R7
   \   000506   E0           MOVX    A,@DPTR
   \   000507   A3           INC     DPTR
   \   000508   0E           INC     R6
   \   000509   AF83         MOV     R7,DPH
   1521                  if ( tmp )
   \   00050B   7003         JNZ     $+5
   \   00050D   02....       LJMP    ??processExMsgGAP_47 & 0xFFFF
   1522                  {
   1523                    pairReq.ioCap = *pBuf++;
   \   000510   E0           MOVX    A,@DPTR
   \   000511   C0E0         PUSH    A
   \   000513   740F         MOV     A,#0xf
   \   000515   12....       LCALL   ?XSTACK_DISP0_8
   \   000518   D0E0         POP     A
   \   00051A   12....       LCALL   ?Subroutine13 & 0xFFFF
   1524                    pairReq.oobDataFlag = *pBuf++;
   \                     ??CrossCallReturnLabel_15:
   \   00051D   C0E0         PUSH    A
   \   00051F   7410         MOV     A,#0x10
   \   000521   12....       LCALL   ?XSTACK_DISP0_8
   \   000524   D0E0         POP     A
   \   000526   12....       LCALL   ?Subroutine13 & 0xFFFF
   1525                    pairReq.authReq = *pBuf++;
   \                     ??CrossCallReturnLabel_16:
   \   000529   C0E0         PUSH    A
   \   00052B   7411         MOV     A,#0x11
   \   00052D   12....       LCALL   ?XSTACK_DISP0_8
   \   000530   D0E0         POP     A
   \   000532   12....       LCALL   ?Subroutine13 & 0xFFFF
   1526                    pairReq.maxEncKeySize = *pBuf++;
   \                     ??CrossCallReturnLabel_17:
   \   000535   C0E0         PUSH    A
   \   000537   7412         MOV     A,#0x12
   \   000539   12....       LCALL   ?XSTACK_DISP0_8
   \   00053C   D0E0         POP     A
   \   00053E   12....       LCALL   ?Subroutine38 & 0xFFFF
   1527                    tmp = *pBuf++;
   1528                    pairReq.keyDist.sEncKey = ( tmp & KEYDIST_SENC ) ? TRUE : FALSE;
   \                     ??CrossCallReturnLabel_79:
   \   000541   A2E0         MOV     C,0xE0 /* A   */.0
   \   000543   E4           CLR     A
   \   000544   33           RLC     A
   \   000545   F5..         MOV     ?V0,A
   1529                    pairReq.keyDist.sIdKey = ( tmp & KEYDIST_SID ) ? TRUE : FALSE;
   \   000547   E5..         MOV     A,?V2
   \   000549   A2E1         MOV     C,0xE0 /* A   */.1
   \   00054B   5004         JNC     ??processExMsgGAP_48
   \   00054D   D2F0         SETB    B.0
   \   00054F   8002         SJMP    ??processExMsgGAP_49
   \                     ??processExMsgGAP_48:
   \   000551   C2F0         CLR     B.0
   \                     ??processExMsgGAP_49:
   \   000553   A2F0         MOV     C,B.0
   \   000555   E4           CLR     A
   \   000556   33           RLC     A
   \   000557   F8           MOV     R0,A
   1530                    pairReq.keyDist.sSign = ( tmp & KEYDIST_SSIGN ) ? TRUE : FALSE;
   \   000558   E5..         MOV     A,?V2
   \   00055A   A2E2         MOV     C,0xE0 /* A   */.2
   \   00055C   5004         JNC     ??processExMsgGAP_50
   \   00055E   D2F0         SETB    B.0
   \   000560   8002         SJMP    ??processExMsgGAP_51
   \                     ??processExMsgGAP_50:
   \   000562   C2F0         CLR     B.0
   \                     ??processExMsgGAP_51:
   \   000564   A2F0         MOV     C,B.0
   \   000566   E4           CLR     A
   \   000567   33           RLC     A
   \   000568   FE           MOV     R6,A
   1531                    pairReq.keyDist.mEncKey = ( tmp & KEYDIST_MENC ) ? TRUE : FALSE;
   \   000569   E5..         MOV     A,?V2
   \   00056B   A2E3         MOV     C,0xE0 /* A   */.3
   \   00056D   5004         JNC     ??processExMsgGAP_52
   \   00056F   D2F0         SETB    B.0
   \   000571   8002         SJMP    ??processExMsgGAP_53
   \                     ??processExMsgGAP_52:
   \   000573   C2F0         CLR     B.0
   \                     ??processExMsgGAP_53:
   \   000575   A2F0         MOV     C,B.0
   \   000577   E4           CLR     A
   \   000578   33           RLC     A
   \   000579   FA           MOV     R2,A
   1532                    pairReq.keyDist.mIdKey = ( tmp & KEYDIST_MID ) ? TRUE : FALSE;
   \   00057A   E5..         MOV     A,?V2
   \   00057C   A2E4         MOV     C,0xE0 /* A   */.4
   \   00057E   5004         JNC     ??processExMsgGAP_54
   \   000580   D2F0         SETB    B.0
   \   000582   8002         SJMP    ??processExMsgGAP_55
   \                     ??processExMsgGAP_54:
   \   000584   C2F0         CLR     B.0
   \                     ??processExMsgGAP_55:
   \   000586   A2F0         MOV     C,B.0
   \   000588   E4           CLR     A
   \   000589   33           RLC     A
   \   00058A   FC           MOV     R4,A
   1533                    pairReq.keyDist.mSign = ( tmp & KEYDIST_MSIGN ) ? TRUE : FALSE;
   \   00058B   E5..         MOV     A,?V2
   \   00058D   A2E5         MOV     C,0xE0 /* A   */.5
   \   00058F   5004         JNC     ??processExMsgGAP_56
   \   000591   D2F0         SETB    B.0
   \   000593   8002         SJMP    ??processExMsgGAP_57
   \                     ??processExMsgGAP_56:
   \   000595   C2F0         CLR     B.0
   1534                    pairReq.keyDist.reserved = 0;
   \                     ??processExMsgGAP_57:
   \   000597   7413         MOV     A,#0x13
   \   000599   12....       LCALL   ?XSTACK_DISP0_8
   \   00059C   12....       LCALL   ?Subroutine68 & 0xFFFF
   \                     ??CrossCallReturnLabel_186:
   \   00059F   45..         ORL     A,?V0
   \   0005A1   F5..         MOV     ?V0,A
   \   0005A3   E5..         MOV     A,?V3
   \   0005A5   F5..         MOV     ?V1,A
   \   0005A7   E5..         MOV     A,?V0
   \   0005A9   54FD         ANL     A,#0xfd
   \   0005AB   F5..         MOV     ?V0,A
   \   0005AD   E8           MOV     A,R0
   \   0005AE   28           ADD     A,R0
   \   0005AF   F8           MOV     R0,A
   \   0005B0   E5..         MOV     A,?V0
   \   0005B2   48           ORL     A,R0
   \   0005B3   A9..         MOV     R1,?V1
   \   0005B5   54FB         ANL     A,#0xfb
   \   0005B7   F5..         MOV     ?V0,A
   \   0005B9   8E..         MOV     ?V2,R6
   \   0005BB   75..00       MOV     ?V3,#0x0
   \   0005BE   7402         MOV     A,#0x2
   \   0005C0   78..         MOV     R0,#?V2
   \   0005C2   12....       LCALL   ?S_SHL
   \   0005C5   E5..         MOV     A,?V0
   \   0005C7   45..         ORL     A,?V2
   \   0005C9   54F7         ANL     A,#0xf7
   \   0005CB   FE           MOV     R6,A
   \   0005CC   8A..         MOV     ?V0,R2
   \   0005CE   75..00       MOV     ?V1,#0x0
   \   0005D1   7403         MOV     A,#0x3
   \   0005D3   78..         MOV     R0,#?V0
   \   0005D5   12....       LCALL   ?S_SHL
   \   0005D8   EE           MOV     A,R6
   \   0005D9   45..         ORL     A,?V0
   \   0005DB   54EF         ANL     A,#0xef
   \   0005DD   FA           MOV     R2,A
   \   0005DE   8C..         MOV     ?V0,R4
   \   0005E0   7404         MOV     A,#0x4
   \   0005E2   78..         MOV     R0,#?V0
   \   0005E4   12....       LCALL   ?S_SHL
   \   0005E7   EA           MOV     A,R2
   \   0005E8   45..         ORL     A,?V0
   \   0005EA   541F         ANL     A,#0x1f
   \   0005EC   FA           MOV     R2,A
   \   0005ED   A2F0         MOV     C,B.0
   \   0005EF   E4           CLR     A
   \   0005F0   33           RLC     A
   \   0005F1   F5..         MOV     ?V0,A
   \   0005F3   7405         MOV     A,#0x5
   \   0005F5   78..         MOV     R0,#?V0
   \   0005F7   12....       LCALL   ?S_SHL
   \   0005FA   EA           MOV     A,R2
   \   0005FB   45..         ORL     A,?V0
   \   0005FD   F8           MOV     R0,A
   \   0005FE   7413         MOV     A,#0x13
   \   000600   12....       LCALL   ?XSTACK_DISP0_8
   \   000603   12....       LCALL   ?Subroutine32 & 0xFFFF
   1535                    pPairReq = &pairReq;
   \                     ??CrossCallReturnLabel_64:
   \   000606   740F         MOV     A,#0xf
   \   000608   12....       LCALL   ?XSTACK_DISP100_8
   \   00060B   88..         MOV     ?V0,R0
   \   00060D   89..         MOV     ?V1,R1
   1536                  }
   1537          
   1538                  stat = GAP_Authenticate( &params, pPairReq );
   \                     ??processExMsgGAP_47:
   \   00060F                ; Setup parameters for call to function GAP_Authenticate
   \   00060F   AC..         MOV     R4,?V0
   \   000611   AD..         MOV     R5,?V1
   \   000613   7417         MOV     A,#0x17
   \   000615   12....       LCALL   ?XSTACK_DISP101_8
   \   000618   12....       LCALL   ??GAP_Authenticate?relay; Banked call to: GAP_Authenticate
   \   00061B   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1539          
   1540          #if ( OSALMEM_METRICS )
   1541                  *pRspDataLen = 2;
   1542                  rspBuf[RSP_PAYLOAD_IDX] = LO_UINT16( memUsed );
   1543                  rspBuf[RSP_PAYLOAD_IDX+1] = HI_UINT16( memUsed );
   1544          #endif
   1545                }
   1546                break;
   1547          
   1548              case HCI_EXT_GAP_TERMINATE_AUTH:
   1549                stat = GAP_TerminateAuth( BUILD_UINT16( pBuf[0], pBuf[1] ), pBuf[2] );
   \                     ??processExMsgGAP_14:
   \   00061E                ; Setup parameters for call to function GAP_TerminateAuth
   \   00061E   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_142:
   \   000621   12....       LCALL   ??GAP_TerminateAuth?relay; Banked call to: GAP_TerminateAuth
   \   000624   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1550                break;
   1551          
   1552              case HCI_EXT_GAP_BOND:
   1553                {
   1554                  uint16 connectionHandle;
   1555                  smSecurityInfo_t securityInfo;
   1556                  uint8 authenticated;
   1557          
   1558                  // Do Security Information part
   1559                  connectionHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_13:
   \   000627   12....       LCALL   ?Subroutine57 & 0xFFFF
   1560                  pBuf += 2;
   \                     ??CrossCallReturnLabel_162:
   \   00062A   0E           INC     R6
   \   00062B   0E           INC     R6
   \   00062C   AF..         MOV     R7,?V3
   1561                  authenticated = *pBuf++;
   \   00062E   8E82         MOV     DPL,R6
   \   000630   8F83         MOV     DPH,R7
   \   000632   E0           MOVX    A,@DPTR
   \   000633   F5..         MOV     ?V2,A
   \   000635   A3           INC     DPTR
   \   000636   AE82         MOV     R6,DPL
   \   000638   AF83         MOV     R7,DPH
   1562                  VOID osal_memcpy( securityInfo.ltk, pBuf, KEYLEN );
   \   00063A                ; Setup parameters for call to function osal_memcpy
   \   00063A   75..10       MOV     ?V4,#0x10
   \   00063D   88..         MOV     ?V5,R0
   \   00063F   78..         MOV     R0,#?V4
   \   000641   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000644   EE           MOV     A,R6
   \   000645   FC           MOV     R4,A
   \   000646   EF           MOV     A,R7
   \   000647   FD           MOV     R5,A
   \   000648   7445         MOV     A,#0x45
   \   00064A   12....       LCALL   ?XSTACK_DISP101_8
   \   00064D   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000650   7402         MOV     A,#0x2
   \   000652   12....       LCALL   ?DEALLOC_XSTACK8
   1563                  pBuf += KEYLEN;
   \   000655   EE           MOV     A,R6
   \   000656   2410         ADD     A,#0x10
   \   000658   FE           MOV     R6,A
   \   000659   5001         JNC     ??processExMsgGAP_58
   \   00065B   0F           INC     R7
   1564                  securityInfo.div = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_58:
   \   00065C   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_140:
   \   00065F   7453         MOV     A,#0x53
   \   000661   12....       LCALL   ?XSTACK_DISP0_8
   \   000664   12....       LCALL   ?Subroutine18 & 0xFFFF
   1565                  pBuf += 2;
   \                     ??CrossCallReturnLabel_32:
   \   000667   5001         JNC     ??processExMsgGAP_59
   \   000669   0F           INC     R7
   1566                  VOID osal_memcpy( securityInfo.rand, pBuf, B_RANDOM_NUM_SIZE );
   \                     ??processExMsgGAP_59:
   \   00066A                ; Setup parameters for call to function osal_memcpy
   \   00066A   75..08       MOV     ?V4,#0x8
   \   00066D   78..         MOV     R0,#?V4
   \   00066F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000672   EE           MOV     A,R6
   \   000673   FC           MOV     R4,A
   \   000674   EF           MOV     A,R7
   \   000675   FD           MOV     R5,A
   \   000676   7457         MOV     A,#0x57
   \   000678   12....       LCALL   ?XSTACK_DISP0_8
   \   00067B   AA82         MOV     R2,DPL
   \   00067D   AB83         MOV     R3,DPH
   \   00067F   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000682   7402         MOV     A,#0x2
   \   000684   12....       LCALL   ?DEALLOC_XSTACK8
   1567                  pBuf += B_RANDOM_NUM_SIZE;
   1568                  securityInfo.keySize = *pBuf++;
   \   000687   8E82         MOV     DPL,R6
   \   000689   8F83         MOV     DPH,R7
   \   00068B   A3           INC     DPTR
   \   00068C   A3           INC     DPTR
   \   00068D   A3           INC     DPTR
   \   00068E   A3           INC     DPTR
   \   00068F   A3           INC     DPTR
   \   000690   A3           INC     DPTR
   \   000691   A3           INC     DPTR
   \   000692   A3           INC     DPTR
   \   000693   E0           MOVX    A,@DPTR
   \   000694   C0E0         PUSH    A
   \   000696   745D         MOV     A,#0x5d
   \   000698   12....       LCALL   ?XSTACK_DISP0_8
   \   00069B   D0E0         POP     A
   \   00069D   F0           MOVX    @DPTR,A
   1569          
   1570                  stat = GAP_Bond( connectionHandle, authenticated, &securityInfo, TRUE );
   \   00069E                ; Setup parameters for call to function GAP_Bond
   \   00069E   75..01       MOV     ?V3,#0x1
   \   0006A1   78..         MOV     R0,#?V3
   \   0006A3   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0006A6   7444         MOV     A,#0x44
   \   0006A8   12....       LCALL   ?XSTACK_DISP102_8
   \   0006AB   A9..         MOV     R1,?V2
   \   0006AD   AA..         MOV     R2,?V0
   \   0006AF   AB..         MOV     R3,?V1
   \   0006B1   12....       LCALL   ??GAP_Bond?relay     ; Banked call to: GAP_Bond
   \   0006B4   7401         MOV     A,#0x1
   \   0006B6   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006B9   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1571                }
   1572                break;
   1573          
   1574              case HCI_EXT_GAP_SIGNABLE:
   1575                {
   1576                  uint16 connectionHandle;
   1577                  uint8 authenticated;
   1578                  smSigningInfo_t signing;
   1579          
   1580                  connectionHandle = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_12:
   \   0006BC   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_141:
   \   0006BF   7415         MOV     A,#0x15
   \   0006C1   12....       LCALL   ?XSTACK_DISP0_8
   \   0006C4   12....       LCALL   ?Subroutine15 & 0xFFFF
   1581                  pBuf += 2;
   1582          
   1583                  authenticated = *pBuf++;
   \                     ??CrossCallReturnLabel_24:
   \   0006C7   85..82       MOV     DPL,?XSP + 0
   \   0006CA   85..83       MOV     DPH,?XSP + 1
   \   0006CD   12....       LCALL   ??Subroutine139_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_289:
   \   0006D0   AE82         MOV     R6,DPL
   \   0006D2   AF83         MOV     R7,DPH
   1584          
   1585                  VOID osal_memcpy( signing.srk, pBuf, KEYLEN );
   \   0006D4                ; Setup parameters for call to function osal_memcpy
   \   0006D4   75..10       MOV     ?V0,#0x10
   \   0006D7   75..00       MOV     ?V1,#0x0
   \   0006DA   78..         MOV     R0,#?V0
   \   0006DC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0006DF   EE           MOV     A,R6
   \   0006E0   FC           MOV     R4,A
   \   0006E1   EF           MOV     A,R7
   \   0006E2   FD           MOV     R5,A
   \   0006E3   7431         MOV     A,#0x31
   \   0006E5   12....       LCALL   ?XSTACK_DISP101_8
   \   0006E8   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0006EB   7402         MOV     A,#0x2
   \   0006ED   12....       LCALL   ?DEALLOC_XSTACK8
   1586                  pBuf += KEYLEN;
   \   0006F0   EE           MOV     A,R6
   \   0006F1   2410         ADD     A,#0x10
   \   0006F3   FE           MOV     R6,A
   \   0006F4   5001         JNC     ??processExMsgGAP_60
   \   0006F6   0F           INC     R7
   1587          
   1588                  signing.signCounter = BUILD_UINT32( pBuf[0], pBuf[1], pBuf[2], pBuf[3] );
   \                     ??processExMsgGAP_60:
   \   0006F7   8E82         MOV     DPL,R6
   \   0006F9   8F83         MOV     DPH,R7
   \   0006FB   E0           MOVX    A,@DPTR
   \   0006FC   F5..         MOV     ?V0,A
   \   0006FE   E4           CLR     A
   \   0006FF   F5..         MOV     ?V2,A
   \   000701   F5..         MOV     ?V3,A
   \   000703   A3           INC     DPTR
   \   000704   12....       LCALL   ?Subroutine60 & 0xFFFF
   \                     ??CrossCallReturnLabel_168:
   \   000707   12....       LCALL   ?L_SHL
   \   00070A   78..         MOV     R0,#?V0
   \   00070C   79..         MOV     R1,#?V4
   \   00070E   12....       LCALL   ?L_ADD
   \   000711   8E82         MOV     DPL,R6
   \   000713   8F83         MOV     DPH,R7
   \   000715   A3           INC     DPTR
   \   000716   A3           INC     DPTR
   \   000717   12....       LCALL   ?Subroutine74 & 0xFFFF
   \                     ??CrossCallReturnLabel_196:
   \   00071A   12....       LCALL   ?L_SHL
   \   00071D   78..         MOV     R0,#?V0
   \   00071F   79..         MOV     R1,#?V4
   \   000721   12....       LCALL   ?L_ADD
   \   000724   8E82         MOV     DPL,R6
   \   000726   8F83         MOV     DPH,R7
   \   000728   A3           INC     DPTR
   \   000729   A3           INC     DPTR
   \   00072A   A3           INC     DPTR
   \   00072B   12....       LCALL   ?Subroutine75 & 0xFFFF
   \                     ??CrossCallReturnLabel_198:
   \   00072E   12....       LCALL   ?L_SHL
   \   000731   78..         MOV     R0,#?V0
   \   000733   79..         MOV     R1,#?V4
   \   000735   12....       LCALL   ?L_ADD
   \   000738   743F         MOV     A,#0x3f
   \   00073A   12....       LCALL   ?XSTACK_DISP0_8
   \   00073D   78..         MOV     R0,#?V0
   \   00073F   12....       LCALL   ?L_MOV_TO_X
   1589          
   1590                  stat = GAP_Signable( connectionHandle, authenticated, &signing );
   \   000742                ; Setup parameters for call to function GAP_Signable
   \   000742   742F         MOV     A,#0x2f
   \   000744   12....       LCALL   ?XSTACK_DISP102_8
   \   000747   85..82       MOV     DPL,?XSP + 0
   \   00074A   85..83       MOV     DPH,?XSP + 1
   \   00074D   E0           MOVX    A,@DPTR
   \   00074E   F9           MOV     R1,A
   \   00074F   7415         MOV     A,#0x15
   \   000751   12....       LCALL   ?XSTACK_DISP0_8
   \   000754   12....       LCALL   ?Subroutine54 & 0xFFFF
   1591                }
   \                     ??CrossCallReturnLabel_153:
   \   000757   12....       LCALL   ??GAP_Signable?relay ; Banked call to: GAP_Signable
   \   00075A   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1592                break;
   1593          
   1594              case HCI_EXT_GAP_PASSKEY_UPDATE:
   1595                stat = GAP_PasskeyUpdate( &pBuf[2], BUILD_UINT16( pBuf[0], pBuf[1] ) );
   \                     ??processExMsgGAP_10:
   \   00075D                ; Setup parameters for call to function GAP_PasskeyUpdate
   \   00075D   12....       LCALL   ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_165:
   \   000760   FC           MOV     R4,A
   \   000761   E4           CLR     A
   \   000762   39           ADDC    A,R1
   \   000763   FD           MOV     R5,A
   \   000764   AA..         MOV     R2,?V2
   \   000766   AB..         MOV     R3,?V3
   \   000768   12....       LCALL   ??GAP_PasskeyUpdate?relay; Banked call to: GAP_PasskeyUpdate
   \   00076B   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1596                break;
   1597          
   1598              case HCI_EXT_GAP_SET_PARAM:
   1599                {
   1600                  uint16 id = (uint16)pBuf[0];
   \                     ??processExMsgGAP_16:
   \   00076E   8E82         MOV     DPL,R6
   \   000770   8F83         MOV     DPH,R7
   \   000772   E0           MOVX    A,@DPTR
   \   000773   FA           MOV     R2,A
   \   000774   7B00         MOV     R3,#0x0
   1601                  uint16 value = BUILD_UINT16( pBuf[1], pBuf[2] );
   \   000776   12....       LCALL   ?Subroutine79 & 0xFFFF
   \                     ??CrossCallReturnLabel_207:
   \   000779   E0           MOVX    A,@DPTR
   \   00077A   F9           MOV     R1,A
   \   00077B   EC           MOV     A,R4
   \   00077C   2B           ADD     A,R3
   \   00077D   E4           CLR     A
   \   00077E   39           ADDC    A,R1
   \   00077F   FD           MOV     R5,A
   1602          
   1603                  if ( ( id != TGAP_AUTH_TASK_ID ) && ( id < TGAP_PARAMID_MAX ) )
   \   000780   EA           MOV     A,R2
   \   000781   6426         XRL     A,#0x26
   \   000783   7003         JNZ     $+5
   \   000785   02....       LJMP    ??processExMsgGAP_61 & 0xFFFF
   \   000788   EA           MOV     A,R2
   \   000789   9427         SUBB    A,#0x27
   \   00078B   4003         JC      $+5
   \   00078D   02....       LJMP    ??processExMsgGAP_61 & 0xFFFF
   1604                  {
   1605                    stat = GAP_SetParamValue( id, value );
   \   000790                ; Setup parameters for call to function GAP_SetParamValue
   \   000790   12....       LCALL   ??GAP_SetParamValue?relay; Banked call to: GAP_SetParamValue
   \   000793   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1606                  }
   1607          #if !defined ( GATT_DB_OFF_CHIP ) && defined ( TESTMODES )
   1608                  else if ( id == TGAP_GATT_TESTCODE )
   1609                  {
   1610                    GATTServApp_SetParamValue( value );
   1611                  }
   1612                  else if ( id == TGAP_ATT_TESTCODE )
   1613                  {
   1614                    ATT_SetParamValue( value );
   1615                  }
   1616                  else if ( id == TGAP_GGS_TESTCODE )
   1617                  {
   1618                    GGS_SetParamValue( value );
   1619                  }
   1620          #endif // !GATT_DB_OFF_CHIP && TESTMODES
   1621                  else
   1622                  {
   1623                    stat = INVALIDPARAMETER;
   1624                  }
   1625                }
   1626                break;
   1627          
   1628              case HCI_EXT_GAP_GET_PARAM:
   1629                {
   1630                  uint16 paramValue = 0xFFFF;
   \                     ??processExMsgGAP_17:
   \   000796   78FF         MOV     R0,#-0x1
   \   000798   79FF         MOV     R1,#-0x1
   1631                  uint16 param = (uint16)pBuf[0];
   \   00079A   8E82         MOV     DPL,R6
   \   00079C   8F83         MOV     DPH,R7
   \   00079E   E0           MOVX    A,@DPTR
   \   00079F   FA           MOV     R2,A
   \   0007A0   7B00         MOV     R3,#0x0
   1632          
   1633                  if ( param < 0x00FF )
   \   0007A2   F4           CPL     A
   \   0007A3   6020         JZ      ??processExMsgGAP_62
   1634                  {
   1635                    if ( ( param != TGAP_AUTH_TASK_ID ) && ( param < TGAP_PARAMID_MAX ) )
   \   0007A5   EA           MOV     A,R2
   \   0007A6   6426         XRL     A,#0x26
   \   0007A8   601B         JZ      ??processExMsgGAP_62
   \   0007AA   EA           MOV     A,R2
   \   0007AB   C3           CLR     C
   \   0007AC   9427         SUBB    A,#0x27
   \   0007AE   5015         JNC     ??processExMsgGAP_62
   1636                    {
   1637                      paramValue = GAP_GetParamValue( param );
   \   0007B0                ; Setup parameters for call to function GAP_GetParamValue
   \   0007B0   12....       LCALL   ??GAP_GetParamValue?relay; Banked call to: GAP_GetParamValue
   \   0007B3   8A..         MOV     ?V2,R2
   \   0007B5   8B..         MOV     ?V3,R3
   \   0007B7   A8..         MOV     R0,?V2
   \   0007B9   A9..         MOV     R1,?V3
   1638                    }
   1639          #if !defined ( GATT_DB_OFF_CHIP ) && defined ( TESTMODES )
   1640                    else if ( param == TGAP_GATT_TESTCODE )
   1641                    {
   1642                      paramValue = GATTServApp_GetParamValue();
   1643                    }
   1644                    else if ( param == TGAP_ATT_TESTCODE )
   1645                    {
   1646                      paramValue = ATT_GetParamValue();
   1647                    }
   1648                    else if ( param == TGAP_GGS_TESTCODE )
   1649                    {
   1650                      paramValue = GGS_GetParamValue();
   1651                    }
   1652          #endif // !GATT_DB_OFF_CHIP && TESTMODES
   1653                  }
   1654          #if ( OSALMEM_METRICS )
   1655                  else
   1656                  {
   1657                    paramValue = osal_heap_mem_used();
   1658                  }
   1659          #endif
   1660                  if ( paramValue != 0xFFFF )
   \   0007BB   74FF         MOV     A,#-0x1
   \   0007BD   68           XRL     A,R0
   \   0007BE   7003         JNZ     ??processExMsgGAP_63
   \   0007C0   74FF         MOV     A,#-0x1
   \   0007C2   69           XRL     A,R1
   \                     ??processExMsgGAP_63:
   \   0007C3   7003         JNZ     ??processExMsgGAP_64
   1661                  {
   1662                    stat = SUCCESS;
   1663                  }
   1664                  else
   1665                  {
   1666                    stat = INVALIDPARAMETER;
   \                     ??processExMsgGAP_62:
   \   0007C5   75..02       MOV     ?V0,#0x2
   1667                  }
   1668                  *pRspDataLen = 2;
   \                     ??processExMsgGAP_64:
   \   0007C8   85..82       MOV     DPL,?V4
   \   0007CB   85..83       MOV     DPH,?V5
   \   0007CE   7402         MOV     A,#0x2
   \   0007D0   F0           MOVX    @DPTR,A
   1669                  rspBuf[RSP_PAYLOAD_IDX] = LO_UINT16( paramValue );
   \   0007D1   E8           MOV     A,R0
   \   0007D2   90....       MOV     DPTR,#rspBuf + 6
   \   0007D5   F0           MOVX    @DPTR,A
   1670                  rspBuf[RSP_PAYLOAD_IDX+1] = HI_UINT16( paramValue );
   \   0007D6   E9           MOV     A,R1
   \   0007D7   A3           INC     DPTR
   \   0007D8   02....       LJMP    ??processExMsgGAP_65 & 0xFFFF
   1671                }
   1672                break;
   1673          
   1674              case HCI_EXT_GAP_RESOLVE_PRIVATE_ADDR:
   1675                {
   1676                  stat = GAP_ResolvePrivateAddr( &pBuf[0], &pBuf[KEYLEN] );
   \                     ??processExMsgGAP_18:
   \   0007DB                ; Setup parameters for call to function GAP_ResolvePrivateAddr
   \   0007DB   EE           MOV     A,R6
   \   0007DC   2410         ADD     A,#0x10
   \   0007DE   FC           MOV     R4,A
   \   0007DF   E4           CLR     A
   \   0007E0   3F           ADDC    A,R7
   \   0007E1   FD           MOV     R5,A
   \   0007E2   EE           MOV     A,R6
   \   0007E3   FA           MOV     R2,A
   \   0007E4   EF           MOV     A,R7
   \   0007E5   FB           MOV     R3,A
   \   0007E6   12....       LCALL   ??GAP_ResolvePrivateAddr?relay; Banked call to: GAP_ResolvePrivateAddr
   \   0007E9   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1677                }
   1678                break;
   1679          
   1680          #if ( HOST_CONFIG & PERIPHERAL_CFG )
   1681              case HCI_EXT_GAP_SLAVE_SECURITY_REQ_UPDATE:
   1682                stat = GAP_SendSlaveSecurityRequest( BUILD_UINT16( pBuf[0], pBuf[1] ), pBuf[2] );
   \                     ??processExMsgGAP_11:
   \   0007EC                ; Setup parameters for call to function GAP_SendSlaveSecurityRequest
   \   0007EC   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_143:
   \   0007EF   12....       LCALL   ??GAP_SendSlaveSecurityRequest?relay; Banked call to: GAP_SendSlaveSecurityRequest
   \   0007F2   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1683                break;
   1684          #endif // PERIPHERAL_CFG
   1685          
   1686          #if ( HOST_CONFIG & ( PERIPHERAL_CFG | BROADCASTER_CFG ) )
   1687              case HCI_EXT_GAP_SET_ADV_TOKEN:
   1688                {
   1689                  gapAdvDataToken_t *pToken;
   1690                  uint8 attrLen = pBuf[1];
   \                     ??processExMsgGAP_19:
   \   0007F5   8E82         MOV     DPL,R6
   \   0007F7   8F83         MOV     DPH,R7
   \   0007F9   A3           INC     DPTR
   \   0007FA   12....       LCALL   ?Subroutine81 & 0xFFFF
   1691          
   1692                  pToken = (gapAdvDataToken_t *)osal_mem_alloc( sizeof ( gapAdvDataToken_t ) + attrLen );
   \                     ??CrossCallReturnLabel_211:
   \   0007FD   F5..         MOV     ?V0,A
   \   0007FF   75..00       MOV     ?V1,#0x0
   \   000802                ; Setup parameters for call to function osal_mem_alloc
   \   000802   2404         ADD     A,#0x4
   \   000804   FA           MOV     R2,A
   \   000805   E4           CLR     A
   \   000806   3400         ADDC    A,#0x0
   \   000808   FB           MOV     R3,A
   \   000809   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   00080C   8A..         MOV     ?V6,R2
   \   00080E   8B..         MOV     ?V7,R3
   1693                  if ( pToken )
   \   000810   EA           MOV     A,R2
   \   000811   45..         ORL     A,?V7
   \   000813   6058         JZ      ??processExMsgGAP_66
   1694                  {
   1695                    pToken->adType = pBuf[0];
   \   000815   8E82         MOV     DPL,R6
   \   000817   8F83         MOV     DPH,R7
   \   000819   E0           MOVX    A,@DPTR
   \   00081A   8A82         MOV     DPL,R2
   \   00081C   8B83         MOV     DPH,R3
   \   00081E   12....       LCALL   ?Subroutine42 & 0xFFFF
   1696                    pToken->attrLen =attrLen;
   \                     ??CrossCallReturnLabel_90:
   \   000821   8A82         MOV     DPL,R2
   \   000823   8B83         MOV     DPH,R3
   \   000825   A3           INC     DPTR
   \   000826   F0           MOVX    @DPTR,A
   1697                    pToken->pAttrData = (uint8 *)(pToken+1);
   \   000827   EA           MOV     A,R2
   \   000828   2402         ADD     A,#0x2
   \   00082A   E4           CLR     A
   \   00082B   35..         ADDC    A,?V7
   \   00082D   0A           INC     R2
   \   00082E   0A           INC     R2
   \   00082F   FB           MOV     R3,A
   \   000830   E5..         MOV     A,?V6
   \   000832   2404         ADD     A,#0x4
   \   000834   F8           MOV     R0,A
   \   000835   E4           CLR     A
   \   000836   35..         ADDC    A,?V7
   \   000838   F9           MOV     R1,A
   \   000839   8A82         MOV     DPL,R2
   \   00083B   8B83         MOV     DPH,R3
   \   00083D   12....       LCALL   ?Subroutine32 & 0xFFFF
   1698          
   1699                    VOID osal_memcpy( pToken->pAttrData, &pBuf[2], attrLen );
   \                     ??CrossCallReturnLabel_65:
   \   000840                ; Setup parameters for call to function osal_memcpy
   \   000840   78..         MOV     R0,#?V0
   \   000842   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000845   AC..         MOV     R4,?V2
   \   000847   AD..         MOV     R5,?V3
   \   000849   8A82         MOV     DPL,R2
   \   00084B   8B83         MOV     DPH,R3
   \   00084D   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_154:
   \   000850   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000853   7402         MOV     A,#0x2
   \   000855   12....       LCALL   ?DEALLOC_XSTACK8
   1700                    stat = GAP_SetAdvToken( pToken );
   \   000858                ; Setup parameters for call to function GAP_SetAdvToken
   \   000858   AA..         MOV     R2,?V6
   \   00085A   AB..         MOV     R3,?V7
   \   00085C   12....       LCALL   ??GAP_SetAdvToken?relay; Banked call to: GAP_SetAdvToken
   \   00085F   E9           MOV     A,R1
   \   000860   F5..         MOV     ?V0,A
   1701                    if ( stat != SUCCESS )
   \   000862   7003         JNZ     $+5
   \   000864   02....       LJMP    ??processExMsgGAP_29 & 0xFFFF
   1702                    {
   1703                      osal_mem_free( pToken );
   \   000867                ; Setup parameters for call to function osal_mem_free
   \   000867   AA..         MOV     R2,?V6
   \   000869   AB..         MOV     R3,?V7
   \   00086B   8013         SJMP    ??processExMsgGAP_67
   1704                    }
   1705                  }
   1706                  else
   1707                  {
   1708                    stat = bleMemAllocError;
   \                     ??processExMsgGAP_66:
   \   00086D   75..13       MOV     ?V0,#0x13
   \   000870   02....       LJMP    ??processExMsgGAP_29 & 0xFFFF
   1709                  }
   1710                }
   1711                break;
   1712          
   1713              case HCI_EXT_GAP_REMOVE_ADV_TOKEN:
   1714                {
   1715                  gapAdvDataToken_t *pToken = GAP_RemoveAdvToken( pBuf[0] );
   \                     ??processExMsgGAP_20:
   \   000873                ; Setup parameters for call to function GAP_RemoveAdvToken
   \   000873   8E82         MOV     DPL,R6
   \   000875   8F83         MOV     DPH,R7
   \   000877   E0           MOVX    A,@DPTR
   \   000878   F9           MOV     R1,A
   \   000879   12....       LCALL   ??GAP_RemoveAdvToken?relay; Banked call to: GAP_RemoveAdvToken
   1716                  if ( pToken )
   \   00087C   EA           MOV     A,R2
   \   00087D   4B           ORL     A,R3
   \   00087E   6006         JZ      ??processExMsgGAP_61
   1717                  {
   1718                    osal_mem_free( pToken );
   \   000880                ; Setup parameters for call to function osal_mem_free
   \                     ??processExMsgGAP_67:
   \   000880   12....       LCALL   ??osal_mem_free?relay; Banked call to: osal_mem_free
   1719                    stat = SUCCESS;
   \   000883   02....       LJMP    ??processExMsgGAP_29 & 0xFFFF
   1720                  }
   1721                  else
   1722                  {
   1723                    stat = INVALIDPARAMETER;
   \                     ??processExMsgGAP_61:
   \   000886   75..02       MOV     ?V0,#0x2
   \   000889   02....       LJMP    ??processExMsgGAP_29 & 0xFFFF
   1724                  }
   1725                }
   1726                break;
   1727          
   1728              case HCI_EXT_GAP_UPDATE_ADV_TOKENS:
   1729                {
   1730                  stat = GAP_UpdateAdvTokens();
   \                     ??processExMsgGAP_21:
   \   00088C                ; Setup parameters for call to function GAP_UpdateAdvTokens
   \   00088C   12....       LCALL   ??GAP_UpdateAdvTokens?relay; Banked call to: GAP_UpdateAdvTokens
   \   00088F   02....       LJMP    ??processExMsgGAP_31 & 0xFFFF
   1731                }
   1732                break;
   1733          #endif // PERIPHERAL_CFG | BROADCASTER_CFG
   1734          
   1735              case HCI_EXT_GAP_BOND_SET_PARAM:
   1736                {
   1737          #if defined ( GAP_BOND_MGR )
   1738                  uint16 id = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_22:
   \   000892   12....       LCALL   ?Subroutine57 & 0xFFFF
   1739                  uint8 *pValue;
   1740                  uint32 passcode;
   1741          
   1742                  switch ( id )
   \                     ??CrossCallReturnLabel_163:
   \   000895   EE           MOV     A,R6
   \   000896   2403         ADD     A,#0x3
   \   000898   FA           MOV     R2,A
   \   000899   E4           CLR     A
   \   00089A   3F           ADDC    A,R7
   \   00089B   FB           MOV     R3,A
   \   00089C   7408         MOV     A,#0x8
   \   00089E   65..         XRL     A,?V0
   \   0008A0   7004         JNZ     ??processExMsgGAP_68
   \   0008A2   7404         MOV     A,#0x4
   \   0008A4   65..         XRL     A,?V1
   \                     ??processExMsgGAP_68:
   \   0008A6   7028         JNZ     ??processExMsgGAP_69
   1743                  {
   1744                    case GAPBOND_DEFAULT_PASSCODE:
   1745                      // First build passcode
   1746                      passcode = osal_build_uint32( &pBuf[3], pBuf[2] );
   \   0008A8                ; Setup parameters for call to function osal_build_uint32
   \   0008A8   85..82       MOV     DPL,?V2
   \   0008AB   85..83       MOV     DPH,?V3
   \   0008AE   E0           MOVX    A,@DPTR
   \   0008AF   F9           MOV     R1,A
   \   0008B0   12....       LCALL   ??osal_build_uint32?relay; Banked call to: osal_build_uint32
   \   0008B3   EA           MOV     A,R2
   \   0008B4   F8           MOV     R0,A
   \   0008B5   EB           MOV     A,R3
   \   0008B6   F9           MOV     R1,A
   \   0008B7   EC           MOV     A,R4
   \   0008B8   FA           MOV     R2,A
   \   0008B9   ED           MOV     A,R5
   \   0008BA   FB           MOV     R3,A
   \   0008BB   7401         MOV     A,#0x1
   \   0008BD   12....       LCALL   ?XSTACK_DISP0_8
   \   0008C0   12....       LCALL   ?XSTORE_R0123
   1747                      pValue = (uint8 *)&passcode;
   \   0008C3   7401         MOV     A,#0x1
   \   0008C5   12....       LCALL   ?XSTACK_DISP100_8
   \   0008C8   88..         MOV     ?V4,R0
   \   0008CA   89..         MOV     ?V5,R1
   \   0008CC   AA..         MOV     R2,?V4
   \   0008CE   AB..         MOV     R3,?V5
   1748                      break;
   1749          
   1750                    default:
   1751                      pValue = &pBuf[3];
   1752                      break;
   1753                  }
   1754          
   1755                  if ( stat == SUCCESS )
   1756                  {
   1757                    stat = GAPBondMgr_SetParameter( id, pBuf[2],  pValue );
   \                     ??processExMsgGAP_69:
   \   0008D0                ; Setup parameters for call to function GAPBondMgr_SetParameter
   \   0008D0   EA           MOV     A,R2
   \   0008D1   FC           MOV     R4,A
   \   0008D2   EB           MOV     A,R3
   \   0008D3   FD           MOV     R5,A
   \   0008D4   85..82       MOV     DPL,?V2
   \   0008D7   85..83       MOV     DPH,?V3
   \   0008DA   E0           MOVX    A,@DPTR
   \   0008DB   F9           MOV     R1,A
   \   0008DC   AA..         MOV     R2,?V0
   \   0008DE   AB..         MOV     R3,?V1
   \   0008E0   12....       LCALL   ??GAPBondMgr_SetParameter?relay; Banked call to: GAPBondMgr_SetParameter
   \   0008E3   8048         SJMP    ??processExMsgGAP_31
   1758                  }
   1759          #else
   1760                  stat = INVALIDPARAMETER;
   1761          #endif
   1762                }
   1763                break;
   1764          
   1765              case HCI_EXT_GAP_BOND_GET_PARAM:
   1766                {
   1767                  uint8 len = 0;
   1768          #if defined ( GAP_BOND_MGR )
   1769                  uint16 id = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??processExMsgGAP_23:
   \   0008E5   12....       LCALL   ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_166:
   \   0008E8   F5..         MOV     ?V2,A
   \   0008EA   E4           CLR     A
   \   0008EB   39           ADDC    A,R1
   \   0008EC   F5..         MOV     ?V3,A
   1770          
   1771                  stat = GAPBondMgr_GetParameter( id, &rspBuf[RSP_PAYLOAD_IDX] );
   \   0008EE                ; Setup parameters for call to function GAPBondMgr_GetParameter
   \   0008EE   7C..         MOV     R4,#(rspBuf + 6) & 0xff
   \   0008F0   7D..         MOV     R5,#((rspBuf + 6) >> 8) & 0xff
   \   0008F2   FB           MOV     R3,A
   \   0008F3   12....       LCALL   ??GAPBondMgr_GetParameter?relay; Banked call to: GAPBondMgr_GetParameter
   \   0008F6   E9           MOV     A,R1
   \   0008F7   F5..         MOV     ?V0,A
   1772          
   1773                  switch ( id )
   \   0008F9   78..         MOV     R0,#?V2
   \   0008FB   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for processExMsgGAP>_0`:
   \   0008FE   0000         DW        0
   \   000900   0300         DW        3
   \   000902   0104         DW        1025
   \   000904   ....         DW        ??processExMsgGAP_70
   \   000906   0504         DW        1029
   \   000908   ....         DW        ??processExMsgGAP_71
   \   00090A   0804         DW        1032
   \   00090C   ....         DW        ??processExMsgGAP_72
   \   00090E   ....         DW        ??processExMsgGAP_73
   1774                  {
   1775                    case GAPBOND_INITIATE_WAIT:
   1776                      len = 2;
   \                     ??processExMsgGAP_70:
   \   000910   7402         MOV     A,#0x2
   1777                      break;
   \   000912   800A         SJMP    ??processExMsgGAP_74
   1778          
   1779                    case GAPBOND_OOB_DATA:
   1780                      len = KEYLEN;
   \                     ??processExMsgGAP_71:
   \   000914   7410         MOV     A,#0x10
   1781                      break;
   \   000916   8006         SJMP    ??processExMsgGAP_74
   1782          
   1783                    case GAPBOND_DEFAULT_PASSCODE:
   1784                      len = 4;
   \                     ??processExMsgGAP_72:
   \   000918   7404         MOV     A,#0x4
   1785                      break;
   \   00091A   8002         SJMP    ??processExMsgGAP_74
   1786          
   1787                    default:
   1788                      len = 1;
   \                     ??processExMsgGAP_73:
   \   00091C   7401         MOV     A,#0x1
   1789                      break;
   1790                  }
   1791          #else
   1792                  stat = INVALIDPARAMETER;
   1793          #endif
   1794                  *pRspDataLen = len;
   \                     ??processExMsgGAP_74:
   \   00091E   85..82       MOV     DPL,?V4
   \   000921   85..83       MOV     DPH,?V5
   \                     ??processExMsgGAP_65:
   \   000924   F0           MOVX    @DPTR,A
   1795                }
   1796                break;
   \   000925   800E         SJMP    ??processExMsgGAP_29
   1797          
   1798              case HCI_EXT_GAP_BOND_SERVICE_CHANGE:
   1799                {
   1800          #if defined ( GAP_BOND_MGR )
   1801                  stat = GAPBondMgr_ServiceChangeInd( BUILD_UINT16( pBuf[0], pBuf[1] ), pBuf[2] );
   \                     ??processExMsgGAP_24:
   \   000927                ; Setup parameters for call to function GAPBondMgr_ServiceChangeInd
   \   000927   12....       LCALL   ?Subroutine51 & 0xFFFF
   1802          #else
   1803                  stat = INVALIDPARAMETER;
   1804          #endif
   1805                }
   \                     ??CrossCallReturnLabel_144:
   \   00092A   12....       LCALL   ??GAPBondMgr_ServiceChangeInd?relay; Banked call to: GAPBondMgr_ServiceChangeInd
   \                     ??processExMsgGAP_31:
   \   00092D   E9           MOV     A,R1
   \   00092E   F5..         MOV     ?V0,A
   1806                break;
   \   000930   8003         SJMP    ??processExMsgGAP_29
   1807          
   1808              default:
   1809                stat = FAILURE;
   \                     ??processExMsgGAP_25:
   \   000932   75..01       MOV     ?V0,#0x1
   1810                break;
   1811            }
   1812          
   1813            return ( stat );
   \                     ??processExMsgGAP_29:
   \   000935   A9..         MOV     R1,?V0
   \   000937   745E         MOV     A,#0x5e
   \   000939   02....       LJMP    ??Subroutine145_0 & 0xFFFF
   1814          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine81:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   F0           MOVX    @DPTR,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine75:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V4,A
   \   000003   E4           CLR     A
   \   000004   F5..         MOV     ?V6,A
   \   000006   7418         MOV     A,#0x18
   \   000008   78..         MOV     R0,#?V4
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine74:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V4,A
   \   000003   E4           CLR     A
   \   000004   F5..         MOV     ?V5,A
   \   000006   7410         MOV     A,#0x10
   \   000008   78..         MOV     R0,#?V4
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine68:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   54FE         ANL     A,#0xfe
   \   000003   F5..         MOV     ?V2,A
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F5..         MOV     ?V3,A
   \   000009   E5..         MOV     A,?V2
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine60:
   \   000000   12....       LCALL   ?Subroutine114 & 0xFFFF
   \                     ??CrossCallReturnLabel_263:
   \   000003   7408         MOV     A,#0x8
   \   000005   78..         MOV     R0,#?V4
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine58:
   \   000000   12....       LCALL   ?Subroutine109 & 0xFFFF
   \                     ??CrossCallReturnLabel_340:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine109:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004   E0           MOVX    A,@DPTR
   \   000005   FA           MOV     R2,A
   \   000006   A3           INC     DPTR
   \   000007                REQUIRE ??Subroutine147_0
   \   000007                ; // Fall through to label ??Subroutine147_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine57:
   \   000000   12....       LCALL   ?Subroutine109 & 0xFFFF
   \                     ??CrossCallReturnLabel_339:
   \   000003   F5..         MOV     ?V0,A
   \   000005   E4           CLR     A
   \   000006   39           ADDC    A,R1
   \   000007   F5..         MOV     ?V1,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine51:
   \   000000   85..82       MOV     DPL,?V2
   \   000003   85..83       MOV     DPH,?V3
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F9           MOV     R1,A
   \   000008   8E82         MOV     DPL,R6
   \   00000A   8F83         MOV     DPH,R7
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   FC           MOV     R4,A
   \   00000E   A3           INC     DPTR
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   FB           MOV     R3,A
   \   000011   EC           MOV     A,R4
   \   000012   FA           MOV     R2,A
   \   000013   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine50:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004   E0           MOVX    A,@DPTR
   \   000005   FA           MOV     R2,A
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F9           MOV     R1,A
   \   000009   EA           MOV     A,R2
   \   00000A   F8           MOV     R0,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   12....       LCALL   ?Subroutine103 & 0xFFFF
   \                     ??CrossCallReturnLabel_292:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F5..         MOV     ?V2,A
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   12....       LCALL   ?Subroutine102 & 0xFFFF
   \                     ??CrossCallReturnLabel_244:
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003   75..06       MOV     ?V0,#0x6
   \   000006   75..00       MOV     ?V1,#0x0
   \   000009   78..         MOV     R0,#?V0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   EE           MOV     A,R6
   \   000006   2402         ADD     A,#0x2
   \   000008   FE           MOV     R6,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   0E           INC     R6
   \   000006   0E           INC     R6
   \   000007   AF..         MOV     R7,?V3
   \   000009   8E82         MOV     DPL,R6
   \   00000B   8F83         MOV     DPH,R7
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   12....       LCALL   ?Subroutine103 & 0xFFFF
   \                     ??CrossCallReturnLabel_291:
   \   000003   AE82         MOV     R6,DPL
   \   000005   AF83         MOV     R7,DPH
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   12....       LCALL   ?Subroutine102 & 0xFFFF
   \                     ??CrossCallReturnLabel_243:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine102:
   \   000000   12....       LCALL   ?Subroutine125 & 0xFFFF
   \                     ??CrossCallReturnLabel_296:
   \   000003   A3           INC     DPTR
   \   000004   0E           INC     R6
   \   000005   AF83         MOV     R7,DPH
   \   000007   22           RET
   1815          
   1816          /*********************************************************************
   1817           * @fn      processEvents
   1818           *
   1819           * @brief   Process an incoming Event messages.
   1820           *
   1821           * @param   pMsg - message to process
   1822           *
   1823           * @return  none
   1824           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1825          static uint8 processEvents( osal_event_hdr_t *pMsg )
   \                     processEvents:
   1826          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0,R2
   \   00000C   8B..         MOV     ?V1,R3
   1827            uint8 msgLen = 0;
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   E4           CLR     A
   \   000015   F0           MOVX    @DPTR,A
   1828            uint8 *pBuf = NULL;
   \   000016   FE           MOV     R6,A
   \   000017   FF           MOV     R7,A
   1829            uint8 allocated = FALSE;
   \   000018   04           INC     A
   \   000019   12....       LCALL   ?XSTACK_DISP0_8
   \   00001C   E4           CLR     A
   \   00001D   F0           MOVX    @DPTR,A
   1830            uint8 deallocateIncoming = TRUE;
   \   00001E   7402         MOV     A,#0x2
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   7401         MOV     A,#0x1
   \   000025   F0           MOVX    @DPTR,A
   1831          
   1832            VOID osal_memset( out_msg, 0, sizeof ( out_msg ) );
   \   000026                ; Setup parameters for call to function osal_memset
   \   000026   7C2C         MOV     R4,#0x2c
   \   000028   7D00         MOV     R5,#0x0
   \   00002A   7900         MOV     R1,#0x0
   \   00002C   7A..         MOV     R2,#out_msg & 0xff
   \   00002E   7B..         MOV     R3,#(out_msg >> 8) & 0xff
   \   000030   12....       LCALL   ??osal_memset?relay  ; Banked call to: osal_memset
   1833          
   1834            switch ( pMsg->event )
   \   000033   85..82       MOV     DPL,?V0
   \   000036   85..83       MOV     DPH,?V1
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   245E         ADD     A,#0x5e
   \   00003C   6047         JZ      ??processEvents_0
   \   00003E   24F2         ADD     A,#-0xe
   \   000040   6062         JZ      ??processEvents_1
   \   000042   24E0         ADD     A,#-0x20
   \   000044   6003         JZ      $+5
   \   000046   02....       LJMP    ??processEvents_2 & 0xFFFF
   1835            {
   1836              case GAP_MSG_EVENT:
   1837                pBuf = processEventsGAP( (gapEventHdr_t *)pMsg, out_msg, &msgLen, &allocated, &deallocateIncoming );
   \   000049                ; Setup parameters for call to function processEventsGAP
   \   000049   7402         MOV     A,#0x2
   \   00004B   12....       LCALL   ?XSTACK_DISP100_8
   \   00004E   88..         MOV     ?V2,R0
   \   000050   89..         MOV     ?V3,R1
   \   000052   78..         MOV     R0,#?V2
   \   000054   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000057   7403         MOV     A,#0x3
   \   000059   12....       LCALL   ?XSTACK_DISP100_8
   \   00005C   88..         MOV     ?V2,R0
   \   00005E   89..         MOV     ?V3,R1
   \   000060   78..         MOV     R0,#?V2
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000065   7404         MOV     A,#0x4
   \   000067   12....       LCALL   ?XSTACK_DISP100_8
   \   00006A   88..         MOV     ?V2,R0
   \   00006C   89..         MOV     ?V3,R1
   \   00006E   78..         MOV     R0,#?V2
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   7C..         MOV     R4,#out_msg & 0xff
   \   000075   7D..         MOV     R5,#(out_msg >> 8) & 0xff
   \   000077   AA..         MOV     R2,?V0
   \   000079   AB..         MOV     R3,?V1
   \   00007B   12....       LCALL   ??processEventsGAP?relay; Banked call to: processEventsGAP
   \   00007E   7406         MOV     A,#0x6
   \   000080   12....       LCALL   ?DEALLOC_XSTACK8
   \   000083   804B         SJMP    ??processEvents_3
   1838                break;
   1839          
   1840              case L2CAP_SIGNAL_EVENT:
   1841                pBuf = processEventsL2CAP( (l2capSignalEvent_t *)pMsg, out_msg, &msgLen );
   \                     ??processEvents_0:
   \   000085                ; Setup parameters for call to function processEventsL2CAP
   \   000085   A8..         MOV     R0,?XSP + 0
   \   000087   A9..         MOV     R1,?XSP + 1
   \   000089   88..         MOV     ?V2,R0
   \   00008B   89..         MOV     ?V3,R1
   \   00008D   78..         MOV     R0,#?V2
   \   00008F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000092   7C..         MOV     R4,#out_msg & 0xff
   \   000094   7D..         MOV     R5,#(out_msg >> 8) & 0xff
   \   000096   AA..         MOV     R2,?V0
   \   000098   AB..         MOV     R3,?V1
   \   00009A   12....       LCALL   ??processEventsL2CAP?relay; Banked call to: processEventsL2CAP
   \   00009D   7402         MOV     A,#0x2
   \   00009F   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000A2   802C         SJMP    ??processEvents_3
   1842                break;
   1843          
   1844              case GATT_MSG_EVENT:
   1845                pBuf = processEventsGATT( (gattMsgEvent_t *)pMsg, out_msg, &msgLen, &allocated );
   \                     ??processEvents_1:
   \   0000A4                ; Setup parameters for call to function processEventsGATT
   \   0000A4   7401         MOV     A,#0x1
   \   0000A6   12....       LCALL   ?XSTACK_DISP100_8
   \   0000A9   88..         MOV     ?V2,R0
   \   0000AB   89..         MOV     ?V3,R1
   \   0000AD   78..         MOV     R0,#?V2
   \   0000AF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B2   7402         MOV     A,#0x2
   \   0000B4   12....       LCALL   ?XSTACK_DISP100_8
   \   0000B7   88..         MOV     ?V2,R0
   \   0000B9   89..         MOV     ?V3,R1
   \   0000BB   78..         MOV     R0,#?V2
   \   0000BD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C0   7C..         MOV     R4,#out_msg & 0xff
   \   0000C2   7D..         MOV     R5,#(out_msg >> 8) & 0xff
   \   0000C4   AA..         MOV     R2,?V0
   \   0000C6   AB..         MOV     R3,?V1
   \   0000C8   12....       LCALL   ??processEventsGATT?relay; Banked call to: processEventsGATT
   \   0000CB   7404         MOV     A,#0x4
   \   0000CD   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??processEvents_3:
   \   0000D0   8A..         MOV     ?V2,R2
   \   0000D2   8B..         MOV     ?V3,R3
   \   0000D4   AE..         MOV     R6,?V2
   \   0000D6   AF..         MOV     R7,?V3
   1846                break;
   1847          #ifndef GATT_DB_OFF_CHIP
   1848              case GATT_SERV_MSG_EVENT:
   1849                pBuf = processEventsGATTServ( (gattEventHdr_t *)pMsg, out_msg, &msgLen );
   1850                break;
   1851          #endif
   1852              default:
   1853                break; // ignore
   1854            }
   1855          
   1856            // Deallocate here to free up heap space for the serial message set out HCI.
   1857            if ( deallocateIncoming )
   \                     ??processEvents_2:
   \   0000D8   7402         MOV     A,#0x2
   \   0000DA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DD   E0           MOVX    A,@DPTR
   \   0000DE   6007         JZ      ??processEvents_4
   1858            {
   1859              VOID osal_msg_deallocate( (uint8 *)pMsg );
   \   0000E0                ; Setup parameters for call to function osal_msg_deallocate
   \   0000E0   AA..         MOV     R2,?V0
   \   0000E2   AB..         MOV     R3,?V1
   \   0000E4   12....       LCALL   ??osal_msg_deallocate?relay; Banked call to: osal_msg_deallocate
   1860            }
   1861          
   1862            if ( msgLen )
   \                     ??processEvents_4:
   \   0000E7   85..82       MOV     DPL,?XSP + 0
   \   0000EA   85..83       MOV     DPH,?XSP + 1
   \   0000ED   E0           MOVX    A,@DPTR
   \   0000EE   600B         JZ      ??processEvents_5
   1863            {
   1864              HCI_SendControllerToHostEvent( HCI_VE_EVENT_CODE,  msgLen, pBuf );
   \   0000F0                ; Setup parameters for call to function HCI_SendControllerToHostEvent
   \   0000F0   EE           MOV     A,R6
   \   0000F1   FC           MOV     R4,A
   \   0000F2   EF           MOV     A,R7
   \   0000F3   FD           MOV     R5,A
   \   0000F4   E0           MOVX    A,@DPTR
   \   0000F5   FA           MOV     R2,A
   \   0000F6   79FF         MOV     R1,#-0x1
   \   0000F8   12....       LCALL   ??HCI_SendControllerToHostEvent?relay; Banked call to: HCI_SendControllerToHostEvent
   1865            }
   1866          
   1867            if ( (pBuf != NULL) && (allocated == TRUE) )
   \                     ??processEvents_5:
   \   0000FB   EE           MOV     A,R6
   \   0000FC   4F           ORL     A,R7
   \   0000FD   6011         JZ      ??processEvents_6
   \   0000FF   7401         MOV     A,#0x1
   \   000101   12....       LCALL   ?XSTACK_DISP0_8
   \   000104   E0           MOVX    A,@DPTR
   \   000105   6401         XRL     A,#0x1
   \   000107   7007         JNZ     ??processEvents_6
   1868            {
   1869              osal_mem_free( pBuf );
   \   000109                ; Setup parameters for call to function osal_mem_free
   \   000109   EE           MOV     A,R6
   \   00010A   FA           MOV     R2,A
   \   00010B   EF           MOV     A,R7
   \   00010C   FB           MOV     R3,A
   \   00010D   12....       LCALL   ??osal_mem_free?relay; Banked call to: osal_mem_free
   1870            }
   1871          
   1872            return ( FALSE );
   \                     ??processEvents_6:
   \   000110   7900         MOV     R1,#0x0
   \   000112   7403         MOV     A,#0x3
   \   000114                REQUIRE ?Subroutine1
   \   000114                ; // Fall through to label ?Subroutine1
   1873          }
   1874          
   1875          /*********************************************************************
   1876           * @fn      processEventsGAP
   1877           *
   1878           * @brief   Process an incoming GAP Event messages.
   1879           *
   1880           * @param   pMsg - message to process
   1881           * @param   pOutMsg - outgoing message to be built
   1882           * @param   pMsgLen - length of outgoing message
   1883           * @param   pAllocated - whether outgoing message is locally allocated
   1884           * @param   pDeallocate - whether it's safe to deallocate incoming message
   1885           *
   1886           * @return  outgoing message
   1887           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine46:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002                REQUIRE ??Subroutine143_0
   \   000002                ; // Fall through to label ??Subroutine143_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine143_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006                REQUIRE ??Subroutine144_0
   \   000006                ; // Fall through to label ??Subroutine144_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7404         MOV     A,#0x4
   \   000002                REQUIRE ??Subroutine145_0
   \   000002                ; // Fall through to label ??Subroutine145_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1888          static uint8 *processEventsGAP( gapEventHdr_t *pMsg, uint8 *pOutMsg, uint8 *pMsgLen,
   \                     processEventsGAP:
   1889                                          uint8 *pAllocated, uint8 *pDeallocate )
   1890          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V4,R2
   \   00000C   8B..         MOV     ?V5,R3
   \   00000E   EC           MOV     A,R4
   \   00000F   FE           MOV     R6,A
   \   000010   ED           MOV     A,R5
   \   000011   FF           MOV     R7,A
   1891            uint8 msgLen = 0;
   \   000012   85..82       MOV     DPL,?XSP + 0
   \   000015   85..83       MOV     DPH,?XSP + 1
   \   000018   E4           CLR     A
   \   000019   F0           MOVX    @DPTR,A
   1892            uint8 *pBuf = NULL;
   \   00001A   F5..         MOV     ?V6,A
   \   00001C   F5..         MOV     ?V7,A
   \   00001E   7418         MOV     A,#0x18
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F5..         MOV     ?V0,A
   \   000026   A3           INC     DPTR
   \   000027   E0           MOVX    A,@DPTR
   \   000028   F5..         MOV     ?V1,A
   1893          
   1894            *pDeallocate = TRUE;
   \   00002A   85..82       MOV     DPL,?V0
   \   00002D   F583         MOV     DPH,A
   \   00002F   7401         MOV     A,#0x1
   \   000031   12....       LCALL   ?Subroutine105 & 0xFFFF
   \                     ??CrossCallReturnLabel_250:
   \   000034   A3           INC     DPTR
   \   000035   A3           INC     DPTR
   \   000036   E0           MOVX    A,@DPTR
   \   000037   605D         JZ      ??processEventsGAP_0
   \   000039   14           DEC     A
   \   00003A   7003         JNZ     $+5
   \   00003C   02....       LJMP    ??processEventsGAP_1 & 0xFFFF
   \   00003F   14           DEC     A
   \   000040   7003         JNZ     $+5
   \   000042   02....       LJMP    ??processEventsGAP_2 & 0xFFFF
   \   000045   14           DEC     A
   \   000046   7003         JNZ     $+5
   \   000048   02....       LJMP    ??processEventsGAP_3 & 0xFFFF
   \   00004B   14           DEC     A
   \   00004C   7003         JNZ     $+5
   \   00004E   02....       LJMP    ??processEventsGAP_4 & 0xFFFF
   \   000051   14           DEC     A
   \   000052   7003         JNZ     $+5
   \   000054   02....       LJMP    ??processEventsGAP_5 & 0xFFFF
   \   000057   14           DEC     A
   \   000058   7003         JNZ     $+5
   \   00005A   02....       LJMP    ??processEventsGAP_6 & 0xFFFF
   \   00005D   14           DEC     A
   \   00005E   7003         JNZ     $+5
   \   000060   02....       LJMP    ??processEventsGAP_7 & 0xFFFF
   \   000063   14           DEC     A
   \   000064   7003         JNZ     $+5
   \   000066   02....       LJMP    ??processEventsGAP_8 & 0xFFFF
   \   000069   14           DEC     A
   \   00006A   7003         JNZ     $+5
   \   00006C   02....       LJMP    ??processEventsGAP_9 & 0xFFFF
   \   00006F   14           DEC     A
   \   000070   7003         JNZ     $+5
   \   000072   02....       LJMP    ??processEventsGAP_10 & 0xFFFF
   \   000075   14           DEC     A
   \   000076   7003         JNZ     $+5
   \   000078   02....       LJMP    ??processEventsGAP_11 & 0xFFFF
   \   00007B   14           DEC     A
   \   00007C   7003         JNZ     $+5
   \   00007E   02....       LJMP    ??processEventsGAP_12 & 0xFFFF
   \   000081   14           DEC     A
   \   000082   7003         JNZ     $+5
   \   000084   02....       LJMP    ??processEventsGAP_13 & 0xFFFF
   \   000087   14           DEC     A
   \   000088   7003         JNZ     $+5
   \   00008A   02....       LJMP    ??processEventsGAP_14 & 0xFFFF
   \   00008D   14           DEC     A
   \   00008E   7003         JNZ     $+5
   \   000090   02....       LJMP    ??processEventsGAP_15 & 0xFFFF
   \   000093   02....       LJMP    ??processEventsGAP_16 & 0xFFFF
   1895            
   1896            switch ( pMsg->opcode )
   1897            {
   1898              case GAP_DEVICE_INIT_DONE_EVENT:
   1899                {
   1900                  gapDeviceInitDoneEvent_t *pPkt = (gapDeviceInitDoneEvent_t *)pMsg;
   1901          
   1902                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_DEVICE_INIT_DONE_EVENT );
   \                     ??processEventsGAP_0:
   \   000096   8E82         MOV     DPL,R6
   \   000098   8F83         MOV     DPH,R7
   \   00009A   E4           CLR     A
   \   00009B   12....       LCALL   ?Subroutine23 & 0xFFFF
   1903                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_DEVICE_INIT_DONE_EVENT );
   1904                  pOutMsg[2] = pPkt->hdr.status;
   \                     ??CrossCallReturnLabel_41:
   \   00009E   12....       LCALL   ?Subroutine41 & 0xFFFF
   1905                  VOID osal_memcpy( &pOutMsg[3], pPkt->devAddr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_87:
   \   0000A1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A4   EA           MOV     A,R2
   \   0000A5   12....       LCALL   ?Subroutine83 & 0xFFFF
   \                     ??CrossCallReturnLabel_212:
   \   0000A8   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0000AB   7402         MOV     A,#0x2
   \   0000AD   12....       LCALL   ?DEALLOC_XSTACK8
   1906                  pOutMsg[9]  = LO_UINT16( pPkt->dataPktLen );
   \   0000B0   12....       LCALL   ?Subroutine7 & 0xFFFF
   1907                  pOutMsg[10] = HI_UINT16( pPkt->dataPktLen );
   1908                  pOutMsg[11] = pPkt->numDataPkts;
   \                     ??CrossCallReturnLabel_4:
   \   0000B3   C0E0         PUSH    A
   \   0000B5   12....       LCALL   ?Subroutine84 & 0xFFFF
   \                     ??CrossCallReturnLabel_214:
   \   0000B8   D0E0         POP     A
   \   0000BA   F0           MOVX    @DPTR,A
   1909          
   1910                  // Copy the Device's local keys
   1911                  VOID osal_memcpy( &pOutMsg[12], IRK, KEYLEN );
   \   0000BB                ; Setup parameters for call to function osal_memcpy
   \   0000BB   75..10       MOV     ?V0,#0x10
   \   0000BE   78..         MOV     R0,#?V0
   \   0000C0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C3   7C..         MOV     R4,#IRK & 0xff
   \   0000C5   7D..         MOV     R5,#(IRK >> 8) & 0xff
   \   0000C7   EE           MOV     A,R6
   \   0000C8   240C         ADD     A,#0xc
   \   0000CA   FA           MOV     R2,A
   \   0000CB   E4           CLR     A
   \   0000CC   3F           ADDC    A,R7
   \   0000CD   FB           MOV     R3,A
   \   0000CE   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0000D1   7402         MOV     A,#0x2
   \   0000D3   12....       LCALL   ?DEALLOC_XSTACK8
   1912                  VOID osal_memcpy( &pOutMsg[12+KEYLEN], SRK, KEYLEN );
   \   0000D6                ; Setup parameters for call to function osal_memcpy
   \   0000D6   78..         MOV     R0,#?V0
   \   0000D8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DB   7C..         MOV     R4,#SRK & 0xff
   \   0000DD   7D..         MOV     R5,#(SRK >> 8) & 0xff
   \   0000DF   EE           MOV     A,R6
   \   0000E0   241C         ADD     A,#0x1c
   \   0000E2   FA           MOV     R2,A
   \   0000E3   E4           CLR     A
   \   0000E4   3F           ADDC    A,R7
   \   0000E5   FB           MOV     R3,A
   \   0000E6   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0000E9   7402         MOV     A,#0x2
   \   0000EB   12....       LCALL   ?DEALLOC_XSTACK8
   1913          
   1914                  if ( pPkt->hdr.status == SUCCESS )
   \   0000EE   85..82       MOV     DPL,?V4
   \   0000F1   85..83       MOV     DPH,?V5
   \   0000F4   A3           INC     DPTR
   \   0000F5   E0           MOVX    A,@DPTR
   \   0000F6   7021         JNZ     ??processEventsGAP_17
   1915                  {
   1916                    VOID osal_snv_write( BLE_NVID_IRK, KEYLEN, IRK );
   \   0000F8                ; Setup parameters for call to function osal_snv_write
   \   0000F8   7C..         MOV     R4,#IRK & 0xff
   \   0000FA   7D..         MOV     R5,#(IRK >> 8) & 0xff
   \   0000FC   7A10         MOV     R2,#0x10
   \   0000FE   7902         MOV     R1,#0x2
   \   000100   12....       LCALL   ??osal_snv_write?relay; Banked call to: osal_snv_write
   1917                    VOID osal_snv_write( BLE_NVID_CSRK, KEYLEN, SRK );
   \   000103                ; Setup parameters for call to function osal_snv_write
   \   000103   7C..         MOV     R4,#SRK & 0xff
   \   000105   7D..         MOV     R5,#(SRK >> 8) & 0xff
   \   000107   7A10         MOV     R2,#0x10
   \   000109   7903         MOV     R1,#0x3
   \   00010B   12....       LCALL   ??osal_snv_write?relay; Banked call to: osal_snv_write
   1918                    VOID osal_snv_write( BLE_NVID_SIGNCOUNTER, sizeof( uint32 ), &hciExtSignCounter );
   \   00010E                ; Setup parameters for call to function osal_snv_write
   \   00010E   7C..         MOV     R4,#hciExtSignCounter & 0xff
   \   000110   7D..         MOV     R5,#(hciExtSignCounter >> 8) & 0xff
   \   000112   7A04         MOV     R2,#0x4
   \   000114   7904         MOV     R1,#0x4
   \   000116   12....       LCALL   ??osal_snv_write?relay; Banked call to: osal_snv_write
   1919                  }
   1920          
   1921                  pBuf = pOutMsg;
   \                     ??processEventsGAP_17:
   \   000119   8E..         MOV     ?V6,R6
   \   00011B   8F..         MOV     ?V7,R7
   1922                  msgLen = 44;
   \   00011D   85..82       MOV     DPL,?XSP + 0
   \   000120   85..83       MOV     DPH,?XSP + 1
   \   000123   742C         MOV     A,#0x2c
   \   000125   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   1923                }
   1924                break;
   1925          
   1926              case GAP_DEVICE_DISCOVERY_EVENT:
   1927                {
   1928                  gapDevDiscEvent_t *pPkt = (gapDevDiscEvent_t *)pMsg;
   1929          
   1930                  if ( (pPkt->hdr.status == SUCCESS) && (pPkt->numDevs > 0) )
   \                     ??processEventsGAP_1:
   \   000128   8A82         MOV     DPL,R2
   \   00012A   8B83         MOV     DPH,R3
   \   00012C   A3           INC     DPTR
   \   00012D   E0           MOVX    A,@DPTR
   \   00012E   6003         JZ      $+5
   \   000130   02....       LJMP    ??processEventsGAP_19 & 0xFFFF
   \   000133   8A82         MOV     DPL,R2
   \   000135   8B83         MOV     DPH,R3
   \   000137   A3           INC     DPTR
   \   000138   A3           INC     DPTR
   \   000139   A3           INC     DPTR
   \   00013A   E0           MOVX    A,@DPTR
   \   00013B   7003         JNZ     $+5
   \   00013D   02....       LJMP    ??processEventsGAP_20 & 0xFFFF
   1931                  {
   1932                    uint8 x;
   1933                    gapDevRec_t *devList = pPkt->pDevList;
   1934          
   1935                    // Calculate buffer needed
   1936                    msgLen = 4; // Size of opCode, status and numDevs field
   1937                    msgLen += (pPkt->numDevs * 8); // Num devices * (eventType, addrType, addr)
   \   000140   33           RLC     A
   \   000141   33           RLC     A
   \   000142   33           RLC     A
   \   000143   54F8         ANL     A,#0xf8
   \   000145   2404         ADD     A,#0x4
   \   000147   85..82       MOV     DPL,?XSP + 0
   \   00014A   85..83       MOV     DPH,?XSP + 1
   \   00014D   F0           MOVX    @DPTR,A
   1938          
   1939                    pBuf = osal_mem_alloc( msgLen );
   \   00014E                ; Setup parameters for call to function osal_mem_alloc
   \   00014E   FA           MOV     R2,A
   \   00014F   7B00         MOV     R3,#0x0
   \   000151   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   000154   8A..         MOV     ?V6,R2
   \   000156   8B..         MOV     ?V7,R3
   1940                    if ( pBuf )
   \   000158   EA           MOV     A,R2
   \   000159   45..         ORL     A,?V7
   \   00015B   7003         JNZ     $+5
   \   00015D   02....       LJMP    ??processEventsGAP_21 & 0xFFFF
   1941                    {
   1942                      uint8 *buf = pBuf;
   1943          
   1944                      // Fill in header
   1945                      *buf++ = LO_UINT16( HCI_EXT_GAP_DEVICE_DISCOVERY_EVENT );
   \   000160   8A82         MOV     DPL,R2
   \   000162   8B83         MOV     DPH,R3
   \   000164   7401         MOV     A,#0x1
   \   000166   12....       LCALL   ?Subroutine40 & 0xFFFF
   1946                      *buf++ = HI_UINT16( HCI_EXT_GAP_DEVICE_DISCOVERY_EVENT );
   \                     ??CrossCallReturnLabel_81:
   \   000169   12....       LCALL   ??Subroutine161_0 & 0xFFFF
   1947                      *buf++ = pPkt->hdr.status;
   \                     ??CrossCallReturnLabel_391:
   \   00016C   85..82       MOV     DPL,?V4
   \   00016F   85..83       MOV     DPH,?V5
   \   000172   A3           INC     DPTR
   \   000173   12....       LCALL   ?Subroutine20 & 0xFFFF
   1948                      *buf++ = pPkt->numDevs;
   \                     ??CrossCallReturnLabel_35:
   \   000176   12....       LCALL   ?Subroutine20 & 0xFFFF
   1949          
   1950                      devList = pPkt->pDevList;
   \                     ??CrossCallReturnLabel_36:
   \   000179   A3           INC     DPTR
   \   00017A   12....       LCALL   ??Subroutine170_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_442:
   \   00017D   7402         MOV     A,#0x2
   \   00017F   12....       LCALL   ?XSTACK_DISP0_8
   \   000182   12....       LCALL   ?Subroutine32 & 0xFFFF
   1951                      for ( x = 0; x < pPkt->numDevs; x++, devList++ )
   \                     ??CrossCallReturnLabel_66:
   \   000185   7401         MOV     A,#0x1
   \   000187   12....       LCALL   ?XSTACK_DISP0_8
   \   00018A   E4           CLR     A
   \   00018B   8065         SJMP    ??processEventsGAP_22
   1952                      {
   1953                        *buf++ = devList->eventType;
   \                     ??processEventsGAP_23:
   \   00018D   7402         MOV     A,#0x2
   \   00018F   12....       LCALL   ?XSTACK_DISP0_8
   \   000192   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_175:
   \   000195   12....       LCALL   ?Subroutine27 & 0xFFFF
   1954                        *buf++ = devList->addrType;
   \                     ??CrossCallReturnLabel_392:
   \   000198   7402         MOV     A,#0x2
   \   00019A   12....       LCALL   ?XSTACK_DISP0_8
   \   00019D   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_176:
   \   0001A0   A3           INC     DPTR
   \   0001A1   12....       LCALL   ?Subroutine27 & 0xFFFF
   1955                        VOID osal_memcpy( buf, devList->addr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_393:
   \   0001A4                ; Setup parameters for call to function osal_memcpy
   \   0001A4   75..06       MOV     ?V0,#0x6
   \   0001A7   75..00       MOV     ?V1,#0x0
   \   0001AA   78..         MOV     R0,#?V0
   \   0001AC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001AF   7404         MOV     A,#0x4
   \   0001B1   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B4   E0           MOVX    A,@DPTR
   \   0001B5   2402         ADD     A,#0x2
   \   0001B7   FC           MOV     R4,A
   \   0001B8   A3           INC     DPTR
   \   0001B9   E0           MOVX    A,@DPTR
   \   0001BA   3400         ADDC    A,#0x0
   \   0001BC   FD           MOV     R5,A
   \   0001BD   AA..         MOV     R2,?V2
   \   0001BF   AB..         MOV     R3,?V3
   \   0001C1   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0001C4   7402         MOV     A,#0x2
   \   0001C6   12....       LCALL   ?DEALLOC_XSTACK8
   1956                        buf += B_ADDR_LEN;
   \   0001C9   E5..         MOV     A,?V2
   \   0001CB   2406         ADD     A,#0x6
   \   0001CD   F5..         MOV     ?V2,A
   \   0001CF   5002         JNC     ??processEventsGAP_24
   \   0001D1   05..         INC     ?V3
   1957                      }
   \                     ??processEventsGAP_24:
   \   0001D3   7401         MOV     A,#0x1
   \   0001D5   12....       LCALL   ?XSTACK_DISP0_8
   \   0001D8   E0           MOVX    A,@DPTR
   \   0001D9   04           INC     A
   \   0001DA   F0           MOVX    @DPTR,A
   \   0001DB   7402         MOV     A,#0x2
   \   0001DD   12....       LCALL   ?XSTACK_DISP0_8
   \   0001E0   E0           MOVX    A,@DPTR
   \   0001E1   2408         ADD     A,#0x8
   \   0001E3   F8           MOV     R0,A
   \   0001E4   A3           INC     DPTR
   \   0001E5   E0           MOVX    A,@DPTR
   \   0001E6   3400         ADDC    A,#0x0
   \   0001E8   F9           MOV     R1,A
   \   0001E9   7402         MOV     A,#0x2
   \   0001EB   12....       LCALL   ?XSTACK_DISP0_8
   \   0001EE   E8           MOV     A,R0
   \   0001EF   F0           MOVX    @DPTR,A
   \   0001F0   A3           INC     DPTR
   \   0001F1   E9           MOV     A,R1
   \                     ??processEventsGAP_22:
   \   0001F2   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   0001F5   F8           MOV     R0,A
   \   0001F6   7401         MOV     A,#0x1
   \   0001F8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001FB   E0           MOVX    A,@DPTR
   \   0001FC   C3           CLR     C
   \   0001FD   98           SUBB    A,R0
   \   0001FE   408D         JC      ??processEventsGAP_23
   1958          
   1959                      *pAllocated = TRUE;
   \   000200   7416         MOV     A,#0x16
   \   000202   12....       LCALL   ?XSTACK_DISP0_8
   \   000205   12....       LCALL   ?Subroutine56 & 0xFFFF
   1960                    }
   \                     ??CrossCallReturnLabel_159:
   \   000208   8009         SJMP    ??processEventsGAP_25
   1961                    else
   1962                    {
   1963                      pPkt->hdr.status = bleMemAllocError;
   \                     ??processEventsGAP_21:
   \   00020A   85..82       MOV     DPL,?V4
   \   00020D   85..83       MOV     DPH,?V5
   \   000210   A3           INC     DPTR
   \   000211   7413         MOV     A,#0x13
   \                     ??processEventsGAP_25:
   \   000213   F0           MOVX    @DPTR,A
   1964                    }
   1965                  }
   1966          
   1967                  if ( (pPkt->hdr.status != SUCCESS) || (pPkt->numDevs == 0) )
   \                     ??processEventsGAP_19:
   \   000214   85..82       MOV     DPL,?V4
   \   000217   85..83       MOV     DPH,?V5
   \   00021A   A3           INC     DPTR
   \   00021B   E0           MOVX    A,@DPTR
   \   00021C   700F         JNZ     ??processEventsGAP_20
   \   00021E   85..82       MOV     DPL,?V4
   \   000221   85..83       MOV     DPH,?V5
   \   000224   A3           INC     DPTR
   \   000225   A3           INC     DPTR
   \   000226   A3           INC     DPTR
   \   000227   E0           MOVX    A,@DPTR
   \   000228   6003         JZ      $+5
   \   00022A   02....       LJMP    ??processEventsGAP_16 & 0xFFFF
   1968                  {
   1969                    pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_DEVICE_DISCOVERY_EVENT );
   \                     ??processEventsGAP_20:
   \   00022D   8E82         MOV     DPL,R6
   \   00022F   8F83         MOV     DPH,R7
   \   000231   7401         MOV     A,#0x1
   \   000233   12....       LCALL   ?Subroutine9 & 0xFFFF
   1970                    pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_DEVICE_DISCOVERY_EVENT );
   1971                    pOutMsg[2] = pPkt->hdr.status;
   1972                    pOutMsg[3] = 0;
   \                     ??CrossCallReturnLabel_8:
   \   000236   8E82         MOV     DPL,R6
   \   000238   8F83         MOV     DPH,R7
   \   00023A   A3           INC     DPTR
   \   00023B   A3           INC     DPTR
   \   00023C   A3           INC     DPTR
   \   00023D   E4           CLR     A
   \   00023E   800F         SJMP    ??CrossCallReturnLabel_368
   1973                    pBuf = pOutMsg;
   1974                    msgLen = 4; // Size of opCode, status and numDevs field
   1975                  }
   1976                }
   1977                break;
   1978          
   1979              case GAP_ADV_DATA_UPDATE_DONE_EVENT:
   1980                {
   1981                  gapAdvDataUpdateEvent_t *pPkt = (gapAdvDataUpdateEvent_t *)pMsg;
   1982          
   1983                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_ADV_DATA_UPDATE_DONE_EVENT );
   \                     ??processEventsGAP_2:
   \   000240   8E82         MOV     DPL,R6
   \   000242   8F83         MOV     DPH,R7
   \   000244   7402         MOV     A,#0x2
   \   000246   12....       LCALL   ?Subroutine40 & 0xFFFF
   1984                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_ADV_DATA_UPDATE_DONE_EVENT );
   1985                  pOutMsg[2] = pPkt->hdr.status;
   1986                  pOutMsg[3] = pPkt->adType;
   1987                  pBuf = pOutMsg;
   1988                  msgLen = 4;
   1989                }
   \                     ??CrossCallReturnLabel_82:
   \   000249   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   00024C   12....       LCALL   ??Subroutine156_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_368:
   \   00024F   12....       LCALL   ??Subroutine166_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_420:
   \   000252   7404         MOV     A,#0x4
   \   000254   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   1990                break;
   1991          
   1992              case GAP_MAKE_DISCOVERABLE_DONE_EVENT:
   1993                {
   1994                  gapMakeDiscoverableRspEvent_t *pPkt = (gapMakeDiscoverableRspEvent_t *)pMsg;
   1995          
   1996                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_MAKE_DISCOVERABLE_DONE_EVENT );
   \                     ??processEventsGAP_3:
   \   000257   8E82         MOV     DPL,R6
   \   000259   8F83         MOV     DPH,R7
   \   00025B   7403         MOV     A,#0x3
   \   00025D   12....       LCALL   ?Subroutine11 & 0xFFFF
   1997                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_MAKE_DISCOVERABLE_DONE_EVENT );
   1998                  pOutMsg[2] = pPkt->hdr.status;
   1999                  pOutMsg[3] = LO_UINT16( pPkt->interval );
   2000                  pOutMsg[4] = HI_UINT16( pPkt->interval );
   \                     ??CrossCallReturnLabel_11:
   \   000260   8A82         MOV     DPL,R2
   \   000262   8B83         MOV     DPH,R3
   \   000264   02....       LJMP    ??processEventsGAP_26 & 0xFFFF
   2001                  pBuf = pOutMsg;
   2002                  msgLen = 5;
   2003                }
   2004                break;
   2005          
   2006              case GAP_END_DISCOVERABLE_DONE_EVENT:
   2007                pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_END_DISCOVERABLE_DONE_EVENT );
   \                     ??processEventsGAP_4:
   \   000267   8E82         MOV     DPL,R6
   \   000269   8F83         MOV     DPH,R7
   \   00026B   7404         MOV     A,#0x4
   \   00026D   12....       LCALL   ?Subroutine23 & 0xFFFF
   2008                pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_END_DISCOVERABLE_DONE_EVENT );
   2009                pOutMsg[2] = pMsg->hdr.status;
   \                     ??CrossCallReturnLabel_42:
   \   000270   12....       LCALL   ??Subroutine165_0 & 0xFFFF
   2010                pBuf = pOutMsg;
   2011                msgLen = 3;
   \                     ??CrossCallReturnLabel_419:
   \   000273   7403         MOV     A,#0x3
   \   000275   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2012                break;
   2013          
   2014              case GAP_LINK_ESTABLISHED_EVENT:
   2015                {
   2016                  gapEstLinkReqEvent_t *pPkt = (gapEstLinkReqEvent_t *)pMsg;
   2017          
   2018          #if defined ( GAP_BOND_MGR )
   2019                 if ( pPkt->hdr.status == SUCCESS )
   \                     ??processEventsGAP_5:
   \   000278   8A82         MOV     DPL,R2
   \   00027A   8B83         MOV     DPH,R3
   \   00027C   A3           INC     DPTR
   \   00027D   E0           MOVX    A,@DPTR
   \   00027E   7035         JNZ     ??processEventsGAP_27
   2020                 {
   2021                    // Notify the Bond Manager to the connection
   2022                    GAPBondMgr_LinkEst( pPkt->devAddrType, pPkt->devAddr, pPkt->connectionHandle, hciExtProfileRole );
   \   000280                ; Setup parameters for call to function GAPBondMgr_LinkEst
   \   000280   90....       MOV     DPTR,#hciExtProfileRole
   \   000283   12....       LCALL   ??Subroutine141_0 & 0xFFFF
   2023                 }
   \                     ??CrossCallReturnLabel_308:
   \   000286   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000289   8A82         MOV     DPL,R2
   \   00028B   8B83         MOV     DPH,R3
   \   00028D   A3           INC     DPTR
   \   00028E   A3           INC     DPTR
   \   00028F   A3           INC     DPTR
   \   000290   A3           INC     DPTR
   \   000291   A3           INC     DPTR
   \   000292   A3           INC     DPTR
   \   000293   A3           INC     DPTR
   \   000294   A3           INC     DPTR
   \   000295   A3           INC     DPTR
   \   000296   A3           INC     DPTR
   \   000297   12....       LCALL   ?Subroutine115 & 0xFFFF
   \                     ??CrossCallReturnLabel_334:
   \   00029A   EA           MOV     A,R2
   \   00029B   2404         ADD     A,#0x4
   \   00029D   FA           MOV     R2,A
   \   00029E   E4           CLR     A
   \   00029F   35..         ADDC    A,?V5
   \   0002A1   FB           MOV     R3,A
   \   0002A2   85..82       MOV     DPL,?V4
   \   0002A5   85..83       MOV     DPH,?V5
   \   0002A8   A3           INC     DPTR
   \   0002A9   A3           INC     DPTR
   \   0002AA   A3           INC     DPTR
   \   0002AB   E0           MOVX    A,@DPTR
   \   0002AC   F9           MOV     R1,A
   \   0002AD   12....       LCALL   ??GAPBondMgr_LinkEst?relay; Banked call to: GAPBondMgr_LinkEst
   \   0002B0   7401         MOV     A,#0x1
   \   0002B2   12....       LCALL   ?DEALLOC_XSTACK8
   2024          #endif
   2025          
   2026                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_LINK_ESTABLISHED_EVENT );
   \                     ??processEventsGAP_27:
   \   0002B5   8E82         MOV     DPL,R6
   \   0002B7   8F83         MOV     DPH,R7
   \   0002B9   7405         MOV     A,#0x5
   \   0002BB   F0           MOVX    @DPTR,A
   2027                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_LINK_ESTABLISHED_EVENT );
   \   0002BC   A3           INC     DPTR
   \   0002BD   04           INC     A
   \   0002BE   12....       LCALL   ?Subroutine8 & 0xFFFF
   2028                  pOutMsg[2] = pPkt->hdr.status;
   2029                  pOutMsg[3] = pPkt->devAddrType;
   2030                  VOID osal_memcpy( &(pOutMsg[4]), pPkt->devAddr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_6:
   \   0002C1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002C4   12....       LCALL   ?Subroutine82 & 0xFFFF
   \                     ??CrossCallReturnLabel_347:
   \   0002C7   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0002CA   7402         MOV     A,#0x2
   \   0002CC   12....       LCALL   ?DEALLOC_XSTACK8
   2031                  pOutMsg[10] = LO_UINT16( pPkt->connectionHandle );
   \   0002CF   85..82       MOV     DPL,?V4
   \   0002D2   85..83       MOV     DPH,?V5
   \   0002D5   A3           INC     DPTR
   \   0002D6   A3           INC     DPTR
   \   0002D7   A3           INC     DPTR
   \   0002D8   A3           INC     DPTR
   \   0002D9   A3           INC     DPTR
   \   0002DA   A3           INC     DPTR
   \   0002DB   A3           INC     DPTR
   \   0002DC   12....       LCALL   ?Subroutine69 & 0xFFFF
   \                     ??CrossCallReturnLabel_357:
   \   0002DF   12....       LCALL   ?Subroutine22 & 0xFFFF
   2032                  pOutMsg[11] = HI_UINT16( pPkt->connectionHandle );
   \                     ??CrossCallReturnLabel_39:
   \   0002E2   A3           INC     DPTR
   \   0002E3   A3           INC     DPTR
   \   0002E4   E0           MOVX    A,@DPTR
   \   0002E5   C0E0         PUSH    A
   \   0002E7   12....       LCALL   ?Subroutine84 & 0xFFFF
   \                     ??CrossCallReturnLabel_215:
   \   0002EA   D0E0         POP     A
   \   0002EC   12....       LCALL   ?Subroutine29 & 0xFFFF
   2033                  pOutMsg[12] = LO_UINT16( pPkt->connInterval );
   \                     ??CrossCallReturnLabel_51:
   \   0002EF   C0E0         PUSH    A
   \   0002F1   12....       LCALL   ?Subroutine88 & 0xFFFF
   \                     ??CrossCallReturnLabel_223:
   \   0002F4   D0E0         POP     A
   \   0002F6   F0           MOVX    @DPTR,A
   2034                  pOutMsg[13] = HI_UINT16( pPkt->connInterval );
   \   0002F7   12....       LCALL   ?Subroutine86 & 0xFFFF
   \                     ??CrossCallReturnLabel_218:
   \   0002FA   A3           INC     DPTR
   \   0002FB   E0           MOVX    A,@DPTR
   \   0002FC   C0E0         PUSH    A
   \   0002FE   12....       LCALL   ?Subroutine89 & 0xFFFF
   \                     ??CrossCallReturnLabel_225:
   \   000301   D0E0         POP     A
   \   000303   F0           MOVX    @DPTR,A
   2035                  pOutMsg[14] = LO_UINT16( pPkt->connLatency );
   \   000304   E5..         MOV     A,?V4
   \   000306   240E         ADD     A,#0xe
   \   000308   12....       LCALL   ?Subroutine87 & 0xFFFF
   \                     ??CrossCallReturnLabel_221:
   \   00030B   C0E0         PUSH    A
   \   00030D   EE           MOV     A,R6
   \   00030E   240E         ADD     A,#0xe
   \   000310   F582         MOV     DPL,A
   \   000312   E4           CLR     A
   \   000313   3F           ADDC    A,R7
   \   000314   F583         MOV     DPH,A
   \   000316   D0E0         POP     A
   \   000318   12....       LCALL   ?Subroutine30 & 0xFFFF
   2036                  pOutMsg[15] = HI_UINT16( pPkt->connLatency );
   \                     ??CrossCallReturnLabel_53:
   \   00031B   E0           MOVX    A,@DPTR
   \   00031C   C0E0         PUSH    A
   \   00031E   EE           MOV     A,R6
   \   00031F   240F         ADD     A,#0xf
   \   000321   F582         MOV     DPL,A
   \   000323   E4           CLR     A
   \   000324   3F           ADDC    A,R7
   \   000325   F583         MOV     DPH,A
   \   000327   D0E0         POP     A
   \   000329   F0           MOVX    @DPTR,A
   2037                  pOutMsg[16] = LO_UINT16( pPkt->connTimeout );
   \   00032A   E5..         MOV     A,?V4
   \   00032C   2410         ADD     A,#0x10
   \   00032E   12....       LCALL   ?Subroutine87 & 0xFFFF
   \                     ??CrossCallReturnLabel_222:
   \   000331   C0E0         PUSH    A
   \   000333   EE           MOV     A,R6
   \   000334   2410         ADD     A,#0x10
   \   000336   F582         MOV     DPL,A
   \   000338   E4           CLR     A
   \   000339   3F           ADDC    A,R7
   \   00033A   F583         MOV     DPH,A
   \   00033C   D0E0         POP     A
   \   00033E   12....       LCALL   ?Subroutine30 & 0xFFFF
   2038                  pOutMsg[17] = HI_UINT16( pPkt->connTimeout );
   \                     ??CrossCallReturnLabel_54:
   \   000341   E0           MOVX    A,@DPTR
   \   000342   C0E0         PUSH    A
   \   000344   EE           MOV     A,R6
   \   000345   2411         ADD     A,#0x11
   \   000347   F582         MOV     DPL,A
   \   000349   E4           CLR     A
   \   00034A   3F           ADDC    A,R7
   \   00034B   F583         MOV     DPH,A
   \   00034D   D0E0         POP     A
   \   00034F   F0           MOVX    @DPTR,A
   2039                  pOutMsg[18] = pPkt->clockAccuracy;
   \   000350   E5..         MOV     A,?V4
   \   000352   2412         ADD     A,#0x12
   \   000354   12....       LCALL   ??Subroutine149_0 & 0xFFFF
   2040                  pBuf = pOutMsg;
   2041                  msgLen = 19;
   2042                }
   \                     ??CrossCallReturnLabel_341:
   \   000357   C0E0         PUSH    A
   \   000359   EE           MOV     A,R6
   \   00035A   2412         ADD     A,#0x12
   \   00035C   F582         MOV     DPL,A
   \   00035E   E4           CLR     A
   \   00035F   3F           ADDC    A,R7
   \   000360   F583         MOV     DPH,A
   \   000362   D0E0         POP     A
   \   000364   12....       LCALL   ??Subroutine166_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_421:
   \   000367   02....       LJMP    ??processEventsGAP_28 & 0xFFFF
   2043                break;
   2044          
   2045              case GAP_LINK_TERMINATED_EVENT:
   2046                {
   2047                  gapTerminateLinkEvent_t *pPkt = (gapTerminateLinkEvent_t *)pMsg;
   2048          
   2049          #if defined ( GAP_BOND_MGR )
   2050                  VOID GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_6:
   \   00036A                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   00036A   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   2051          #endif
   2052          
   2053                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_LINK_TERMINATED_EVENT );
   \   00036D   8E82         MOV     DPL,R6
   \   00036F   8F83         MOV     DPH,R7
   \   000371   7406         MOV     A,#0x6
   \   000373   F0           MOVX    @DPTR,A
   2054                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_LINK_TERMINATED_EVENT );
   \   000374   A3           INC     DPTR
   \   000375   12....       LCALL   ?Subroutine3 & 0xFFFF
   2055                  pOutMsg[2] = pPkt->hdr.status;
   2056                  pOutMsg[3] = LO_UINT16( pPkt->connectionHandle );
   2057                  pOutMsg[4] = HI_UINT16( pPkt->connectionHandle );
   2058                  pOutMsg[5] = pPkt->reason;
   2059                  pBuf = pOutMsg;
   \                     ??CrossCallReturnLabel_0:
   \   000378   8E..         MOV     ?V6,R6
   \   00037A   8F..         MOV     ?V7,R7
   2060                  msgLen = 6;
   \   00037C   85..82       MOV     DPL,?XSP + 0
   \   00037F   85..83       MOV     DPH,?XSP + 1
   \   000382   7406         MOV     A,#0x6
   \   000384   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2061                }
   2062                break;
   2063          
   2064              case GAP_LINK_PARAM_UPDATE_EVENT:
   2065                {
   2066                  gapLinkUpdateEvent_t *pPkt = (gapLinkUpdateEvent_t *)pMsg;
   2067          
   2068                  pOutMsg[0]  = LO_UINT16( HCI_EXT_GAP_LINK_PARAM_UPDATE_EVENT );
   \                     ??processEventsGAP_7:
   \   000387   8E82         MOV     DPL,R6
   \   000389   8F83         MOV     DPH,R7
   \   00038B   7407         MOV     A,#0x7
   \   00038D   F0           MOVX    @DPTR,A
   2069                  pOutMsg[1]  = HI_UINT16( HCI_EXT_GAP_LINK_PARAM_UPDATE_EVENT );
   \   00038E   A3           INC     DPTR
   \   00038F   14           DEC     A
   \   000390   12....       LCALL   ?Subroutine17 & 0xFFFF
   2070                  pOutMsg[2]  = pPkt->hdr.status;
   2071                  pOutMsg[3]  = LO_UINT16( pPkt->connectionHandle );
   2072                  pOutMsg[4]  = HI_UINT16( pPkt->connectionHandle );
   2073                  pOutMsg[5]  = LO_UINT16( pPkt->connInterval );
   2074                  pOutMsg[6]  = HI_UINT16( pPkt->connInterval );
   2075                  pOutMsg[7]  = LO_UINT16( pPkt->connLatency );
   2076                  pOutMsg[8]  = HI_UINT16( pPkt->connLatency );
   2077                  pOutMsg[9]  = LO_UINT16( pPkt->connTimeout );
   2078                  pOutMsg[10] = HI_UINT16( pPkt->connTimeout );
   2079                  pBuf = pOutMsg;
   2080                  msgLen = 11;
   2081                }
   \                     ??CrossCallReturnLabel_28:
   \   000393   12....       LCALL   ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_369:
   \   000396   12....       LCALL   ?Subroutine105 & 0xFFFF
   \                     ??CrossCallReturnLabel_247:
   \   000399   12....       LCALL   ?Subroutine71 & 0xFFFF
   \                     ??CrossCallReturnLabel_354:
   \   00039C   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   00039F   12....       LCALL   ?Subroutine70 & 0xFFFF
   \                     ??CrossCallReturnLabel_187:
   \   0003A2   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   0003A5   12....       LCALL   ??Subroutine152_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_350:
   \   0003A8   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   0003AB   12....       LCALL   ?Subroutine70 & 0xFFFF
   \                     ??CrossCallReturnLabel_188:
   \   0003AE   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   0003B1   12....       LCALL   ??Subroutine152_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_351:
   \   0003B4   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   0003B7   12....       LCALL   ?Subroutine70 & 0xFFFF
   \                     ??CrossCallReturnLabel_189:
   \   0003BA   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   0003BD   12....       LCALL   ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_370:
   \   0003C0   A3           INC     DPTR
   \   0003C1   A3           INC     DPTR
   \   0003C2   A3           INC     DPTR
   \   0003C3   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_417:
   \   0003C6   740B         MOV     A,#0xb
   \   0003C8   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2082                break;
   2083          
   2084              case GAP_RANDOM_ADDR_CHANGED_EVENT:
   2085                {
   2086                  gapRandomAddrEvent_t *pPkt = (gapRandomAddrEvent_t *)pMsg;
   2087          
   2088                  pOutMsg[0]  = LO_UINT16( HCI_EXT_GAP_RANDOM_ADDR_CHANGED_EVENT );
   \                     ??processEventsGAP_8:
   \   0003CB   8E82         MOV     DPL,R6
   \   0003CD   8F83         MOV     DPH,R7
   \   0003CF   7408         MOV     A,#0x8
   \   0003D1   12....       LCALL   ?Subroutine11 & 0xFFFF
   2089                  pOutMsg[1]  = HI_UINT16( HCI_EXT_GAP_RANDOM_ADDR_CHANGED_EVENT );
   2090                  pOutMsg[2]  = pPkt->hdr.status;
   2091                  pOutMsg[3]  = pPkt->addrType;
   2092                  VOID osal_memcpy( &(pOutMsg[4]), pPkt->newRandomAddr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_12:
   \   0003D4                ; Setup parameters for call to function osal_memcpy
   \   0003D4   75..06       MOV     ?V0,#0x6
   \   0003D7   75..00       MOV     ?V1,#0x0
   \   0003DA   78..         MOV     R0,#?V0
   \   0003DC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003DF   EA           MOV     A,R2
   \   0003E0   12....       LCALL   ??Subroutine150_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_346:
   \   0003E3   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0003E6   7402         MOV     A,#0x2
   \   0003E8   12....       LCALL   ?DEALLOC_XSTACK8
   2093                  pBuf = pOutMsg;
   \   0003EB   02....       LJMP    ??processEventsGAP_29 & 0xFFFF
   2094                  msgLen = 10;
   2095                }
   2096                break;
   2097          
   2098              case GAP_SIGNATURE_UPDATED_EVENT:
   2099                {
   2100                  gapSignUpdateEvent_t *pPkt = (gapSignUpdateEvent_t *)pMsg;
   2101          
   2102          #if defined ( GAP_BOND_MGR )
   2103                  VOID GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_9:
   \   0003EE                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   0003EE   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   2104          #endif
   2105          
   2106                  pOutMsg[0]  = LO_UINT16( HCI_EXT_GAP_SIGNATURE_UPDATED_EVENT );
   \   0003F1   8E82         MOV     DPL,R6
   \   0003F3   8F83         MOV     DPH,R7
   \   0003F5   7409         MOV     A,#0x9
   \   0003F7   12....       LCALL   ?Subroutine40 & 0xFFFF
   2107                  pOutMsg[1]  = HI_UINT16( HCI_EXT_GAP_SIGNATURE_UPDATED_EVENT );
   \                     ??CrossCallReturnLabel_83:
   \   0003FA   12....       LCALL   ?Subroutine8 & 0xFFFF
   2108                  pOutMsg[2]  = pPkt->hdr.status;
   2109                  pOutMsg[3]  = pPkt->addrType;
   2110                  VOID osal_memcpy( &(pOutMsg[4]), pPkt->devAddr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_7:
   \   0003FD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000400   12....       LCALL   ?Subroutine82 & 0xFFFF
   \                     ??CrossCallReturnLabel_348:
   \   000403   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000406   7402         MOV     A,#0x2
   \   000408   12....       LCALL   ?DEALLOC_XSTACK8
   2111                  pOutMsg[10] = BREAK_UINT32( pPkt->signCounter, 0 );
   \   00040B   85..82       MOV     DPL,?V4
   \   00040E   85..83       MOV     DPH,?V5
   \   000411   A3           INC     DPTR
   \   000412   A3           INC     DPTR
   \   000413   A3           INC     DPTR
   \   000414   A3           INC     DPTR
   \   000415   A3           INC     DPTR
   \   000416   A3           INC     DPTR
   \   000417   A3           INC     DPTR
   \   000418   A3           INC     DPTR
   \   000419   A3           INC     DPTR
   \   00041A   A3           INC     DPTR
   \   00041B   78..         MOV     R0,#?V0
   \   00041D   12....       LCALL   ?L_MOV_X
   \   000420   8E82         MOV     DPL,R6
   \   000422   8F83         MOV     DPH,R7
   \   000424   A3           INC     DPTR
   \   000425   A3           INC     DPTR
   \   000426   A3           INC     DPTR
   \   000427   A3           INC     DPTR
   \   000428   A3           INC     DPTR
   \   000429   A3           INC     DPTR
   \   00042A   A3           INC     DPTR
   \   00042B   A3           INC     DPTR
   \   00042C   A3           INC     DPTR
   \   00042D   A3           INC     DPTR
   \   00042E   12....       LCALL   ??Subroutine164_0 & 0xFFFF
   2112                  pOutMsg[11] = BREAK_UINT32( pPkt->signCounter, 1 );
   2113                  pOutMsg[12] = BREAK_UINT32( pPkt->signCounter, 2 );
   2114                  pOutMsg[13] = BREAK_UINT32( pPkt->signCounter, 3 );
   2115                  pBuf = pOutMsg;
   2116                  msgLen = 14;
   2117                }
   \                     ??CrossCallReturnLabel_408:
   \   000431   12....       LCALL   ?L_MOV_X
   \   000434   E5..         MOV     A,?V1
   \   000436   F5..         MOV     ?V0,A
   \   000438   EE           MOV     A,R6
   \   000439   240B         ADD     A,#0xb
   \   00043B   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_406:
   \   00043E   12....       LCALL   ?L_MOV_X
   \   000441   7410         MOV     A,#0x10
   \   000443   78..         MOV     R0,#?V0
   \   000445   12....       LCALL   ?UL_SHR
   \   000448   EE           MOV     A,R6
   \   000449   240C         ADD     A,#0xc
   \   00044B   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_407:
   \   00044E   12....       LCALL   ?L_MOV_X
   \   000451   7418         MOV     A,#0x18
   \   000453   78..         MOV     R0,#?V0
   \   000455   12....       LCALL   ?UL_SHR
   \   000458   12....       LCALL   ?Subroutine89 & 0xFFFF
   \                     ??CrossCallReturnLabel_226:
   \   00045B   E5..         MOV     A,?V0
   \   00045D   12....       LCALL   ??Subroutine166_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_422:
   \   000460   740E         MOV     A,#0xe
   \   000462   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2118                break;
   2119          
   2120              case GAP_PASSKEY_NEEDED_EVENT:
   2121                {
   2122                  gapPasskeyNeededEvent_t *pPkt = (gapPasskeyNeededEvent_t *)pMsg;
   2123          
   2124          #if defined ( GAP_BOND_MGR )
   2125                  VOID GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_11:
   \   000465                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   000465   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   2126          #endif
   2127                  pOutMsg[0]  = LO_UINT16( HCI_EXT_GAP_PASSKEY_NEEDED_EVENT );
   \   000468   8E82         MOV     DPL,R6
   \   00046A   8F83         MOV     DPH,R7
   \   00046C   740B         MOV     A,#0xb
   \   00046E   12....       LCALL   ?Subroutine9 & 0xFFFF
   2128                  pOutMsg[1]  = HI_UINT16( HCI_EXT_GAP_PASSKEY_NEEDED_EVENT );
   2129                  pOutMsg[2]  = pPkt->hdr.status;
   2130                  VOID osal_memcpy( &(pOutMsg[3]), pPkt->deviceAddr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_9:
   \   000471                ; Setup parameters for call to function osal_memcpy
   \   000471   75..06       MOV     ?V0,#0x6
   \   000474   75..00       MOV     ?V1,#0x0
   \   000477   78..         MOV     R0,#?V0
   \   000479   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00047C   E5..         MOV     A,?V4
   \   00047E   12....       LCALL   ?Subroutine83 & 0xFFFF
   \                     ??CrossCallReturnLabel_213:
   \   000481   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000484   7402         MOV     A,#0x2
   \   000486   12....       LCALL   ?DEALLOC_XSTACK8
   2131                  pOutMsg[9] = LO_UINT16( pPkt->connectionHandle );
   \   000489   12....       LCALL   ?Subroutine7 & 0xFFFF
   2132                  pOutMsg[10] = HI_UINT16( pPkt->connectionHandle );
   2133                  pOutMsg[11] = pPkt->uiInputs;
   2134                  pOutMsg[12] = pPkt->uiOutputs;
   2135                  pBuf = pOutMsg;
   2136                  msgLen = 13;
   2137                }
   \                     ??CrossCallReturnLabel_5:
   \   00048C   C0E0         PUSH    A
   \   00048E   12....       LCALL   ?Subroutine84 & 0xFFFF
   \                     ??CrossCallReturnLabel_216:
   \   000491   D0E0         POP     A
   \   000493   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000496   C0E0         PUSH    A
   \   000498   12....       LCALL   ?Subroutine88 & 0xFFFF
   \                     ??CrossCallReturnLabel_224:
   \   00049B   D0E0         POP     A
   \   00049D   12....       LCALL   ??Subroutine166_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_423:
   \   0004A0   740D         MOV     A,#0xd
   \   0004A2   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2138                break;
   2139          
   2140              case GAP_AUTHENTICATION_COMPLETE_EVENT:
   2141                {
   2142                  gapAuthCompleteEvent_t *pPkt = (gapAuthCompleteEvent_t *)pMsg;
   2143          
   2144          #if defined ( GAP_BOND_MGR )
   2145                  *pDeallocate = GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_10:
   \   0004A5                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   0004A5   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   \   0004A8   E9           MOV     A,R1
   \   0004A9   85..82       MOV     DPL,?V0
   \   0004AC   85..83       MOV     DPH,?V1
   \   0004AF   F0           MOVX    @DPTR,A
   2146          #endif
   2147          
   2148                  msgLen = 106;
   \   0004B0   85..82       MOV     DPL,?XSP + 0
   \   0004B3   85..83       MOV     DPH,?XSP + 1
   \   0004B6   746A         MOV     A,#0x6a
   \   0004B8   F0           MOVX    @DPTR,A
   2149          
   2150                  pBuf = osal_mem_alloc( msgLen );
   \   0004B9                ; Setup parameters for call to function osal_mem_alloc
   \   0004B9   FA           MOV     R2,A
   \   0004BA   7B00         MOV     R3,#0x0
   \   0004BC   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   0004BF   8A..         MOV     ?V6,R2
   \   0004C1   8B..         MOV     ?V7,R3
   2151                  if ( pBuf )
   \   0004C3   EA           MOV     A,R2
   \   0004C4   45..         ORL     A,?V7
   \   0004C6   7003         JNZ     $+5
   \   0004C8   02....       LJMP    ??processEventsGAP_30 & 0xFFFF
   2152                  {
   2153                    uint8 *buf = pBuf;
   2154          
   2155                    *pAllocated = TRUE;
   \   0004CB   7416         MOV     A,#0x16
   \   0004CD   12....       LCALL   ?XSTACK_DISP0_8
   \   0004D0   12....       LCALL   ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_160:
   \   0004D3   F0           MOVX    @DPTR,A
   2156          
   2157                    VOID osal_memset( buf, 0, msgLen );
   \   0004D4                ; Setup parameters for call to function osal_memset
   \   0004D4   7C6A         MOV     R4,#0x6a
   \   0004D6   7D00         MOV     R5,#0x0
   \   0004D8   7900         MOV     R1,#0x0
   \   0004DA   12....       LCALL   ??osal_memset?relay  ; Banked call to: osal_memset
   2158          
   2159                    *buf++  = LO_UINT16( HCI_EXT_GAP_AUTH_COMPLETE_EVENT );
   \   0004DD   85..82       MOV     DPL,?V6
   \   0004E0   85..83       MOV     DPH,?V7
   \   0004E3   740A         MOV     A,#0xa
   \   0004E5   12....       LCALL   ?Subroutine4 & 0xFFFF
   2160                    *buf++  = HI_UINT16( HCI_EXT_GAP_AUTH_COMPLETE_EVENT );
   2161                    *buf++  = pPkt->hdr.status;
   2162                    *buf++  = LO_UINT16( pPkt->connectionHandle );
   2163                    *buf++  = HI_UINT16( pPkt->connectionHandle );
   2164                    *buf++  = pPkt->authState;
   \                     ??CrossCallReturnLabel_2:
   \   0004E8   85..82       MOV     DPL,?V4
   \   0004EB   85..83       MOV     DPH,?V5
   \   0004EE   A3           INC     DPTR
   \   0004EF   A3           INC     DPTR
   \   0004F0   A3           INC     DPTR
   \   0004F1   A3           INC     DPTR
   \   0004F2   A3           INC     DPTR
   \   0004F3   12....       LCALL   ?Subroutine16 & 0xFFFF
   2165          
   2166                    if ( pPkt->pSecurityInfo )
   \                     ??CrossCallReturnLabel_25:
   \   0004F6   F9           MOV     R1,A
   \   0004F7   E8           MOV     A,R0
   \   0004F8   49           ORL     A,R1
   \   0004F9   604F         JZ      ??processEventsGAP_31
   2167                    {
   2168                      *buf++ = TRUE;
   \   0004FB   8E82         MOV     DPL,R6
   \   0004FD   8F83         MOV     DPH,R7
   \   0004FF   7401         MOV     A,#0x1
   \   000501   12....       LCALL   ?Subroutine99 & 0xFFFF
   2169                      *buf++ = pPkt->pSecurityInfo->keySize;
   \                     ??CrossCallReturnLabel_239:
   \   000504   12....       LCALL   ?Subroutine12 & 0xFFFF
   2170                      VOID osal_memcpy( buf, pPkt->pSecurityInfo->ltk, KEYLEN );
   \                     ??CrossCallReturnLabel_402:
   \   000507   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00050A   85..82       MOV     DPL,?V4
   \   00050D   85..83       MOV     DPH,?V5
   \   000510   12....       LCALL   ??Subroutine143_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_330:
   \   000513   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000516   7402         MOV     A,#0x2
   \   000518   12....       LCALL   ?DEALLOC_XSTACK8
   2171                      buf += KEYLEN;
   \   00051B   EE           MOV     A,R6
   \   00051C   2410         ADD     A,#0x10
   \   00051E   FE           MOV     R6,A
   \   00051F   5001         JNC     ??processEventsGAP_32
   \   000521   0F           INC     R7
   2172                      *buf++ = LO_UINT16( pPkt->pSecurityInfo->div );
   \                     ??processEventsGAP_32:
   \   000522   85..82       MOV     DPL,?V4
   \   000525   85..83       MOV     DPH,?V5
   \   000528   12....       LCALL   ??Subroutine157_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_378:
   \   00052B   12....       LCALL   ?Subroutine16 & 0xFFFF
   2173                      *buf++ = HI_UINT16( pPkt->pSecurityInfo->div );
   \                     ??CrossCallReturnLabel_26:
   \   00052E   12....       LCALL   ?Subroutine35 & 0xFFFF
   2174                      VOID osal_memcpy( buf, pPkt->pSecurityInfo->rand, B_RANDOM_NUM_SIZE );
   \                     ??CrossCallReturnLabel_72:
   \   000531   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000534   85..82       MOV     DPL,?V4
   \   000537   85..83       MOV     DPH,?V5
   \   00053A   12....       LCALL   ?Subroutine62 & 0xFFFF
   \                     ??CrossCallReturnLabel_366:
   \   00053D   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000540   7402         MOV     A,#0x2
   \   000542   12....       LCALL   ?DEALLOC_XSTACK8
   2175                      buf += B_RANDOM_NUM_SIZE;
   \   000545   EE           MOV     A,R6
   \   000546   2408         ADD     A,#0x8
   \   000548   8003         SJMP    ??processEventsGAP_33
   2176                    }
   2177                    else
   2178                    {
   2179                      // Skip securityInfo
   2180                      buf += 1 + KEYLEN + B_RANDOM_NUM_SIZE + 2 + 1;
   \                     ??processEventsGAP_31:
   \   00054A   EE           MOV     A,R6
   \   00054B   241C         ADD     A,#0x1c
   \                     ??processEventsGAP_33:
   \   00054D   FE           MOV     R6,A
   \   00054E   5001         JNC     ??processEventsGAP_34
   \   000550   0F           INC     R7
   2181                    }
   2182          
   2183                    if ( pPkt->pDevSecInfo )
   \                     ??processEventsGAP_34:
   \   000551   85..82       MOV     DPL,?V4
   \   000554   85..83       MOV     DPH,?V5
   \   000557   A3           INC     DPTR
   \   000558   A3           INC     DPTR
   \   000559   12....       LCALL   ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_389:
   \   00055C   605D         JZ      ??processEventsGAP_35
   2184                    {
   2185                      *buf++ = TRUE;
   \   00055E   8E82         MOV     DPL,R6
   \   000560   8F83         MOV     DPH,R7
   \   000562   7401         MOV     A,#0x1
   \   000564   12....       LCALL   ?Subroutine24 & 0xFFFF
   2186                      *buf++ = pPkt->pDevSecInfo->keySize;
   \                     ??CrossCallReturnLabel_43:
   \   000567   12....       LCALL   ?Subroutine12 & 0xFFFF
   2187                      VOID osal_memcpy( buf, pPkt->pDevSecInfo->ltk, KEYLEN );
   \                     ??CrossCallReturnLabel_403:
   \   00056A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00056D   85..82       MOV     DPL,?V4
   \   000570   85..83       MOV     DPH,?V5
   \   000573   A3           INC     DPTR
   \   000574   A3           INC     DPTR
   \   000575   12....       LCALL   ?Subroutine46 & 0xFFFF
   \                     ??CrossCallReturnLabel_331:
   \   000578   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   00057B   7402         MOV     A,#0x2
   \   00057D   12....       LCALL   ?DEALLOC_XSTACK8
   2188                      buf += KEYLEN;
   \   000580   EE           MOV     A,R6
   \   000581   2410         ADD     A,#0x10
   \   000583   FE           MOV     R6,A
   \   000584   5001         JNC     ??processEventsGAP_36
   \   000586   0F           INC     R7
   2189                      *buf++ = LO_UINT16( pPkt->pDevSecInfo->div );
   \                     ??processEventsGAP_36:
   \   000587   85..82       MOV     DPL,?V4
   \   00058A   85..83       MOV     DPH,?V5
   \   00058D   A3           INC     DPTR
   \   00058E   A3           INC     DPTR
   \   00058F   12....       LCALL   ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_379:
   \   000592   12....       LCALL   ??Subroutine153_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_349:
   \   000595   12....       LCALL   ?Subroutine24 & 0xFFFF
   2190                      *buf++ = HI_UINT16( pPkt->pDevSecInfo->div );
   \                     ??CrossCallReturnLabel_44:
   \   000598   12....       LCALL   ?Subroutine129 & 0xFFFF
   \                     ??CrossCallReturnLabel_450:
   \   00059B   12....       LCALL   ?Subroutine35 & 0xFFFF
   2191                      VOID osal_memcpy( buf, pPkt->pDevSecInfo->rand, B_RANDOM_NUM_SIZE );
   \                     ??CrossCallReturnLabel_73:
   \   00059E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005A1   85..82       MOV     DPL,?V4
   \   0005A4   85..83       MOV     DPH,?V5
   \   0005A7   A3           INC     DPTR
   \   0005A8   A3           INC     DPTR
   \   0005A9   A3           INC     DPTR
   \   0005AA   A3           INC     DPTR
   \   0005AB   12....       LCALL   ?Subroutine62 & 0xFFFF
   \                     ??CrossCallReturnLabel_367:
   \   0005AE   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0005B1   7402         MOV     A,#0x2
   \   0005B3   12....       LCALL   ?DEALLOC_XSTACK8
   2192                      buf += B_RANDOM_NUM_SIZE;
   \   0005B6   EE           MOV     A,R6
   \   0005B7   2408         ADD     A,#0x8
   \   0005B9   8003         SJMP    ??processEventsGAP_37
   2193                    }
   2194                    else
   2195                    {
   2196                      // Skip securityInfo
   2197                      buf += 1 + KEYLEN + B_RANDOM_NUM_SIZE + 2 + 1;
   \                     ??processEventsGAP_35:
   \   0005BB   EE           MOV     A,R6
   \   0005BC   241C         ADD     A,#0x1c
   \                     ??processEventsGAP_37:
   \   0005BE   FE           MOV     R6,A
   \   0005BF   5001         JNC     ??processEventsGAP_38
   \   0005C1   0F           INC     R7
   2198                    }
   2199          
   2200                    if ( pPkt->pIdentityInfo )
   \                     ??processEventsGAP_38:
   \   0005C2   12....       LCALL   ?Subroutine86 & 0xFFFF
   \                     ??CrossCallReturnLabel_219:
   \   0005C5   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_386:
   \   0005C8   6042         JZ      ??processEventsGAP_39
   2201                    {
   2202                      *buf++ = TRUE;
   \   0005CA   8E82         MOV     DPL,R6
   \   0005CC   8F83         MOV     DPH,R7
   \   0005CE   7401         MOV     A,#0x1
   \   0005D0   12....       LCALL   ??Subroutine163_0 & 0xFFFF
   2203                      VOID osal_memcpy( buf, pPkt->pIdentityInfo->irk, KEYLEN );
   \                     ??CrossCallReturnLabel_404:
   \   0005D3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005D6   12....       LCALL   ?Subroutine86 & 0xFFFF
   \                     ??CrossCallReturnLabel_220:
   \   0005D9   12....       LCALL   ??Subroutine144_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_328:
   \   0005DC   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0005DF   7402         MOV     A,#0x2
   \   0005E1   12....       LCALL   ?DEALLOC_XSTACK8
   2204                      buf += KEYLEN;
   \   0005E4   EE           MOV     A,R6
   \   0005E5   2410         ADD     A,#0x10
   \   0005E7   FE           MOV     R6,A
   \   0005E8   5001         JNC     ??processEventsGAP_40
   \   0005EA   0F           INC     R7
   2205                      VOID osal_memcpy( buf, pPkt->pIdentityInfo->bd_addr, B_ADDR_LEN );
   \                     ??processEventsGAP_40:
   \   0005EB                ; Setup parameters for call to function osal_memcpy
   \   0005EB   75..06       MOV     ?V0,#0x6
   \   0005EE   78..         MOV     R0,#?V0
   \   0005F0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005F3   E5..         MOV     A,?V4
   \   0005F5   240C         ADD     A,#0xc
   \   0005F7   12....       LCALL   ??Subroutine149_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_342:
   \   0005FA   2410         ADD     A,#0x10
   \   0005FC   12....       LCALL   ??Subroutine155_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_365:
   \   0005FF   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000602   7402         MOV     A,#0x2
   \   000604   12....       LCALL   ?DEALLOC_XSTACK8
   2206                      buf += B_ADDR_LEN;
   \   000607   EE           MOV     A,R6
   \   000608   2406         ADD     A,#0x6
   \   00060A   8003         SJMP    ??processEventsGAP_41
   2207                    }
   2208                    else
   2209                    {
   2210                      // Skip identityInfo
   2211                      buf += KEYLEN + B_ADDR_LEN + 1;
   \                     ??processEventsGAP_39:
   \   00060C   EE           MOV     A,R6
   \   00060D   2417         ADD     A,#0x17
   \                     ??processEventsGAP_41:
   \   00060F   FE           MOV     R6,A
   \   000610   5001         JNC     ??processEventsGAP_42
   \   000612   0F           INC     R7
   2212                    }
   2213          
   2214                    if ( pPkt->pSigningInfo )
   \                     ??processEventsGAP_42:
   \   000613   85..82       MOV     DPL,?V4
   \   000616   85..83       MOV     DPH,?V5
   \   000619   12....       LCALL   ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_390:
   \   00061C   7003         JNZ     $+5
   \   00061E   02....       LJMP    ??processEventsGAP_16 & 0xFFFF
   2215                    {
   2216                      *buf++ = TRUE;
   \   000621   8E82         MOV     DPL,R6
   \   000623   8F83         MOV     DPH,R7
   \   000625   7401         MOV     A,#0x1
   \   000627   12....       LCALL   ??Subroutine163_0 & 0xFFFF
   2217                      VOID osal_memcpy( buf, pPkt->pSigningInfo->srk, KEYLEN );
   \                     ??CrossCallReturnLabel_405:
   \   00062A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00062D   85..82       MOV     DPL,?V4
   \   000630   85..83       MOV     DPH,?V5
   \   000633   12....       LCALL   ?Subroutine46 & 0xFFFF
   \                     ??CrossCallReturnLabel_332:
   \   000636   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000639   7402         MOV     A,#0x2
   \   00063B   12....       LCALL   ?DEALLOC_XSTACK8
   2218                      buf += KEYLEN;
   \   00063E   EE           MOV     A,R6
   \   00063F   2410         ADD     A,#0x10
   \   000641   FE           MOV     R6,A
   \   000642   5001         JNC     ??processEventsGAP_43
   \   000644   0F           INC     R7
   2219                      *buf++ = BREAK_UINT32( pPkt->pSigningInfo->signCounter, 0 );
   \                     ??processEventsGAP_43:
   \   000645   85..82       MOV     DPL,?V4
   \   000648   85..83       MOV     DPH,?V5
   \   00064B   12....       LCALL   ?Subroutine52 & 0xFFFF
   2220                      *buf++ = BREAK_UINT32( pPkt->pSigningInfo->signCounter, 1 );
   2221                      *buf++ = BREAK_UINT32( pPkt->pSigningInfo->signCounter, 2 );
   2222                      *buf = BREAK_UINT32( pPkt->pSigningInfo->signCounter, 3 );
   2223                    }
   2224                  }
   \                     ??CrossCallReturnLabel_380:
   \   00064E   78..         MOV     R0,#?V0
   \   000650   12....       LCALL   ?L_MOV_X
   \   000653   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_425:
   \   000656   12....       LCALL   ?L_MOV_X
   \   000659   E5..         MOV     A,?V1
   \   00065B   8E82         MOV     DPL,R6
   \   00065D   8F83         MOV     DPH,R7
   \   00065F   12....       LCALL   ??Subroutine167_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_427:
   \   000662   12....       LCALL   ?L_MOV_X
   \   000665   7410         MOV     A,#0x10
   \   000667   78..         MOV     R0,#?V0
   \   000669   12....       LCALL   ?UL_SHR
   \   00066C   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_426:
   \   00066F   12....       LCALL   ?L_MOV_X
   \   000672   7418         MOV     A,#0x18
   \   000674   78..         MOV     R0,#?V0
   \   000676   12....       LCALL   ?UL_SHR
   \   000679   8E82         MOV     DPL,R6
   \   00067B   8F83         MOV     DPH,R7
   \   00067D   E5..         MOV     A,?V0
   \   00067F   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2225                  else
   2226                  {
   2227                    pOutMsg[0]  = LO_UINT16( HCI_EXT_GAP_AUTH_COMPLETE_EVENT );
   \                     ??processEventsGAP_30:
   \   000682   8E82         MOV     DPL,R6
   \   000684   8F83         MOV     DPH,R7
   \   000686   740A         MOV     A,#0xa
   \   000688   12....       LCALL   ?Subroutine40 & 0xFFFF
   2228                    pOutMsg[1]  = HI_UINT16( HCI_EXT_GAP_AUTH_COMPLETE_EVENT );
   2229                    pOutMsg[2]  = bleMemAllocError;
   2230                    pOutMsg[3]  = LO_UINT16( pPkt->connectionHandle );
   2231                    pOutMsg[4]  = HI_UINT16( pPkt->connectionHandle );
   2232                    pBuf = pOutMsg;
   2233                    msgLen = 5;
   2234                  }
   2235                }
   \                     ??CrossCallReturnLabel_84:
   \   00068B   12....       LCALL   ??Subroutine139_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_285:
   \   00068E   A3           INC     DPTR
   \   00068F   7413         MOV     A,#0x13
   \   000691   8012         SJMP    ??CrossCallReturnLabel_356
   2236                break;
   2237          
   2238              case GAP_BOND_COMPLETE_EVENT:
   2239                {
   2240                  gapBondCompleteEvent_t *pPkt = (gapBondCompleteEvent_t *)pMsg;
   2241          
   2242          #if defined ( GAP_BOND_MGR )
   2243                  VOID GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_14:
   \   000693                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   000693   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   2244          #endif
   2245          
   2246                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_BOND_COMPLETE_EVENT );
   \   000696   8E82         MOV     DPL,R6
   \   000698   8F83         MOV     DPH,R7
   \   00069A   740E         MOV     A,#0xe
   \   00069C   12....       LCALL   ?Subroutine40 & 0xFFFF
   2247                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_BOND_COMPLETE_EVENT );
   \                     ??CrossCallReturnLabel_85:
   \   00069F   12....       LCALL   ?Subroutine43 & 0xFFFF
   2248                  pOutMsg[2] = pPkt->hdr.status;
   \                     ??CrossCallReturnLabel_91:
   \   0006A2   12....       LCALL   ??Subroutine154_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_356:
   \   0006A5   12....       LCALL   ?Subroutine34 & 0xFFFF
   2249                  pOutMsg[3] = LO_UINT16( pPkt->connectionHandle );
   \                     ??CrossCallReturnLabel_71:
   \   0006A8   8E82         MOV     DPL,R6
   \   0006AA   8F83         MOV     DPH,R7
   \   0006AC   A3           INC     DPTR
   \   0006AD   A3           INC     DPTR
   \   0006AE   A3           INC     DPTR
   \   0006AF   F0           MOVX    @DPTR,A
   2250                  pOutMsg[4] = HI_UINT16( pPkt->connectionHandle );
   \   0006B0   85..82       MOV     DPL,?V4
   \   0006B3   85..83       MOV     DPH,?V5
   2251                  pBuf = pOutMsg;
   2252                  msgLen = 5;
   2253                }
   \                     ??processEventsGAP_26:
   \   0006B6   12....       LCALL   ??Subroutine151_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_353:
   \   0006B9   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_418:
   \   0006BC   7405         MOV     A,#0x5
   \   0006BE   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2254                break;
   2255          
   2256              case GAP_PAIRING_REQ_EVENT:
   2257                {
   2258                  gapPairingReqEvent_t *pPkt = (gapPairingReqEvent_t *)pMsg;
   2259                  uint8 tmp = 0;
   2260          
   2261          #if defined ( GAP_BOND_MGR )
   2262                  VOID GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_15:
   \   0006C1                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   0006C1   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   2263          #endif
   2264          
   2265                  pOutMsg[0] = LO_UINT16( HCI_EXT_GAP_PAIRING_REQ_EVENT );
   \   0006C4   8E82         MOV     DPL,R6
   \   0006C6   8F83         MOV     DPH,R7
   \   0006C8   740F         MOV     A,#0xf
   \   0006CA   12....       LCALL   ?Subroutine40 & 0xFFFF
   2266                  pOutMsg[1] = HI_UINT16( HCI_EXT_GAP_PAIRING_REQ_EVENT );
   \                     ??CrossCallReturnLabel_86:
   \   0006CD   12....       LCALL   ?Subroutine3 & 0xFFFF
   2267                  pOutMsg[2] = pPkt->hdr.status;
   2268                  pOutMsg[3] = LO_UINT16( pPkt->connectionHandle );
   2269                  pOutMsg[4] = HI_UINT16( pPkt->connectionHandle );
   2270                  pOutMsg[5] = pPkt->pairReq.ioCap;
   2271                  pOutMsg[6] = pPkt->pairReq.oobDataFlag;
   \                     ??CrossCallReturnLabel_1:
   \   0006D0   85..82       MOV     DPL,?V4
   \   0006D3   85..83       MOV     DPH,?V5
   \   0006D6   A3           INC     DPTR
   \   0006D7   12....       LCALL   ?Subroutine71 & 0xFFFF
   \                     ??CrossCallReturnLabel_355:
   \   0006DA   12....       LCALL   ?Subroutine26 & 0xFFFF
   2272                  pOutMsg[7] = pPkt->pairReq.authReq;
   \                     ??CrossCallReturnLabel_47:
   \   0006DD   12....       LCALL   ?Subroutine70 & 0xFFFF
   \                     ??CrossCallReturnLabel_190:
   \   0006E0   12....       LCALL   ?Subroutine26 & 0xFFFF
   2273                  pOutMsg[8] = pPkt->pairReq.maxEncKeySize;
   \                     ??CrossCallReturnLabel_48:
   \   0006E3   12....       LCALL   ??Subroutine152_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_352:
   \   0006E6   12....       LCALL   ?Subroutine22 & 0xFFFF
   2274          
   2275                  tmp |= ( pPkt->pairReq.keyDist.sEncKey ) ? KEYDIST_SENC : 0;
   \                     ??CrossCallReturnLabel_40:
   \   0006E9   E0           MOVX    A,@DPTR
   \   0006EA   F8           MOV     R0,A
   \   0006EB   A2E0         MOV     C,0xE0 /* A   */.0
   \   0006ED   E4           CLR     A
   \   0006EE   33           RLC     A
   \   0006EF   F5..         MOV     ?V0,A
   2276                  tmp |= ( pPkt->pairReq.keyDist.sIdKey ) ? KEYDIST_SID : 0;
   \   0006F1   E8           MOV     A,R0
   \   0006F2   5402         ANL     A,#0x2
   \   0006F4   6004         JZ      ??processEventsGAP_44
   \   0006F6   7A02         MOV     R2,#0x2
   \   0006F8   8002         SJMP    ??processEventsGAP_45
   \                     ??processEventsGAP_44:
   \   0006FA   7A00         MOV     R2,#0x0
   \                     ??processEventsGAP_45:
   \   0006FC   EA           MOV     A,R2
   \   0006FD   42..         ORL     ?V0,A
   2277                  tmp |= ( pPkt->pairReq.keyDist.sSign ) ? KEYDIST_SSIGN : 0;
   \   0006FF   E8           MOV     A,R0
   \   000700   5404         ANL     A,#0x4
   \   000702   6004         JZ      ??processEventsGAP_46
   \   000704   7A04         MOV     R2,#0x4
   \   000706   8002         SJMP    ??processEventsGAP_47
   \                     ??processEventsGAP_46:
   \   000708   7A00         MOV     R2,#0x0
   \                     ??processEventsGAP_47:
   \   00070A   EA           MOV     A,R2
   \   00070B   42..         ORL     ?V0,A
   2278                  tmp |= ( pPkt->pairReq.keyDist.mEncKey ) ? KEYDIST_MENC : 0;
   \   00070D   E8           MOV     A,R0
   \   00070E   5408         ANL     A,#0x8
   \   000710   6004         JZ      ??processEventsGAP_48
   \   000712   7A08         MOV     R2,#0x8
   \   000714   8002         SJMP    ??processEventsGAP_49
   \                     ??processEventsGAP_48:
   \   000716   7A00         MOV     R2,#0x0
   \                     ??processEventsGAP_49:
   \   000718   EA           MOV     A,R2
   \   000719   42..         ORL     ?V0,A
   2279                  tmp |= ( pPkt->pairReq.keyDist.mIdKey ) ? KEYDIST_MID : 0;
   \   00071B   E8           MOV     A,R0
   \   00071C   5410         ANL     A,#0x10
   \   00071E   6004         JZ      ??processEventsGAP_50
   \   000720   7A10         MOV     R2,#0x10
   \   000722   8002         SJMP    ??processEventsGAP_51
   \                     ??processEventsGAP_50:
   \   000724   7A00         MOV     R2,#0x0
   \                     ??processEventsGAP_51:
   \   000726   EA           MOV     A,R2
   \   000727   42..         ORL     ?V0,A
   2280                  tmp |= ( pPkt->pairReq.keyDist.mSign ) ? KEYDIST_MSIGN : 0;
   \   000729   E8           MOV     A,R0
   \   00072A   5420         ANL     A,#0x20
   \   00072C   6004         JZ      ??processEventsGAP_52
   \   00072E   7820         MOV     R0,#0x20
   \   000730   8002         SJMP    ??processEventsGAP_53
   \                     ??processEventsGAP_52:
   \   000732   7800         MOV     R0,#0x0
   2281                  pOutMsg[9] = tmp;
   \                     ??processEventsGAP_53:
   \   000734   E8           MOV     A,R0
   \   000735   45..         ORL     A,?V0
   \   000737   8E82         MOV     DPL,R6
   \   000739   8F83         MOV     DPH,R7
   \   00073B   A3           INC     DPTR
   \   00073C   A3           INC     DPTR
   \   00073D   A3           INC     DPTR
   \   00073E   A3           INC     DPTR
   \   00073F   A3           INC     DPTR
   \   000740   A3           INC     DPTR
   \   000741   A3           INC     DPTR
   \   000742   A3           INC     DPTR
   \   000743   A3           INC     DPTR
   \   000744   F0           MOVX    @DPTR,A
   2282          
   2283                  pBuf = pOutMsg;
   \                     ??processEventsGAP_29:
   \   000745   8E..         MOV     ?V6,R6
   \   000747   8F..         MOV     ?V7,R7
   2284                  msgLen = 10;
   \   000749   85..82       MOV     DPL,?XSP + 0
   \   00074C   85..83       MOV     DPH,?XSP + 1
   \   00074F   740A         MOV     A,#0xa
   \   000751   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2285                }
   2286                break;
   2287          
   2288              case GAP_SLAVE_REQUESTED_SECURITY_EVENT:
   2289                {
   2290                  gapSlaveSecurityReqEvent_t *pPkt = (gapSlaveSecurityReqEvent_t *)pMsg;
   2291          
   2292          #if defined ( GAP_BOND_MGR )
   2293                  VOID GAPBondMgr_ProcessGAPMsg( (gapEventHdr_t *)pMsg );
   \                     ??processEventsGAP_12:
   \   000754                ; Setup parameters for call to function GAPBondMgr_ProcessGAPMsg
   \   000754   12....       LCALL   ??GAPBondMgr_ProcessGAPMsg?relay; Banked call to: GAPBondMgr_ProcessGAPMsg
   2294          #endif
   2295          
   2296                  pOutMsg[0]  = LO_UINT16( HCI_EXT_GAP_SLAVE_REQUESTED_SECURITY_EVENT );
   \   000757   8E82         MOV     DPL,R6
   \   000759   8F83         MOV     DPH,R7
   \   00075B   740C         MOV     A,#0xc
   \   00075D   12....       LCALL   ?Subroutine9 & 0xFFFF
   2297                  pOutMsg[1]  = HI_UINT16( HCI_EXT_GAP_SLAVE_REQUESTED_SECURITY_EVENT );
   2298                  pOutMsg[2]  = pPkt->hdr.status;
   2299                  pOutMsg[3]  = LO_UINT16( pPkt->connectionHandle );
   \                     ??CrossCallReturnLabel_10:
   \   000760   85..82       MOV     DPL,?V4
   \   000763   85..83       MOV     DPH,?V5
   \   000766   A3           INC     DPTR
   \   000767   A3           INC     DPTR
   \   000768   12....       LCALL   ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_371:
   \   00076B   12....       LCALL   ?Subroutine43 & 0xFFFF
   2300                  pOutMsg[4]  = HI_UINT16( pPkt->connectionHandle );
   \                     ??CrossCallReturnLabel_92:
   \   00076E   12....       LCALL   ?Subroutine69 & 0xFFFF
   \                     ??CrossCallReturnLabel_358:
   \   000771   12....       LCALL   ?Subroutine41 & 0xFFFF
   2301                  VOID osal_memcpy( &(pOutMsg[5]), pPkt->deviceAddr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_88:
   \   000774   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000777   12....       LCALL   ?Subroutine90 & 0xFFFF
   \                     ??CrossCallReturnLabel_227:
   \   00077A   2405         ADD     A,#0x5
   \   00077C   FA           MOV     R2,A
   \   00077D   E4           CLR     A
   \   00077E   3F           ADDC    A,R7
   \   00077F   FB           MOV     R3,A
   \   000780   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000783   7402         MOV     A,#0x2
   \   000785   12....       LCALL   ?DEALLOC_XSTACK8
   2302                  pOutMsg[11] = pPkt->authReq;
   \   000788   12....       LCALL   ?Subroutine85 & 0xFFFF
   2303                  pBuf = pOutMsg;
   2304                  msgLen = 12;
   2305                }
   \                     ??CrossCallReturnLabel_344:
   \   00078B   C0E0         PUSH    A
   \   00078D   12....       LCALL   ?Subroutine84 & 0xFFFF
   \                     ??CrossCallReturnLabel_217:
   \   000790   D0E0         POP     A
   \   000792   12....       LCALL   ??Subroutine166_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_424:
   \   000795   740C         MOV     A,#0xc
   \   000797   02....       LJMP    ??processEventsGAP_18 & 0xFFFF
   2306                break;
   2307          
   2308              case GAP_DEVICE_INFO_EVENT:
   2309                {
   2310                  gapDeviceInfoEvent_t *pPkt = (gapDeviceInfoEvent_t *)pMsg;
   2311          
   2312                  msgLen = 13 + pPkt->dataLen;
   \                     ??processEventsGAP_13:
   \   00079A   EA           MOV     A,R2
   \   00079B   240C         ADD     A,#0xc
   \   00079D   12....       LCALL   ??Subroutine149_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_343:
   \   0007A0   240D         ADD     A,#0xd
   \   0007A2   85..82       MOV     DPL,?XSP + 0
   \   0007A5   85..83       MOV     DPH,?XSP + 1
   \   0007A8   F0           MOVX    @DPTR,A
   2313          
   2314                  pBuf = osal_mem_alloc( msgLen );
   \   0007A9                ; Setup parameters for call to function osal_mem_alloc
   \   0007A9   FA           MOV     R2,A
   \   0007AA   7B00         MOV     R3,#0x0
   \   0007AC   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   0007AF   8A..         MOV     ?V6,R2
   \   0007B1   8B..         MOV     ?V7,R3
   2315                  if ( pBuf )
   \   0007B3   EA           MOV     A,R2
   \   0007B4   45..         ORL     A,?V7
   \   0007B6   605D         JZ      ??processEventsGAP_54
   2316                  {
   2317                    uint8 *buf = pBuf;
   \   0007B8   AE..         MOV     R6,?V6
   \   0007BA   AF..         MOV     R7,?V7
   2318          
   2319                    // Fill in header
   2320                    *buf++ = LO_UINT16( HCI_EXT_GAP_DEVICE_INFO_EVENT );
   \   0007BC   8E82         MOV     DPL,R6
   \   0007BE   8F83         MOV     DPH,R7
   \   0007C0   740D         MOV     A,#0xd
   \   0007C2   12....       LCALL   ?Subroutine4 & 0xFFFF
   2321                    *buf++ = HI_UINT16( HCI_EXT_GAP_DEVICE_INFO_EVENT );
   2322                    *buf++ = pPkt->hdr.status;
   2323                    *buf++ = pPkt->eventType;
   2324                    *buf++ = pPkt->addrType;
   2325          
   2326                    VOID osal_memcpy( buf, pPkt->addr, B_ADDR_LEN );
   \                     ??CrossCallReturnLabel_3:
   \   0007C5                ; Setup parameters for call to function osal_memcpy
   \   0007C5   75..06       MOV     ?V0,#0x6
   \   0007C8   75..00       MOV     ?V1,#0x0
   \   0007CB   78..         MOV     R0,#?V0
   \   0007CD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0007D0   12....       LCALL   ?Subroutine90 & 0xFFFF
   \                     ??CrossCallReturnLabel_228:
   \   0007D3   FA           MOV     R2,A
   \   0007D4   EF           MOV     A,R7
   \   0007D5   FB           MOV     R3,A
   \   0007D6   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0007D9   7402         MOV     A,#0x2
   \   0007DB   12....       LCALL   ?DEALLOC_XSTACK8
   2327                    buf += B_ADDR_LEN;
   \   0007DE   EE           MOV     A,R6
   \   0007DF   2406         ADD     A,#0x6
   \   0007E1   FE           MOV     R6,A
   \   0007E2   5001         JNC     ??processEventsGAP_55
   \   0007E4   0F           INC     R7
   2328          
   2329                    *buf++ = (uint8)pPkt->rssi;
   \                     ??processEventsGAP_55:
   \   0007E5   12....       LCALL   ?Subroutine85 & 0xFFFF
   \                     ??CrossCallReturnLabel_345:
   \   0007E8   12....       LCALL   ?Subroutine21 & 0xFFFF
   2330                    *buf++ = pPkt->dataLen;
   \                     ??CrossCallReturnLabel_37:
   \   0007EB   12....       LCALL   ?Subroutine21 & 0xFFFF
   2331                    VOID osal_memcpy( buf, pPkt->pEvtData, pPkt->dataLen );
   \                     ??CrossCallReturnLabel_38:
   \   0007EE   F5..         MOV     ?V0,A
   \   0007F0   78..         MOV     R0,#?V0
   \   0007F2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0007F5   E5..         MOV     A,?V4
   \   0007F7   240D         ADD     A,#0xd
   \   0007F9   F582         MOV     DPL,A
   \   0007FB   E4           CLR     A
   \   0007FC   35..         ADDC    A,?V5
   \   0007FE   F583         MOV     DPH,A
   \   000800   12....       LCALL   ??Subroutine144_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_329:
   \   000803   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000806   7402         MOV     A,#0x2
   \   000808   12....       LCALL   ?DEALLOC_XSTACK8
   2332          
   2333                    *pAllocated = TRUE;
   \   00080B   7416         MOV     A,#0x16
   \   00080D   12....       LCALL   ?XSTACK_DISP0_8
   \   000810   12....       LCALL   ?Subroutine56 & 0xFFFF
   2334                  }
   \                     ??CrossCallReturnLabel_161:
   \   000813   8009         SJMP    ??processEventsGAP_18
   2335                  else
   2336                  {
   2337                    pPkt->hdr.status = bleMemAllocError;
   \                     ??processEventsGAP_54:
   \   000815   85..82       MOV     DPL,?V4
   \   000818   85..83       MOV     DPH,?V5
   \   00081B   A3           INC     DPTR
   \                     ??processEventsGAP_28:
   \   00081C   7413         MOV     A,#0x13
   \                     ??processEventsGAP_18:
   \   00081E   F0           MOVX    @DPTR,A
   2338                  }
   2339                }
   2340                break;
   2341          
   2342              default:
   2343                // Unknown command
   2344                break;
   2345            }
   2346          
   2347            *pMsgLen = msgLen;
   \                     ??processEventsGAP_16:
   \   00081F   85..82       MOV     DPL,?XSP + 0
   \   000822   85..83       MOV     DPH,?XSP + 1
   \   000825   E0           MOVX    A,@DPTR
   \   000826   C0E0         PUSH    A
   \   000828   7414         MOV     A,#0x14
   \   00082A   12....       LCALL   ?XSTACK_DISP0_8
   \   00082D   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_177:
   \   000830   D0E0         POP     A
   \   000832   F0           MOVX    @DPTR,A
   2348          
   2349            return ( pBuf );
   \   000833   AA..         MOV     R2,?V6
   \   000835   AB..         MOV     R3,?V7
   \   000837   02....       LJMP    ?Subroutine2 & 0xFFFF
   2350          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine90:
   \   000000   E5..         MOV     A,?V4
   \   000002   2405         ADD     A,#0x5
   \   000004   FC           MOV     R4,A
   \   000005   E4           CLR     A
   \   000006   35..         ADDC    A,?V5
   \   000008   FD           MOV     R5,A
   \   000009   EE           MOV     A,R6
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine89:
   \   000000   EE           MOV     A,R6
   \   000001   240D         ADD     A,#0xd
   \   000003   F582         MOV     DPL,A
   \   000005   E4           CLR     A
   \   000006   3F           ADDC    A,R7
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine88:
   \   000000   EE           MOV     A,R6
   \   000001   240C         ADD     A,#0xc
   \   000003   F582         MOV     DPL,A
   \   000005   E4           CLR     A
   \   000006   3F           ADDC    A,R7
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine87:
   \   000000   F8           MOV     R0,A
   \   000001   E4           CLR     A
   \   000002   35..         ADDC    A,?V5
   \   000004   F9           MOV     R1,A
   \   000005   8882         MOV     DPL,R0
   \   000007   8983         MOV     DPH,R1
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine86:
   \   000000   12....       LCALL   ?Subroutine133 & 0xFFFF
   \                     ??CrossCallReturnLabel_279:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine133:
   \   000000   E5..         MOV     A,?V4
   \   000002   240C         ADD     A,#0xc
   \   000004   F582         MOV     DPL,A
   \   000006   E4           CLR     A
   \   000007   35..         ADDC    A,?V5
   \   000009   F583         MOV     DPH,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine85:
   \   000000   E5..         MOV     A,?V4
   \   000002   240B         ADD     A,#0xb
   \   000004                REQUIRE ??Subroutine149_0
   \   000004                ; // Fall through to label ??Subroutine149_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine149_0:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   35..         ADDC    A,?V5
   \   000005   F583         MOV     DPH,A
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine84:
   \   000000   EE           MOV     A,R6
   \   000001   240B         ADD     A,#0xb
   \   000003   F582         MOV     DPL,A
   \   000005   E4           CLR     A
   \   000006   3F           ADDC    A,R7
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine83:
   \   000000   2403         ADD     A,#0x3
   \   000002   FC           MOV     R4,A
   \   000003   E4           CLR     A
   \   000004   35..         ADDC    A,?V5
   \   000006   FD           MOV     R5,A
   \   000007   EE           MOV     A,R6
   \   000008   2403         ADD     A,#0x3
   \   00000A   FA           MOV     R2,A
   \   00000B   E4           CLR     A
   \   00000C   3F           ADDC    A,R7
   \   00000D   FB           MOV     R3,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine82:
   \   000000   E5..         MOV     A,?V4
   \   000002                REQUIRE ??Subroutine150_0
   \   000002                ; // Fall through to label ??Subroutine150_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine150_0:
   \   000000   2404         ADD     A,#0x4
   \   000002   FC           MOV     R4,A
   \   000003   E4           CLR     A
   \   000004   35..         ADDC    A,?V5
   \   000006   FD           MOV     R5,A
   \   000007   EE           MOV     A,R6
   \   000008   2404         ADD     A,#0x4
   \   00000A   FA           MOV     R2,A
   \   00000B   E4           CLR     A
   \   00000C   3F           ADDC    A,R7
   \   00000D   FB           MOV     R3,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine71:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine151_0
   \   000001                ; // Fall through to label ??Subroutine151_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine151_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003                REQUIRE ??Subroutine152_0
   \   000003                ; // Fall through to label ??Subroutine152_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine152_0:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine153_0
   \   000001                ; // Fall through to label ??Subroutine153_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine153_0:
   \   000000   12....       LCALL   ??Subroutine162_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_401:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine70:
   \   000000   12....       LCALL   ?Subroutine118 & 0xFFFF
   \                     ??CrossCallReturnLabel_360:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine118:
   \   000000   12....       LCALL   ?Subroutine131 & 0xFFFF
   \                     ??CrossCallReturnLabel_364:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine131:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine69:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003                REQUIRE ??Subroutine154_0
   \   000003                ; // Fall through to label ??Subroutine154_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine154_0:
   \   000000   12....       LCALL   ?Subroutine118 & 0xFFFF
   \                     ??CrossCallReturnLabel_361:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine62:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   2412         ADD     A,#0x12
   \   000009                REQUIRE ??Subroutine155_0
   \   000009                ; // Fall through to label ??Subroutine155_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine155_0:
   \   000000   FC           MOV     R4,A
   \   000001   A3           INC     DPTR
   \   000002   E0           MOVX    A,@DPTR
   \   000003   3400         ADDC    A,#0x0
   \   000005   FD           MOV     R5,A
   \   000006   EE           MOV     A,R6
   \   000007   FA           MOV     R2,A
   \   000008   EF           MOV     A,R7
   \   000009   FB           MOV     R3,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine56:
   \   000000   12....       LCALL   ?Subroutine112 & 0xFFFF
   \                     ??CrossCallReturnLabel_259:
   \   000003   7401         MOV     A,#0x1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine55:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine156_0
   \   000001                ; // Fall through to label ??Subroutine156_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine156_0:
   \   000000   12....       LCALL   ?Subroutine117 & 0xFFFF
   \                     ??CrossCallReturnLabel_373:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine117:
   \   000000   12....       LCALL   ?Subroutine130 & 0xFFFF
   \                     ??CrossCallReturnLabel_375:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine130:
   \   000000   12....       LCALL   ?Subroutine137 & 0xFFFF
   \                     ??CrossCallReturnLabel_377:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine137:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine52:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002                REQUIRE ??Subroutine157_0
   \   000002                ; // Fall through to label ??Subroutine157_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine157_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   12....       LCALL   ?Subroutine113 & 0xFFFF
   \                     ??CrossCallReturnLabel_430:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine113:
   \   000000   12....       LCALL   ??Subroutine158_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_452:
   \   000003   12....       LCALL   ?Subroutine132 & 0xFFFF
   \                     ??CrossCallReturnLabel_435:
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine132:
   \   000000   C8           XCH     A,R0
   \   000001   2410         ADD     A,#0x10
   \   000003   F582         MOV     DPL,A
   \   000005   E4           CLR     A
   \   000006   38           ADDC    A,R0
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine129:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004                REQUIRE ??Subroutine158_0
   \   000004                ; // Fall through to label ??Subroutine158_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine158_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002                REQUIRE ??Subroutine159_0
   \   000002                ; // Fall through to label ??Subroutine159_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine48:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008                REQUIRE ??Subroutine160_0
   \   000008                ; // Fall through to label ??Subroutine160_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine43:
   \   000000   12....       LCALL   ?Subroutine107 & 0xFFFF
   \                     ??CrossCallReturnLabel_251:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine107:
   \   000000   12....       LCALL   ?Subroutine127 & 0xFFFF
   \                     ??CrossCallReturnLabel_275:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine127:
   \   000000   12....       LCALL   ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_415:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine138:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?V4
   \   000004   85..83       MOV     DPH,?V5
   \   000007   A3           INC     DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine41:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   F0           MOVX    @DPTR,A
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003   75..06       MOV     ?V0,#0x6
   \   000006   75..00       MOV     ?V1,#0x0
   \   000009   78..         MOV     R0,#?V0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   12....       LCALL   ?Subroutine132 & 0xFFFF
   \                     ??CrossCallReturnLabel_434:
   \   000003   A3           INC     DPTR
   \   000004   12....       LCALL   ?Subroutine101 & 0xFFFF
   \                     ??CrossCallReturnLabel_441:
   \   000007                ; Setup parameters for call to function osal_memcpy
   \   000007                ; Setup parameters for call to function osal_memcpy
   \   000007   75..08       MOV     ?V0,#0x8
   \   00000A   78..         MOV     R0,#?V0
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   12....       LCALL   ?Subroutine100 & 0xFFFF
   \                     ??CrossCallReturnLabel_241:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   12....       LCALL   ?Subroutine104 & 0xFFFF
   \                     ??CrossCallReturnLabel_246:
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   12....       LCALL   ?Subroutine121 & 0xFFFF
   \                     ??CrossCallReturnLabel_270:
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   12....       LCALL   ?Subroutine98 & 0xFFFF
   \                     ??CrossCallReturnLabel_237:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine98:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   12....       LCALL   ?Subroutine126 & 0xFFFF
   \                     ??CrossCallReturnLabel_274:
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   12....       LCALL   ?Subroutine108 & 0xFFFF
   \                     ??CrossCallReturnLabel_256:
   \   000003                REQUIRE ??Subroutine161_0
   \   000003                ; // Fall through to label ??Subroutine161_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine161_0:
   \   000000   12....       LCALL   ?Subroutine106 & 0xFFFF
   \                     ??CrossCallReturnLabel_395:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine106:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   8582..       MOV     ?V2,DPL
   \   000005   8583..       MOV     ?V3,DPH
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   12....       LCALL   ?Subroutine97 & 0xFFFF
   \                     ??CrossCallReturnLabel_235:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine97:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   12....       LCALL   ?Subroutine123 & 0xFFFF
   \                     ??CrossCallReturnLabel_411:
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine123:
   \   000000   12....       LCALL   ?Subroutine135 & 0xFFFF
   \                     ??CrossCallReturnLabel_413:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   12....       LCALL   ?Subroutine98 & 0xFFFF
   \                     ??CrossCallReturnLabel_238:
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   12....       LCALL   ?Subroutine95 & 0xFFFF
   \                     ??CrossCallReturnLabel_233:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine95:
   \   000000   12....       LCALL   ?Subroutine122 & 0xFFFF
   \                     ??CrossCallReturnLabel_432:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine122:
   \   000000   12....       LCALL   ?Subroutine134 & 0xFFFF
   \                     ??CrossCallReturnLabel_436:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   7406         MOV     A,#0x6
   \   000004   12....       LCALL   ?Subroutine105 & 0xFFFF
   \                     ??CrossCallReturnLabel_248:
   \   000007   12....       LCALL   ?Subroutine119 & 0xFFFF
   \                     ??CrossCallReturnLabel_400:
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine119:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine162_0
   \   000001                ; // Fall through to label ??Subroutine162_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine162_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   12....       LCALL   ?Subroutine97 & 0xFFFF
   \                     ??CrossCallReturnLabel_236:
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   12....       LCALL   ??Subroutine168_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_439:
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003   12....       LCALL   ?Subroutine121 & 0xFFFF
   \                     ??CrossCallReturnLabel_269:
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine121:
   \   000000   12....       LCALL   ?Subroutine133 & 0xFFFF
   \                     ??CrossCallReturnLabel_280:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   12....       LCALL   ?Subroutine108 & 0xFFFF
   \                     ??CrossCallReturnLabel_255:
   \   000003   12....       LCALL   ?Subroutine106 & 0xFFFF
   \                     ??CrossCallReturnLabel_394:
   \   000006   85..82       MOV     DPL,?V4
   \   000009   85..83       MOV     DPH,?V5
   \   00000C   A3           INC     DPTR
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   12....       LCALL   ?Subroutine92 & 0xFFFF
   \                     ??CrossCallReturnLabel_231:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine92:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   A3           INC     DPTR
   \   000006   12....       LCALL   ?Subroutine131 & 0xFFFF
   \                     ??CrossCallReturnLabel_363:
   \   000009   A3           INC     DPTR
   \   00000A   12....       LCALL   ?Subroutine136 & 0xFFFF
   \                     ??CrossCallReturnLabel_282:
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   12....       LCALL   ??Subroutine162_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_397:
   \   000003   12....       LCALL   ?Subroutine93 & 0xFFFF
   \                     ??CrossCallReturnLabel_428:
   \   000006   12....       LCALL   ??Subroutine159_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_448:
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   12....       LCALL   ?Subroutine129 & 0xFFFF
   \                     ??CrossCallReturnLabel_451:
   \   000003   C8           XCH     A,R0
   \   000004   241A         ADD     A,#0x1a
   \   000006   F582         MOV     DPL,A
   \   000008   E4           CLR     A
   \   000009   38           ADDC    A,R0
   \   00000A   F583         MOV     DPH,A
   \   00000C   12....       LCALL   ??Subroutine162_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_396:
   \   00000F                REQUIRE ??Subroutine163_0
   \   00000F                ; // Fall through to label ??Subroutine163_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine163_0:
   \   000000   12....       LCALL   ??Subroutine169_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_438:
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003   75..10       MOV     ?V0,#0x10
   \   000006   75..00       MOV     ?V1,#0x0
   \   000009   78..         MOV     R0,#?V0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   7406         MOV     A,#0x6
   \   000004   12....       LCALL   ?Subroutine92 & 0xFFFF
   \                     ??CrossCallReturnLabel_232:
   \   000007   12....       LCALL   ?Subroutine117 & 0xFFFF
   \                     ??CrossCallReturnLabel_372:
   \   00000A   F0           MOVX    @DPTR,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   3F           ADDC    A,R7
   \   000004   F583         MOV     DPH,A
   \   000006                REQUIRE ??Subroutine164_0
   \   000006                ; // Fall through to label ??Subroutine164_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine164_0:
   \   000000   E5..         MOV     A,?V0
   \   000002   12....       LCALL   ?Subroutine94 & 0xFFFF
   \                     ??CrossCallReturnLabel_409:
   \   000005   78..         MOV     R0,#?V0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   7406         MOV     A,#0x6
   \   000004   12....       LCALL   ?Subroutine107 & 0xFFFF
   \                     ??CrossCallReturnLabel_252:
   \   000007   12....       LCALL   ?Subroutine118 & 0xFFFF
   \                     ??CrossCallReturnLabel_359:
   \   00000A   A3           INC     DPTR
   \   00000B   F0           MOVX    @DPTR,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   12....       LCALL   ?Subroutine91 & 0xFFFF
   \                     ??CrossCallReturnLabel_229:
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003                ; Setup parameters for call to function osal_memcpy
   \   000003   75..06       MOV     ?V0,#0x6
   \   000006   75..00       MOV     ?V1,#0x0
   \   000009   78..         MOV     R0,#?V0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   85..82       MOV     DPL,?V4
   \   000003   85..83       MOV     DPH,?V5
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   12....       LCALL   ?Subroutine110 & 0xFFFF
   \                     ??CrossCallReturnLabel_257:
   \   000012   12....       LCALL   ?Subroutine94 & 0xFFFF
   \                     ??CrossCallReturnLabel_410:
   \   000015   12....       LCALL   ?Subroutine110 & 0xFFFF
   \                     ??CrossCallReturnLabel_258:
   \   000018   A3           INC     DPTR
   \   000019   F0           MOVX    @DPTR,A
   \   00001A   E5..         MOV     A,?V4
   \   00001C   240B         ADD     A,#0xb
   \   00001E   F582         MOV     DPL,A
   \   000020   E4           CLR     A
   \   000021   35..         ADDC    A,?V5
   \   000023   F583         MOV     DPH,A
   \   000025   E0           MOVX    A,@DPTR
   \   000026   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine110:
   \   000000   12....       LCALL   ?Subroutine128 & 0xFFFF
   \                     ??CrossCallReturnLabel_277:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine94:
   \   000000   12....       LCALL   ?Subroutine123 & 0xFFFF
   \                     ??CrossCallReturnLabel_412:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002                REQUIRE ??Subroutine165_0
   \   000002                ; // Fall through to label ??Subroutine165_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine165_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002                REQUIRE ??Subroutine166_0
   \   000002                ; // Fall through to label ??Subroutine166_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine166_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E..         MOV     ?V6,R6
   \   000003   8F..         MOV     ?V7,R7
   \   000005   85..82       MOV     DPL,?XSP + 0
   \   000008   85..83       MOV     DPH,?XSP + 1
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004   E5..         MOV     A,?V0
   \   000006                REQUIRE ??Subroutine167_0
   \   000006                ; // Fall through to label ??Subroutine167_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine167_0:
   \   000000   12....       LCALL   ?Subroutine93 & 0xFFFF
   \                     ??CrossCallReturnLabel_429:
   \   000003   12....       LCALL   ?Subroutine113 & 0xFFFF
   \                     ??CrossCallReturnLabel_431:
   \   000006   78..         MOV     R0,#?V0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine93:
   \   000000   12....       LCALL   ?Subroutine122 & 0xFFFF
   \                     ??CrossCallReturnLabel_433:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   7406         MOV     A,#0x6
   \   000004   F0           MOVX    @DPTR,A
   \   000005   A3           INC     DPTR
   \   000006   AE82         MOV     R6,DPL
   \   000008   AF83         MOV     R7,DPH
   \   00000A   85..82       MOV     DPL,?V4
   \   00000D   85..83       MOV     DPH,?V5
   \   000010   12....       LCALL   ?Subroutine119 & 0xFFFF
   \                     ??CrossCallReturnLabel_398:
   \   000013   12....       LCALL   ?Subroutine99 & 0xFFFF
   \                     ??CrossCallReturnLabel_240:
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   12....       LCALL   ?Subroutine119 & 0xFFFF
   \                     ??CrossCallReturnLabel_399:
   \   00001B   12....       LCALL   ?Subroutine95 & 0xFFFF
   \                     ??CrossCallReturnLabel_234:
   \   00001E   12....       LCALL   ?Subroutine101 & 0xFFFF
   \                     ??CrossCallReturnLabel_440:
   \   000021   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine101:
   \   000000   E0           MOVX    A,@DPTR
   \   000001                REQUIRE ??Subroutine168_0
   \   000001                ; // Fall through to label ??Subroutine168_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine168_0:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004                REQUIRE ??Subroutine169_0
   \   000004                ; // Fall through to label ??Subroutine169_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine169_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   0E           INC     R6
   \   000003   AF83         MOV     R7,DPH
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine99:
   \   000000   12....       LCALL   ?Subroutine134 & 0xFFFF
   \                     ??CrossCallReturnLabel_437:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine134:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   0E           INC     R6
   \   000003   AF83         MOV     R7,DPH
   \   000005   85..82       MOV     DPL,?V4
   \   000008   85..83       MOV     DPH,?V5
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ?Subroutine91 & 0xFFFF
   \                     ??CrossCallReturnLabel_230:
   \   000003   85..82       MOV     DPL,?V4
   \   000006   85..83       MOV     DPH,?V5
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   12....       LCALL   ?Subroutine116 & 0xFFFF
   \                     ??CrossCallReturnLabel_264:
   \   00000E   12....       LCALL   ?Subroutine100 & 0xFFFF
   \                     ??CrossCallReturnLabel_242:
   \   000011   12....       LCALL   ?Subroutine116 & 0xFFFF
   \                     ??CrossCallReturnLabel_265:
   \   000014   A3           INC     DPTR
   \   000015   F0           MOVX    @DPTR,A
   \   000016   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine116:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   12....       LCALL   ?Subroutine128 & 0xFFFF
   \                     ??CrossCallReturnLabel_278:
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine128:
   \   000000   12....       LCALL   ?Subroutine137 & 0xFFFF
   \                     ??CrossCallReturnLabel_376:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine100:
   \   000000   12....       LCALL   ?Subroutine124 & 0xFFFF
   \                     ??CrossCallReturnLabel_271:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine124:
   \   000000   12....       LCALL   ?Subroutine135 & 0xFFFF
   \                     ??CrossCallReturnLabel_414:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine135:
   \   000000   12....       LCALL   ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_416:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine91:
   \   000000   12....       LCALL   ?Subroutine127 & 0xFFFF
   \                     ??CrossCallReturnLabel_276:
   \   000003   12....       LCALL   ?Subroutine131 & 0xFFFF
   \                     ??CrossCallReturnLabel_362:
   \   000006   A3           INC     DPTR
   \   000007   12....       LCALL   ?Subroutine124 & 0xFFFF
   \                     ??CrossCallReturnLabel_272:
   \   00000A   12....       LCALL   ?Subroutine130 & 0xFFFF
   \                     ??CrossCallReturnLabel_374:
   \   00000D   F0           MOVX    @DPTR,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine65:
   \   000000   12....       LCALL   ?Subroutine112 & 0xFFFF
   \                     ??CrossCallReturnLabel_261:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine112:
   \   000000   12....       LCALL   ??Subroutine159_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_449:
   \   000003   F583         MOV     DPH,A
   \   000005   8882         MOV     DPL,R0
   \   000007   22           RET
   2351          
   2352          /*********************************************************************
   2353           * @fn      processEventsL2CAP
   2354           *
   2355           * @brief   Process an incoming L2CAP Event messages.
   2356           *
   2357           * @param   pPkt - packet to process
   2358           * @param   pOutMsg - outgoing message to be built
   2359           * @param   pMsgLen - length of outgoing message
   2360           *
   2361           * @return  outgoing message
   2362           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2363          static uint8 *processEventsL2CAP( l2capSignalEvent_t *pPkt, uint8 *pOutMsg, uint8 *pMsgLen )
   \                     processEventsL2CAP:
   2364          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   8C..         MOV     ?V0,R4
   \   00000B   8D..         MOV     ?V1,R5
   2365            uint8 msgLen;
   2366          
   2367            // Build the message header first
   2368            msgLen = buildHCIExtHeader( pOutMsg, (HCI_EXT_L2CAP_EVENT | pPkt->opcode),
   2369                                        pPkt->hdr.status, pPkt->connHandle );
   \   00000D   EE           MOV     A,R6
   \   00000E   2405         ADD     A,#0x5
   \   000010   F5..         MOV     ?V6,A
   \   000012   E4           CLR     A
   \   000013   3F           ADDC    A,R7
   \   000014   F5..         MOV     ?V7,A
   \   000016   8E82         MOV     DPL,R6
   \   000018   8F83         MOV     DPH,R7
   \   00001A   A3           INC     DPTR
   \   00001B   8582..       MOV     ?V4,DPL
   \   00001E   8583..       MOV     ?V5,DPH
   \   000021                ; Setup parameters for call to function buildHCIExtHeader
   \   000021   8E82         MOV     DPL,R6
   \   000023   8F83         MOV     DPH,R7
   \   000025   A3           INC     DPTR
   \   000026   A3           INC     DPTR
   \   000027   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00002A   12....       LCALL   ?Subroutine76 & 0xFFFF
   \                     ??CrossCallReturnLabel_199:
   \   00002D   4480         ORL     A,#0x80
   \   00002F   FC           MOV     R4,A
   \   000030   7D04         MOV     R5,#0x4
   \   000032   AA..         MOV     R2,?V0
   \   000034   AB..         MOV     R3,?V1
   \   000036   12....       LCALL   ??buildHCIExtHeader?relay; Banked call to: buildHCIExtHeader
   \   000039   7402         MOV     A,#0x2
   \   00003B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00003E   E9           MOV     A,R1
   \   00003F   F5..         MOV     ?V2,A
   2370          
   2371            if ( pPkt->hdr.status == SUCCESS )
   \   000041   85..82       MOV     DPL,?V4
   \   000044   85..83       MOV     DPH,?V5
   \   000047   E0           MOVX    A,@DPTR
   \   000048   7035         JNZ     ??processEventsL2CAP_0
   2372            {
   2373              // Build the message
   2374              switch ( pPkt->opcode )
   \   00004A   E5..         MOV     A,?V0
   \   00004C   29           ADD     A,R1
   \   00004D   FA           MOV     R2,A
   \   00004E   E4           CLR     A
   \   00004F   35..         ADDC    A,?V1
   \   000051   FB           MOV     R3,A
   \   000052   EE           MOV     A,R6
   \   000053   2406         ADD     A,#0x6
   \   000055   FC           MOV     R4,A
   \   000056   E4           CLR     A
   \   000057   3F           ADDC    A,R7
   \   000058   FD           MOV     R5,A
   \   000059   85..82       MOV     DPL,?V6
   \   00005C   85..83       MOV     DPH,?V7
   \   00005F   E0           MOVX    A,@DPTR
   \   000060   14           DEC     A
   \   000061   600A         JZ      ??processEventsL2CAP_1
   \   000063   24F6         ADD     A,#-0xa
   \   000065   600B         JZ      ??processEventsL2CAP_2
   \   000067   24F8         ADD     A,#-0x8
   \   000069   600C         JZ      ??processEventsL2CAP_3
   \   00006B   8012         SJMP    ??processEventsL2CAP_0
   2375              {
   2376                case L2CAP_CMD_REJECT:
   2377                  msgLen += L2CAP_BuildCmdReject( &pOutMsg[msgLen], (uint8 *)&(pPkt->cmd.cmdReject) );
   \                     ??processEventsL2CAP_1:
   \   00006D                ; Setup parameters for call to function L2CAP_BuildCmdReject
   \   00006D   12....       LCALL   ??L2CAP_BuildCmdReject?relay; Banked call to: L2CAP_BuildCmdReject
   \   000070   8008         SJMP    ??processEventsL2CAP_4
   2378                  break;
   2379          
   2380                case L2CAP_INFO_RSP:
   2381                  msgLen += L2CAP_BuildInfoRsp( &pOutMsg[msgLen], (uint8 *)&(pPkt->cmd.infoRsp) );
   \                     ??processEventsL2CAP_2:
   \   000072                ; Setup parameters for call to function L2CAP_BuildInfoRsp
   \   000072   12....       LCALL   ??L2CAP_BuildInfoRsp?relay; Banked call to: L2CAP_BuildInfoRsp
   \   000075   8003         SJMP    ??processEventsL2CAP_4
   2382                  break;
   2383          
   2384                case L2CAP_PARAM_UPDATE_RSP:
   2385                  msgLen += L2CAP_BuildParamUpdateRsp( &pOutMsg[msgLen], (uint8 *)&(pPkt->cmd.updateRsp) );
   \                     ??processEventsL2CAP_3:
   \   000077                ; Setup parameters for call to function L2CAP_BuildParamUpdateRsp
   \   000077   12....       LCALL   ??L2CAP_BuildParamUpdateRsp?relay; Banked call to: L2CAP_BuildParamUpdateRsp
   \                     ??processEventsL2CAP_4:
   \   00007A   EA           MOV     A,R2
   \   00007B   25..         ADD     A,?V2
   \   00007D   F5..         MOV     ?V2,A
   2386                  break;
   2387          
   2388                default:
   2389                  // Unknown command
   2390                  break;
   2391              }
   2392            }
   2393          
   2394            *pMsgLen = msgLen;
   \                     ??processEventsL2CAP_0:
   \   00007F   7410         MOV     A,#0x10
   \   000081   12....       LCALL   ?XSTACK_DISP0_8
   \   000084   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_178:
   \   000087   E5..         MOV     A,?V2
   \   000089   F0           MOVX    @DPTR,A
   2395          
   2396            return ( pOutMsg );
   \   00008A   AA..         MOV     R2,?V0
   \   00008C   AB..         MOV     R3,?V1
   \   00008E   02....       LJMP    ??Subroutine146_0 & 0xFFFF
   2397          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine76:
   \   000000   85..82       MOV     DPL,?V4
   \   000003   85..83       MOV     DPH,?V5
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F9           MOV     R1,A
   \   000008   85..82       MOV     DPL,?V6
   \   00000B   85..83       MOV     DPH,?V7
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   22           RET
   2398          
   2399          /*********************************************************************
   2400           * @fn      processEventsGATT
   2401           *
   2402           * @brief   Process an incoming GATT Event messages.
   2403           *
   2404           * @param   pPkt - packet to process
   2405           * @param   pMsg - outgoing message to be built
   2406           * @param   pMsgLen - length of outgoing message
   2407           * @param   pAllocated - whether outgoing message is locally allocated
   2408           *
   2409           * @return  outgoing message
   2410           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2411          static uint8 *processEventsGATT( gattMsgEvent_t *pPkt, uint8 *pMsg, uint8 *pMsgLen, uint8 *pAllocated )
   \                     processEventsGATT:
   2412          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0,R2
   \   000007   8B..         MOV     ?V1,R3
   \   000009   8C..         MOV     ?V2,R4
   \   00000B   8D..         MOV     ?V3,R5
   2413            uint8 hdrLen = HCI_EXT_HDR_LEN + 1; // hdr + event length
   2414            uint8 msgLen = 0;
   \   00000D   7E00         MOV     R6,#0x0
   2415            uint8 *pBuf = pMsg;
   2416          
   2417            *pAllocated = FALSE;
   \   00000F   7412         MOV     A,#0x12
   \   000011   12....       LCALL   ?XSTACK_DISP0_8
   \   000014   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_179:
   \   000017   E4           CLR     A
   \   000018   F0           MOVX    @DPTR,A
   2418          
   2419            if ( pPkt->hdr.status == SUCCESS )
   \   000019   EA           MOV     A,R2
   \   00001A   2404         ADD     A,#0x4
   \   00001C   F5..         MOV     ?V6,A
   \   00001E   E4           CLR     A
   \   00001F   35..         ADDC    A,?V1
   \   000021   F5..         MOV     ?V7,A
   \   000023   8A82         MOV     DPL,R2
   \   000025   8B83         MOV     DPH,R3
   \   000027   A3           INC     DPTR
   \   000028   8582..       MOV     ?V4,DPL
   \   00002B   8583..       MOV     ?V5,DPH
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   6003         JZ      $+5
   \   000031   02....       LJMP    ??processEventsGATT_0 & 0xFFFF
   2420            {
   2421              // Build the message first
   2422              switch ( pPkt->method )
   \   000034   EC           MOV     A,R4
   \   000035   2406         ADD     A,#0x6
   \   000037   FA           MOV     R2,A
   \   000038   E4           CLR     A
   \   000039   35..         ADDC    A,?V3
   \   00003B   FB           MOV     R3,A
   \   00003C   E5..         MOV     A,?V0
   \   00003E   2405         ADD     A,#0x5
   \   000040   FC           MOV     R4,A
   \   000041   E4           CLR     A
   \   000042   35..         ADDC    A,?V1
   \   000044   FD           MOV     R5,A
   \   000045   85..82       MOV     DPL,?V6
   \   000048   85..83       MOV     DPH,?V7
   \   00004B   E0           MOVX    A,@DPTR
   \   00004C   14           DEC     A
   \   00004D   605A         JZ      ??processEventsGATT_1
   \   00004F   14           DEC     A
   \   000050   605D         JZ      ??processEventsGATT_2
   \   000052   14           DEC     A
   \   000053   6060         JZ      ??processEventsGATT_3
   \   000055   14           DEC     A
   \   000056   6063         JZ      ??processEventsGATT_4
   \   000058   14           DEC     A
   \   000059   6066         JZ      ??processEventsGATT_5
   \   00005B   14           DEC     A
   \   00005C   6069         JZ      ??processEventsGATT_6
   \   00005E   14           DEC     A
   \   00005F   606B         JZ      ??processEventsGATT_7
   \   000061   14           DEC     A
   \   000062   7003         JNZ     $+5
   \   000064   02....       LJMP    ??processEventsGATT_8 & 0xFFFF
   \   000067   14           DEC     A
   \   000068   6067         JZ      ??processEventsGATT_9
   \   00006A   14           DEC     A
   \   00006B   6069         JZ      ??processEventsGATT_10
   \   00006D   14           DEC     A
   \   00006E   606B         JZ      ??processEventsGATT_11
   \   000070   14           DEC     A
   \   000071   606D         JZ      ??processEventsGATT_12
   \   000073   14           DEC     A
   \   000074   606F         JZ      ??processEventsGATT_13
   \   000076   14           DEC     A
   \   000077   6071         JZ      ??processEventsGATT_14
   \   000079   14           DEC     A
   \   00007A   6073         JZ      ??processEventsGATT_15
   \   00007C   14           DEC     A
   \   00007D   6075         JZ      ??processEventsGATT_8
   \   00007F   14           DEC     A
   \   000080   6077         JZ      ??processEventsGATT_16
   \   000082   14           DEC     A
   \   000083   6079         JZ      ??processEventsGATT_17
   \   000085   24FC         ADD     A,#-0x4
   \   000087   7003         JNZ     $+5
   \   000089   02....       LJMP    ??processEventsGATT_18 & 0xFFFF
   \   00008C   14           DEC     A
   \   00008D   7003         JNZ     $+5
   \   00008F   02....       LJMP    ??processEventsGATT_19 & 0xFFFF
   \   000092   14           DEC     A
   \   000093   7003         JNZ     $+5
   \   000095   02....       LJMP    ??processEventsGATT_20 & 0xFFFF
   \   000098   24FD         ADD     A,#-0x3
   \   00009A   7003         JNZ     $+5
   \   00009C   02....       LJMP    ??processEventsGATT_21 & 0xFFFF
   \   00009F   24FE         ADD     A,#-0x2
   \   0000A1   7003         JNZ     $+5
   \   0000A3   02....       LJMP    ??processEventsGATT_21 & 0xFFFF
   \   0000A6   02....       LJMP    ??processEventsGATT_0 & 0xFFFF
   2423              {
   2424                case ATT_ERROR_RSP:
   2425                  msgLen = ATT_BuildErrorRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.errorRsp) );
   \                     ??processEventsGATT_1:
   \   0000A9                ; Setup parameters for call to function ATT_BuildErrorRsp
   \   0000A9   12....       LCALL   ??ATT_BuildErrorRsp?relay; Banked call to: ATT_BuildErrorRsp
   \   0000AC   02....       LJMP    ??processEventsGATT_22 & 0xFFFF
   2426                  break;
   2427          
   2428                case ATT_EXCHANGE_MTU_REQ:
   2429                  msgLen = ATT_BuildExchangeMTUReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.exchangeMTUReq) );
   \                     ??processEventsGATT_2:
   \   0000AF                ; Setup parameters for call to function ATT_BuildExchangeMTUReq
   \   0000AF   12....       LCALL   ??ATT_BuildExchangeMTUReq?relay; Banked call to: ATT_BuildExchangeMTUReq
   \   0000B2   02....       LJMP    ??processEventsGATT_22 & 0xFFFF
   2430                  break;
   2431          
   2432                case ATT_EXCHANGE_MTU_RSP:
   2433                  msgLen = ATT_BuildExchangeMTURsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.exchangeMTURsp) );
   \                     ??processEventsGATT_3:
   \   0000B5                ; Setup parameters for call to function ATT_BuildExchangeMTURsp
   \   0000B5   12....       LCALL   ??ATT_BuildExchangeMTURsp?relay; Banked call to: ATT_BuildExchangeMTURsp
   \   0000B8   02....       LJMP    ??processEventsGATT_22 & 0xFFFF
   2434                  break;
   2435          
   2436                case ATT_FIND_INFO_REQ:
   2437                  msgLen = ATT_BuildFindInfoReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.findInfoReq) );
   \                     ??processEventsGATT_4:
   \   0000BB                ; Setup parameters for call to function ATT_BuildFindInfoReq
   \   0000BB   12....       LCALL   ??ATT_BuildFindInfoReq?relay; Banked call to: ATT_BuildFindInfoReq
   \   0000BE   02....       LJMP    ??processEventsGATT_22 & 0xFFFF
   2438                  break;
   2439          
   2440                case ATT_FIND_INFO_RSP:
   2441                  msgLen = ATT_BuildFindInfoRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.findInfoRsp) );
   \                     ??processEventsGATT_5:
   \   0000C1                ; Setup parameters for call to function ATT_BuildFindInfoRsp
   \   0000C1   12....       LCALL   ??ATT_BuildFindInfoRsp?relay; Banked call to: ATT_BuildFindInfoRsp
   \   0000C4   02....       LJMP    ??processEventsGATT_22 & 0xFFFF
   2442                  break;
   2443          
   2444                case ATT_FIND_BY_TYPE_VALUE_REQ:
   2445                  msgLen = ATT_BuildFindByTypeValueReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.findByTypeValueReq) );
   \                     ??processEventsGATT_6:
   \   0000C7                ; Setup parameters for call to function ATT_BuildFindByTypeValueReq
   \   0000C7   12....       LCALL   ??ATT_BuildFindByTypeValueReq?relay; Banked call to: ATT_BuildFindByTypeValueReq
   \   0000CA   807C         SJMP    ??processEventsGATT_22
   2446                  break;
   2447          
   2448                case ATT_FIND_BY_TYPE_VALUE_RSP:
   2449                  msgLen = ATT_BuildFindByTypeValueRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.findByTypeValueRsp) );
   \                     ??processEventsGATT_7:
   \   0000CC                ; Setup parameters for call to function ATT_BuildFindByTypeValueRsp
   \   0000CC   12....       LCALL   ??ATT_BuildFindByTypeValueRsp?relay; Banked call to: ATT_BuildFindByTypeValueRsp
   \   0000CF   8077         SJMP    ??processEventsGATT_22
   2450                  break;
   2451          
   2452                case ATT_READ_BY_TYPE_REQ:
   2453                  msgLen = ATT_BuildReadByTypeReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readByTypeReq) );
   2454                  break;
   2455          
   2456                case ATT_READ_BY_TYPE_RSP:
   2457                  msgLen = ATT_BuildReadByTypeRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readByTypeRsp) );
   \                     ??processEventsGATT_9:
   \   0000D1                ; Setup parameters for call to function ATT_BuildReadByTypeRsp
   \   0000D1   12....       LCALL   ??ATT_BuildReadByTypeRsp?relay; Banked call to: ATT_BuildReadByTypeRsp
   \   0000D4   8072         SJMP    ??processEventsGATT_22
   2458                  break;
   2459          
   2460                case ATT_READ_REQ:
   2461                  msgLen = ATT_BuildReadReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readReq) );
   \                     ??processEventsGATT_10:
   \   0000D6                ; Setup parameters for call to function ATT_BuildReadReq
   \   0000D6   12....       LCALL   ??ATT_BuildReadReq?relay; Banked call to: ATT_BuildReadReq
   \   0000D9   806D         SJMP    ??processEventsGATT_22
   2462                  break;
   2463          
   2464                case ATT_READ_RSP:
   2465                  msgLen = ATT_BuildReadRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readRsp) );
   \                     ??processEventsGATT_11:
   \   0000DB                ; Setup parameters for call to function ATT_BuildReadRsp
   \   0000DB   12....       LCALL   ??ATT_BuildReadRsp?relay; Banked call to: ATT_BuildReadRsp
   \   0000DE   8068         SJMP    ??processEventsGATT_22
   2466                  break;
   2467          
   2468                case ATT_READ_BLOB_REQ:
   2469                  msgLen = ATT_BuildReadBlobReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readBlobReq) );
   \                     ??processEventsGATT_12:
   \   0000E0                ; Setup parameters for call to function ATT_BuildReadBlobReq
   \   0000E0   12....       LCALL   ??ATT_BuildReadBlobReq?relay; Banked call to: ATT_BuildReadBlobReq
   \   0000E3   8063         SJMP    ??processEventsGATT_22
   2470                  break;
   2471          
   2472                case ATT_READ_BLOB_RSP:
   2473                  msgLen = ATT_BuildReadBlobRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readBlobRsp) );
   \                     ??processEventsGATT_13:
   \   0000E5                ; Setup parameters for call to function ATT_BuildReadBlobRsp
   \   0000E5   12....       LCALL   ??ATT_BuildReadBlobRsp?relay; Banked call to: ATT_BuildReadBlobRsp
   \   0000E8   805E         SJMP    ??processEventsGATT_22
   2474                  break;
   2475          
   2476                case ATT_READ_MULTI_REQ:
   2477                  msgLen = ATT_BuildReadMultiReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readMultiReq) );
   \                     ??processEventsGATT_14:
   \   0000EA                ; Setup parameters for call to function ATT_BuildReadMultiReq
   \   0000EA   12....       LCALL   ??ATT_BuildReadMultiReq?relay; Banked call to: ATT_BuildReadMultiReq
   \   0000ED   8059         SJMP    ??processEventsGATT_22
   2478                  break;
   2479          
   2480                case ATT_READ_MULTI_RSP:
   2481                  msgLen = ATT_BuildReadMultiRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readMultiRsp) );
   \                     ??processEventsGATT_15:
   \   0000EF                ; Setup parameters for call to function ATT_BuildReadMultiRsp
   \   0000EF   12....       LCALL   ??ATT_BuildReadMultiRsp?relay; Banked call to: ATT_BuildReadMultiRsp
   \   0000F2   8054         SJMP    ??processEventsGATT_22
   2482                  break;
   2483          
   2484                case ATT_READ_BY_GRP_TYPE_REQ:
   2485                  msgLen = ATT_BuildReadByTypeReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readByGrpTypeReq) );
   \                     ??processEventsGATT_8:
   \   0000F4                ; Setup parameters for call to function ATT_BuildReadByTypeReq
   \   0000F4   12....       LCALL   ??ATT_BuildReadByTypeReq?relay; Banked call to: ATT_BuildReadByTypeReq
   \   0000F7   804F         SJMP    ??processEventsGATT_22
   2486                  break;
   2487          
   2488                case ATT_READ_BY_GRP_TYPE_RSP:
   2489                  msgLen = ATT_BuildReadByGrpTypeRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.readByGrpTypeRsp) );
   \                     ??processEventsGATT_16:
   \   0000F9                ; Setup parameters for call to function ATT_BuildReadByGrpTypeRsp
   \   0000F9   12....       LCALL   ??ATT_BuildReadByGrpTypeRsp?relay; Banked call to: ATT_BuildReadByGrpTypeRsp
   \   0000FC   804A         SJMP    ??processEventsGATT_22
   2490                  break;
   2491          
   2492                case ATT_WRITE_REQ:
   2493                  pMsg[hdrLen] = pPkt->msg.writeReq.sig;
   \                     ??processEventsGATT_17:
   \   0000FE   E5..         MOV     A,?V0
   \   000100   241C         ADD     A,#0x1c
   \   000102   F582         MOV     DPL,A
   \   000104   E4           CLR     A
   \   000105   35..         ADDC    A,?V1
   \   000107   F583         MOV     DPH,A
   \   000109   E0           MOVX    A,@DPTR
   \   00010A   8A82         MOV     DPL,R2
   \   00010C   8B83         MOV     DPH,R3
   \   00010E   F0           MOVX    @DPTR,A
   2494                  pMsg[hdrLen+1] = pPkt->msg.writeReq.cmd;
   \   00010F   E5..         MOV     A,?V0
   \   000111   241D         ADD     A,#0x1d
   \   000113   F582         MOV     DPL,A
   \   000115   E4           CLR     A
   \   000116   35..         ADDC    A,?V1
   \   000118   F583         MOV     DPH,A
   \   00011A   12....       LCALL   ?Subroutine108 & 0xFFFF
   \                     ??CrossCallReturnLabel_254:
   \   00011D   A3           INC     DPTR
   \   00011E   A3           INC     DPTR
   \   00011F   A3           INC     DPTR
   \   000120   A3           INC     DPTR
   \   000121   A3           INC     DPTR
   \   000122   A3           INC     DPTR
   \   000123   A3           INC     DPTR
   \   000124   F0           MOVX    @DPTR,A
   2495                  msgLen = 2;
   2496                  msgLen += ATT_BuildWriteReq( &pMsg[hdrLen+2], (uint8 *)&(pPkt->msg.writeReq) );
   \   000125                ; Setup parameters for call to function ATT_BuildWriteReq
   \   000125   E5..         MOV     A,?V2
   \   000127   2408         ADD     A,#0x8
   \   000129   FA           MOV     R2,A
   \   00012A   E4           CLR     A
   \   00012B   35..         ADDC    A,?V3
   \   00012D   FB           MOV     R3,A
   \   00012E   12....       LCALL   ??ATT_BuildWriteReq?relay; Banked call to: ATT_BuildWriteReq
   \   000131   EA           MOV     A,R2
   \   000132   2402         ADD     A,#0x2
   \   000134   8013         SJMP    ??processEventsGATT_23
   2497                  break;
   2498          
   2499                case ATT_WRITE_RSP:
   2500                  msgLen = 0;
   2501                  break;
   2502          
   2503                case ATT_PREPARE_WRITE_REQ:
   2504                  msgLen = ATT_BuildPrepareWriteReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.prepareWriteReq) );
   \                     ??processEventsGATT_18:
   \   000136                ; Setup parameters for call to function ATT_BuildPrepareWriteReq
   \   000136   12....       LCALL   ??ATT_BuildPrepareWriteReq?relay; Banked call to: ATT_BuildPrepareWriteReq
   \   000139   800D         SJMP    ??processEventsGATT_22
   2505                  break;
   2506          
   2507                case ATT_PREPARE_WRITE_RSP:
   2508                  msgLen = ATT_BuildPrepareWriteRsp( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.prepareWriteRsp) );
   \                     ??processEventsGATT_19:
   \   00013B                ; Setup parameters for call to function ATT_BuildPrepareWriteRsp
   \   00013B   12....       LCALL   ??ATT_BuildPrepareWriteRsp?relay; Banked call to: ATT_BuildPrepareWriteRsp
   \   00013E   8008         SJMP    ??processEventsGATT_22
   2509                  break;
   2510          
   2511                case ATT_EXECUTE_WRITE_REQ:
   2512                  msgLen = ATT_BuildExecuteWriteReq( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.executeWriteReq) );
   \                     ??processEventsGATT_20:
   \   000140                ; Setup parameters for call to function ATT_BuildExecuteWriteReq
   \   000140   12....       LCALL   ??ATT_BuildExecuteWriteReq?relay; Banked call to: ATT_BuildExecuteWriteReq
   \   000143   8003         SJMP    ??processEventsGATT_22
   2513                  break;
   2514          
   2515                case ATT_EXECUTE_WRITE_RSP:
   2516                  msgLen = 0;
   2517                  break;
   2518          
   2519                case ATT_HANDLE_VALUE_IND:
   2520                case ATT_HANDLE_VALUE_NOTI:
   2521                  msgLen = ATT_BuildHandleValueInd( &pMsg[hdrLen], (uint8 *)&(pPkt->msg.handleValueInd) );
   \                     ??processEventsGATT_21:
   \   000145                ; Setup parameters for call to function ATT_BuildHandleValueInd
   \   000145   12....       LCALL   ??ATT_BuildHandleValueInd?relay; Banked call to: ATT_BuildHandleValueInd
   \                     ??processEventsGATT_22:
   \   000148   EA           MOV     A,R2
   \                     ??processEventsGATT_23:
   \   000149   FE           MOV     R6,A
   2522                  break;
   2523          
   2524                case ATT_HANDLE_VALUE_CFM:
   2525                  msgLen = 0;
   2526                  break;
   2527          
   2528                default:
   2529                  // Unknown command
   2530                  msgLen = 0;
   2531                  break;
   2532              }
   2533            }
   2534          
   2535            // Build the message header
   2536            VOID buildHCIExtHeader( pBuf, (HCI_EXT_ATT_EVENT | pPkt->method), pPkt->hdr.status, pPkt->connHandle );
   \                     ??processEventsGATT_0:
   \   00014A                ; Setup parameters for call to function buildHCIExtHeader
   \   00014A   85..82       MOV     DPL,?V0
   \   00014D   85..83       MOV     DPH,?V1
   \   000150   A3           INC     DPTR
   \   000151   A3           INC     DPTR
   \   000152   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000155   12....       LCALL   ?Subroutine76 & 0xFFFF
   \                     ??CrossCallReturnLabel_200:
   \   000158   FC           MOV     R4,A
   \   000159   7D05         MOV     R5,#0x5
   \   00015B   AA..         MOV     R2,?V2
   \   00015D   AB..         MOV     R3,?V3
   \   00015F   12....       LCALL   ??buildHCIExtHeader?relay; Banked call to: buildHCIExtHeader
   \   000162   7402         MOV     A,#0x2
   \   000164   12....       LCALL   ?DEALLOC_XSTACK8
   2537          
   2538            // Add the event (PDU) length for GATT events for now!
   2539            pBuf[HCI_EXT_HDR_LEN] = msgLen;
   \   000167   EE           MOV     A,R6
   \   000168   85..82       MOV     DPL,?V2
   \   00016B   85..83       MOV     DPH,?V3
   \   00016E   A3           INC     DPTR
   \   00016F   A3           INC     DPTR
   \   000170   A3           INC     DPTR
   \   000171   A3           INC     DPTR
   \   000172   A3           INC     DPTR
   \   000173   F0           MOVX    @DPTR,A
   2540          
   2541            *pMsgLen = hdrLen + msgLen;
   \   000174   7406         MOV     A,#0x6
   \   000176   2E           ADD     A,R6
   \   000177   C0E0         PUSH    A
   \   000179   7410         MOV     A,#0x10
   \   00017B   12....       LCALL   ?XSTACK_DISP0_8
   \   00017E   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_180:
   \   000181   D0E0         POP     A
   \   000183   F0           MOVX    @DPTR,A
   2542          
   2543            // Notify GATT that a message has been processed
   2544            // Note: This call is optional if flow control is not used.
   2545            GATT_AppCompletedMsg( pPkt );
   \   000184                ; Setup parameters for call to function GATT_AppCompletedMsg
   \   000184   AA..         MOV     R2,?V0
   \   000186   AB..         MOV     R3,?V1
   \   000188   12....       LCALL   ??GATT_AppCompletedMsg?relay; Banked call to: GATT_AppCompletedMsg
   2546          
   2547            return ( pBuf );
   \   00018B   AA..         MOV     R2,?V2
   \   00018D   AB..         MOV     R3,?V3
   \   00018F   02....       LJMP    ??Subroutine146_0 & 0xFFFF
   2548          }
   2549          
   2550          #ifndef GATT_DB_OFF_CHIP
   2551          /*********************************************************************
   2552           * @fn      processEventsGATTServ
   2553           *
   2554           * @brief   Process an incoming GATT Server Event messages.
   2555           *
   2556           * @param   pPkt - packet to process
   2557           * @param   pMsg - outgoing message to be built
   2558           * @param   pMsgLen - length of outgoing message
   2559           *
   2560           * @return  outgoing message
   2561           */
   2562          static uint8 *processEventsGATTServ( gattEventHdr_t *pPkt, uint8 *pMsg, uint8 *pMsgLen )
   2563          {
   2564            uint8 hdrLen = HCI_EXT_HDR_LEN + 1; // hdr + event length
   2565            uint8 msgLen = 0;
   2566            uint8 *pBuf = pMsg;
   2567          
   2568            if ( pPkt->hdr.status == SUCCESS )
   2569            {
   2570              // Build the message first
   2571              switch ( pPkt->method )
   2572              {
   2573                case GATT_CLIENT_CHAR_CFG_UPDATED_EVENT:
   2574                  {
   2575                    gattClientCharCfgUpdatedEvent_t *pEvent = (gattClientCharCfgUpdatedEvent_t *)pPkt;
   2576          
   2577          #if defined ( GAP_BOND_MGR )
   2578                    VOID GAPBondMgr_UpdateCharCfg( pEvent->connHandle, pEvent->attrHandle, pEvent->value );
   2579          #endif
   2580                    // Attribute handle
   2581                    pMsg[hdrLen]   = LO_UINT16( pEvent->attrHandle );
   2582                    pMsg[hdrLen+1] = HI_UINT16( pEvent->attrHandle );
   2583          
   2584                    // Attribute value
   2585                    pMsg[hdrLen+2] = LO_UINT16( pEvent->value );
   2586                    pMsg[hdrLen+3] = HI_UINT16( pEvent->value );
   2587          
   2588                    msgLen = 4;
   2589                  }
   2590                  break;
   2591          
   2592                default:
   2593                  // Unknown command
   2594                  break;
   2595              }
   2596            }
   2597          
   2598            // Build the message header
   2599            VOID buildHCIExtHeader( pBuf, (HCI_EXT_GATT_EVENT | pPkt->method), pPkt->hdr.status, pPkt->connHandle );
   2600          
   2601            // Add the event (PDU) length for GATT events for now!
   2602            pBuf[HCI_EXT_HDR_LEN] = msgLen;
   2603          
   2604            *pMsgLen = hdrLen + msgLen;
   2605          
   2606            return ( pBuf );
   2607          }
   2608          #endif // !GATT_DB_OFF_CHIP
   2609          
   2610          /*********************************************************************
   2611           * @fn      buildHCIExtHeader
   2612           *
   2613           * @brief   Build an HCI Exension header.
   2614           *
   2615           * @param   pBuf - header to be built
   2616           * @param   event - event id
   2617           * @param   status - event status
   2618           * @param   connHandle - connection handle
   2619           *
   2620           * @return  header length
   2621           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2622          static uint8 buildHCIExtHeader( uint8 *pBuf, uint16 event, uint8 status, uint16 connHandle )
   \                     buildHCIExtHeader:
   2623          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
   2624            pBuf[0] = LO_UINT16( event );
   \   000007   EC           MOV     A,R4
   \   000008   8A82         MOV     DPL,R2
   \   00000A   8B83         MOV     DPH,R3
   \   00000C   F0           MOVX    @DPTR,A
   2625            pBuf[1] = HI_UINT16( event );
   \   00000D   ED           MOV     A,R5
   \   00000E   A3           INC     DPTR
   \   00000F   F0           MOVX    @DPTR,A
   2626            pBuf[2] = status;
   \   000010   EE           MOV     A,R6
   \   000011   8A82         MOV     DPL,R2
   \   000013   8B83         MOV     DPH,R3
   \   000015   A3           INC     DPTR
   \   000016   A3           INC     DPTR
   \   000017   F0           MOVX    @DPTR,A
   \   000018   7409         MOV     A,#0x9
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   12....       LCALL   ?Subroutine78 & 0xFFFF
   2627            pBuf[3] = LO_UINT16( connHandle );
   \                     ??CrossCallReturnLabel_203:
   \   000020   8A82         MOV     DPL,R2
   \   000022   8B83         MOV     DPH,R3
   \   000024   A3           INC     DPTR
   \   000025   A3           INC     DPTR
   \   000026   A3           INC     DPTR
   \   000027   F0           MOVX    @DPTR,A
   2628            pBuf[4] = HI_UINT16( connHandle );
   \   000028   E9           MOV     A,R1
   \   000029   8A82         MOV     DPL,R2
   \   00002B   8B83         MOV     DPH,R3
   \   00002D   A3           INC     DPTR
   \   00002E   A3           INC     DPTR
   \   00002F   A3           INC     DPTR
   \   000030   A3           INC     DPTR
   \   000031   F0           MOVX    @DPTR,A
   2629          
   2630            return ( HCI_EXT_HDR_LEN );
   \   000032   7905         MOV     R1,#0x5
   \   000034   02....       LJMP    ?Subroutine0 & 0xFFFF
   2631          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine78:
   \   000000   12....       LCALL   ??Subroutine170_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_444:
   \   000003   E8           MOV     A,R0
   \   000004   22           RET
   2632          
   2633          /*********************************************************************
   2634           * @fn      mapATT2BLEStatus
   2635           *
   2636           * @brief   Map ATT error code to BLE Generic status code.
   2637           *
   2638           * @param   status - ATT status
   2639           *
   2640           * @return  BLE Generic status
   2641           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2642          static uint8  mapATT2BLEStatus( uint8 status )
   \                     mapATT2BLEStatus:
   2643          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   E9           MOV     A,R1
   2644            uint8 stat;
   2645          
   2646            switch ( status )
   \   000001   24FC         ADD     A,#-0x4
   \   000003   600D         JZ      ??mapATT2BLEStatus_0
   \   000005   14           DEC     A
   \   000006   600E         JZ      ??mapATT2BLEStatus_1
   \   000008   24F9         ADD     A,#-0x7
   \   00000A   6012         JZ      ??mapATT2BLEStatus_2
   \   00000C   24FD         ADD     A,#-0x3
   \   00000E   600A         JZ      ??mapATT2BLEStatus_3
   \   000010   800E         SJMP    ??mapATT2BLEStatus_4
   2647            {
   2648              case ATT_ERR_INVALID_PDU:
   2649                // Returned from Parse routines
   2650                stat = bleInvalidPDU;
   \                     ??mapATT2BLEStatus_0:
   \   000012   7940         MOV     R1,#0x40
   2651                break;
   \   000014   800A         SJMP    ??mapATT2BLEStatus_4
   2652          
   2653              case ATT_ERR_INSUFFICIENT_AUTHEN:
   2654                // Returned from Send routines
   2655                stat = bleInsufficientAuthen;
   \                     ??mapATT2BLEStatus_1:
   \   000016   7941         MOV     R1,#0x41
   2656                break;
   \   000018   8006         SJMP    ??mapATT2BLEStatus_4
   2657          
   2658              case ATT_ERR_INSUFFICIENT_ENCRYPT:
   2659                // Returned from Send routines
   2660                stat = bleInsufficientEncrypt;
   \                     ??mapATT2BLEStatus_3:
   \   00001A   7942         MOV     R1,#0x42
   2661                break;
   \   00001C   8002         SJMP    ??mapATT2BLEStatus_4
   2662          
   2663              case ATT_ERR_INSUFFICIENT_KEY_SIZE:
   2664                // Returned from Send routines
   2665                stat = bleInsufficientKeySize;
   \                     ??mapATT2BLEStatus_2:
   \   00001E   7943         MOV     R1,#0x43
   2666                break;
   2667          
   2668              default:
   2669                stat = status;
   2670            }
   2671          
   2672            return ( stat );
   \                     ??mapATT2BLEStatus_4:
   \   000020   02....       LJMP    ?BRET
   2673          }
   2674          
   2675          #ifdef GATT_DB_OFF_CHIP
   2676          /*********************************************************************
   2677           * @fn      addAttrRec
   2678           *
   2679           * @brief   Add attribute record to its service.
   2680           *
   2681           * @param   pServ - GATT service
   2682           * @param   pUUID - attribute UUID
   2683           * @param   len - length of UUID
   2684           * @param   permissions - attribute permissions
   2685           * @param   pTotalAttrs - total number of attributes
   2686           * @param   pRspDataLen - response data length to be returned
   2687           *
   2688           * @return  status
   2689           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2690          static uint8 addAttrRec( gattService_t *pServ, uint8 *pUUID, uint8 len,
   \                     addAttrRec:
   2691                                   uint8 permissions, uint16 *pTotalAttrs, uint8 *pRspDataLen )
   2692          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7402         MOV     A,#0x2
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EC           MOV     A,R4
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   ED           MOV     A,R5
   \   000013   F0           MOVX    @DPTR,A
   \   000014   8A..         MOV     ?V0,R2
   \   000016   8B..         MOV     ?V1,R3
   \   000018   89..         MOV     ?V3,R1
   \   00001A   8A82         MOV     DPL,R2
   \   00001C   8B83         MOV     DPH,R3
   \   00001E   12....       LCALL   ?Subroutine67 & 0xFFFF
   \                     ??CrossCallReturnLabel_183:
   \   000021   12....       LCALL   ?S_SHL
   \   000024   8A82         MOV     DPL,R2
   \   000026   8B83         MOV     DPH,R3
   \   000028   12....       LCALL   ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_455:
   \   00002B   85..82       MOV     DPL,?XSP + 0
   \   00002E   85..83       MOV     DPH,?XSP + 1
   \   000031   12....       LCALL   ?Subroutine32 & 0xFFFF
   2693            gattAttribute_t *pAttr = &(pServ->attrs[pServ->numAttrs]);
   2694            uint8 stat = SUCCESS;
   \                     ??CrossCallReturnLabel_67:
   \   000034   75..00       MOV     ?V2,#0x0
   2695          
   2696            // Set up attribute record
   2697            pAttr->type.uuid = findUUIDRec( pUUID, len );
   \   000037                ; Setup parameters for call to function GATT_FindUUIDRec
   \   000037   A9..         MOV     R1,?V3
   \   000039   7402         MOV     A,#0x2
   \   00003B   12....       LCALL   ?XSTACK_DISP0_8
   \   00003E   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_155:
   \   000041   12....       LCALL   ??GATT_FindUUIDRec?relay; Banked call to: GATT_FindUUIDRec
   \   000044   8A..         MOV     ?V6,R2
   \   000046   8B..         MOV     ?V7,R3
   \   000048   EA           MOV     A,R2
   \   000049   45..         ORL     A,?V7
   \   00004B   702F         JNZ     ??addAttrRec_0
   \   00004D   85..82       MOV     DPL,?V3
   \   000050   AE82         MOV     R6,DPL
   \   000052                ; Setup parameters for call to function osal_mem_alloc
   \   000052   EE           MOV     A,R6
   \   000053   FA           MOV     R2,A
   \   000054   7B00         MOV     R3,#0x0
   \   000056   12....       LCALL   ??osal_mem_alloc?relay; Banked call to: osal_mem_alloc
   \   000059   8A..         MOV     ?V6,R2
   \   00005B   8B..         MOV     ?V7,R3
   \   00005D   EA           MOV     A,R2
   \   00005E   45..         ORL     A,?V7
   \   000060   601A         JZ      ??addAttrRec_0
   \   000062                ; Setup parameters for call to function osal_memcpy
   \   000062   8E..         MOV     ?V4,R6
   \   000064   75..00       MOV     ?V5,#0x0
   \   000067   78..         MOV     R0,#?V4
   \   000069   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006C   7404         MOV     A,#0x4
   \   00006E   12....       LCALL   ?XSTACK_DISP0_8
   \   000071   12....       LCALL   ?Subroutine115 & 0xFFFF
   \                     ??CrossCallReturnLabel_335:
   \   000074   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   000077   7402         MOV     A,#0x2
   \   000079   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??addAttrRec_0:
   \   00007C   85..82       MOV     DPL,?XSP + 0
   \   00007F   85..83       MOV     DPH,?XSP + 1
   \   000082   E0           MOVX    A,@DPTR
   \   000083   2401         ADD     A,#0x1
   \   000085   F8           MOV     R0,A
   \   000086   A3           INC     DPTR
   \   000087   E0           MOVX    A,@DPTR
   \   000088   3400         ADDC    A,#0x0
   \   00008A   F9           MOV     R1,A
   \   00008B   8882         MOV     DPL,R0
   \   00008D   8983         MOV     DPH,R1
   \   00008F   E5..         MOV     A,?V6
   \   000091   F0           MOVX    @DPTR,A
   \   000092   A3           INC     DPTR
   \   000093   E5..         MOV     A,?V7
   \   000095   F0           MOVX    @DPTR,A
   2698            if ( pAttr->type.uuid != NULL )
   \   000096   8882         MOV     DPL,R0
   \   000098   8983         MOV     DPH,R1
   \   00009A   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_387:
   \   00009D   7003         JNZ     $+5
   \   00009F   02....       LJMP    ??addAttrRec_1 & 0xFFFF
   2699            {
   2700              pAttr->type.len = len;
   \   0000A2   85..82       MOV     DPL,?XSP + 0
   \   0000A5   85..83       MOV     DPH,?XSP + 1
   \   0000A8   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_181:
   \   0000AB   E5..         MOV     A,?V3
   \   0000AD   F0           MOVX    @DPTR,A
   2701              pAttr->permissions = permissions;
   \   0000AE   7414         MOV     A,#0x14
   \   0000B0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B3   E0           MOVX    A,@DPTR
   \   0000B4   C0E0         PUSH    A
   \   0000B6   85..82       MOV     DPL,?XSP + 0
   \   0000B9   85..83       MOV     DPH,?XSP + 1
   \   0000BC   12....       LCALL   ?Subroutine64 & 0xFFFF
   \                     ??CrossCallReturnLabel_173:
   \   0000BF   D0E0         POP     A
   \   0000C1   12....       LCALL   ??Subroutine172_0 & 0xFFFF
   2702          
   2703              // Are all attributes added to the service yet?
   2704              if ( ++pServ->numAttrs == *pTotalAttrs )
   \                     ??CrossCallReturnLabel_459:
   \   0000C4   E0           MOVX    A,@DPTR
   \   0000C5   2401         ADD     A,#0x1
   \   0000C7   F0           MOVX    @DPTR,A
   \   0000C8   A3           INC     DPTR
   \   0000C9   E0           MOVX    A,@DPTR
   \   0000CA   3400         ADDC    A,#0x0
   \   0000CC   F0           MOVX    @DPTR,A
   \   0000CD   7415         MOV     A,#0x15
   \   0000CF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D2   E0           MOVX    A,@DPTR
   \   0000D3   FE           MOV     R6,A
   \   0000D4   A3           INC     DPTR
   \   0000D5   E0           MOVX    A,@DPTR
   \   0000D6   FF           MOV     R7,A
   \   0000D7   12....       LCALL   ?Subroutine111 & 0xFFFF
   \                     ??CrossCallReturnLabel_445:
   \   0000DA   8E82         MOV     DPL,R6
   \   0000DC   8F83         MOV     DPH,R7
   \   0000DE   E0           MOVX    A,@DPTR
   \   0000DF   68           XRL     A,R0
   \   0000E0   7003         JNZ     ??addAttrRec_2
   \   0000E2   A3           INC     DPTR
   \   0000E3   E0           MOVX    A,@DPTR
   \   0000E4   69           XRL     A,R1
   \                     ??addAttrRec_2:
   \   0000E5   7065         JNZ     ??addAttrRec_3
   2705              {
   2706                // Register the service with the GATT Server
   2707                stat = GATT_RegisterService( pServ );
   \   0000E7                ; Setup parameters for call to function GATT_RegisterService
   \   0000E7   AA..         MOV     R2,?V0
   \   0000E9   AB..         MOV     R3,?V1
   \   0000EB   12....       LCALL   ??GATT_RegisterService?relay; Banked call to: GATT_RegisterService
   \   0000EE   E9           MOV     A,R1
   \   0000EF   F5..         MOV     ?V2,A
   2708                if ( stat == SUCCESS )
   \   0000F1   7045         JNZ     ??addAttrRec_4
   2709                {
   2710                  *pRspDataLen = 4;
   \   0000F3   7417         MOV     A,#0x17
   \   0000F5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F8   12....       LCALL   ?Subroutine65 & 0xFFFF
   2711          
   2712                  // Service startHandle
   2713                  uint16 handle = pServ->attrs[0].handle;
   2714                  rspBuf[RSP_PAYLOAD_IDX] = LO_UINT16( handle );
   2715                  rspBuf[RSP_PAYLOAD_IDX+1] = HI_UINT16( handle );
   2716          
   2717                  // Service endHandle
   2718                  handle = pServ->attrs[pServ->numAttrs-1].handle;
   2719                  rspBuf[RSP_PAYLOAD_IDX+2] = LO_UINT16( handle );
   2720                  rspBuf[RSP_PAYLOAD_IDX+3] = HI_UINT16( handle );
   2721          
   2722                  // Service is registered with GATT; clear its info
   2723                  pServ->attrs = NULL;
   2724                  pServ->numAttrs = 0;
   2725                }
   \                     ??CrossCallReturnLabel_182:
   \   0000FB   7404         MOV     A,#0x4
   \   0000FD   12....       LCALL   ??Subroutine172_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_460:
   \   000100   A3           INC     DPTR
   \   000101   A3           INC     DPTR
   \   000102   12....       LCALL   ?Subroutine64 & 0xFFFF
   \                     ??CrossCallReturnLabel_174:
   \   000105   A3           INC     DPTR
   \   000106   12....       LCALL   ?Subroutine78 & 0xFFFF
   \                     ??CrossCallReturnLabel_204:
   \   000109   90....       MOV     DPTR,#rspBuf + 6
   \   00010C   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   00010F   12....       LCALL   ?Subroutine67 & 0xFFFF
   \                     ??CrossCallReturnLabel_184:
   \   000112   12....       LCALL   ?S_SHL
   \   000115   85..82       MOV     DPL,?V0
   \   000118   85..83       MOV     DPH,?V1
   \   00011B   12....       LCALL   ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_456:
   \   00011E   E8           MOV     A,R0
   \   00011F   24FC         ADD     A,#-0x4
   \   000121   F582         MOV     DPL,A
   \   000123   E9           MOV     A,R1
   \   000124   34FF         ADDC    A,#-0x1
   \   000126   F583         MOV     DPH,A
   \   000128   12....       LCALL   ?Subroutine78 & 0xFFFF
   \                     ??CrossCallReturnLabel_205:
   \   00012B   90....       MOV     DPTR,#rspBuf + 8
   \   00012E   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   000131   A3           INC     DPTR
   \   000132   A3           INC     DPTR
   \   000133   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000136   8007         SJMP    ??addAttrRec_5
   2726                else
   2727                {
   2728                  freeAttrRecs( pServ );
   \                     ??addAttrRec_4:
   \   000138                ; Setup parameters for call to function freeAttrRecs
   \   000138   AA..         MOV     R2,?V0
   \   00013A   AB..         MOV     R3,?V1
   \   00013C   12....       LCALL   ??freeAttrRecs?relay ; Banked call to: freeAttrRecs
   2729                }
   2730          
   2731                // We're done with this service
   2732                *pTotalAttrs = 0;
   \                     ??addAttrRec_5:
   \   00013F   8E82         MOV     DPL,R6
   \   000141   8F83         MOV     DPH,R7
   \   000143   E4           CLR     A
   \   000144   F0           MOVX    @DPTR,A
   \   000145   A3           INC     DPTR
   \   000146   F0           MOVX    @DPTR,A
   \   000147   8003         SJMP    ??addAttrRec_3
   2733              }
   2734            }
   2735            else
   2736            {
   2737              stat = INVALIDPARAMETER;
   \                     ??addAttrRec_1:
   \   000149   75..02       MOV     ?V2,#0x2
   2738            }
   2739          
   2740            return ( stat );
   \                     ??addAttrRec_3:
   \   00014C   A9..         MOV     R1,?V2
   \   00014E   02....       LJMP    ?Subroutine2 & 0xFFFF
   2741          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine111:
   \   000000   85..82       MOV     DPL,?V0
   \   000003   85..83       MOV     DPH,?V1
   \   000006                REQUIRE ??Subroutine170_0
   \   000006                ; // Fall through to label ??Subroutine170_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine67:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V4,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V5,A
   \   000007   7403         MOV     A,#0x3
   \   000009   78..         MOV     R0,#?V4
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine64:
   \   000000   12....       LCALL   ?Subroutine112 & 0xFFFF
   \                     ??CrossCallReturnLabel_260:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine59:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002                REQUIRE ??Subroutine171_0
   \   000002                ; // Fall through to label ??Subroutine171_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine171_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   25..         ADD     A,?V4
   \   000003   F8           MOV     R0,A
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   35..         ADDC    A,?V5
   \   000008   F9           MOV     R1,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   E9           MOV     A,R1
   \   000002   12....       LCALL   ?Subroutine96 & 0xFFFF
   \                     ??CrossCallReturnLabel_457:
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine96:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine172_0
   \   000001                ; // Fall through to label ??Subroutine172_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine172_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?V0
   \   000004   85..83       MOV     DPH,?V1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   E4           CLR     A
   \   000001   F0           MOVX    @DPTR,A
   \   000002   12....       LCALL   ?Subroutine96 & 0xFFFF
   \                     ??CrossCallReturnLabel_458:
   \   000005   F0           MOVX    @DPTR,A
   \   000006   A3           INC     DPTR
   \   000007   F0           MOVX    @DPTR,A
   \   000008   22           RET
   2742          
   2743          /*********************************************************************
   2744           * @fn      freeAttrRecs
   2745           *
   2746           * @brief   Free attribute records. Also, free UUIDs that were
   2747           *          allocated dynamically.
   2748           *
   2749           * @param   pServ - GATT service
   2750           *
   2751           * @return  none
   2752           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2753          static void freeAttrRecs( gattService_t *pServ )
   \                     freeAttrRecs:
   2754          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0,R2
   \   000007   8B..         MOV     ?V1,R3
   2755            if ( pServ->attrs != NULL )
   \   000009   EA           MOV     A,R2
   \   00000A   2402         ADD     A,#0x2
   \   00000C   FE           MOV     R6,A
   \   00000D   E4           CLR     A
   \   00000E   35..         ADDC    A,?V1
   \   000010   FF           MOV     R7,A
   \   000011   8E82         MOV     DPL,R6
   \   000013   8F83         MOV     DPH,R7
   \   000015   12....       LCALL   ??Subroutine160_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_388:
   \   000018   6065         JZ      ??CrossCallReturnLabel_58
   2756            {
   2757              for ( uint8 i = 0; i < pServ->numAttrs; i++ )
   \   00001A   75..00       MOV     ?V2,#0x0
   \   00001D   8041         SJMP    ??freeAttrRecs_0
   2758              {
   2759                gattAttrType_t *pType = &pServ->attrs[i].type;
   \                     ??freeAttrRecs_1:
   \   00001F   75..00       MOV     ?V5,#0x0
   \   000022   7403         MOV     A,#0x3
   \   000024   78..         MOV     R0,#?V4
   \   000026   12....       LCALL   ?S_SHL
   \   000029   8E82         MOV     DPL,R6
   \   00002B   8F83         MOV     DPH,R7
   \   00002D   12....       LCALL   ??Subroutine171_0 & 0xFFFF
   2760                if ( pType->uuid != NULL )
   \                     ??CrossCallReturnLabel_454:
   \   000030   8882         MOV     DPL,R0
   \   000032   8983         MOV     DPH,R1
   \   000034   A3           INC     DPTR
   \   000035   8582..       MOV     ?V6,DPL
   \   000038   8583..       MOV     ?V7,DPH
   \   00003B   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_156:
   \   00003E   EA           MOV     A,R2
   \   00003F   4B           ORL     A,R3
   \   000040   601C         JZ      ??freeAttrRecs_2
   2761                {
   2762                  if ( GATT_FindUUIDRec( (uint8 *)pType->uuid, pType->len ) == NULL )
   \   000042                ; Setup parameters for call to function GATT_FindUUIDRec
   \   000042   8882         MOV     DPL,R0
   \   000044   8983         MOV     DPH,R1
   \   000046   E0           MOVX    A,@DPTR
   \   000047   F9           MOV     R1,A
   \   000048   12....       LCALL   ??GATT_FindUUIDRec?relay; Banked call to: GATT_FindUUIDRec
   \   00004B   8B..         MOV     ?V5,R3
   \   00004D   EA           MOV     A,R2
   \   00004E   45..         ORL     A,?V5
   \   000050   700C         JNZ     ??freeAttrRecs_2
   2763                  {
   2764                    // UUID was dynamically allocated; free it
   2765                    osal_mem_free( (uint8 *)pType->uuid );
   \   000052                ; Setup parameters for call to function osal_mem_free
   \   000052   85..82       MOV     DPL,?V6
   \   000055   85..83       MOV     DPH,?V7
   \   000058   12....       LCALL   ?Subroutine54 & 0xFFFF
   2766                  }
   2767                }
   2768              }
   \                     ??CrossCallReturnLabel_157:
   \   00005B   12....       LCALL   ??osal_mem_free?relay; Banked call to: osal_mem_free
   \                     ??freeAttrRecs_2:
   \   00005E   05..         INC     ?V2
   \                     ??freeAttrRecs_0:
   \   000060   85....       MOV     ?V4,?V2
   \   000063   12....       LCALL   ?Subroutine111 & 0xFFFF
   \                     ??CrossCallReturnLabel_446:
   \   000066   C3           CLR     C
   \   000067   E5..         MOV     A,?V4
   \   000069   98           SUBB    A,R0
   \   00006A   E4           CLR     A
   \   00006B   99           SUBB    A,R1
   \   00006C   40B1         JC      ??freeAttrRecs_1
   2769          
   2770              osal_mem_free( pServ->attrs );
   \   00006E                ; Setup parameters for call to function osal_mem_free
   \   00006E   8E82         MOV     DPL,R6
   \   000070   8F83         MOV     DPH,R7
   \   000072   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_158:
   \   000075   12....       LCALL   ??osal_mem_free?relay; Banked call to: osal_mem_free
   2771          
   2772              pServ->attrs = NULL;
   \   000078   8E82         MOV     DPL,R6
   \   00007A   8F83         MOV     DPH,R7
   \   00007C   12....       LCALL   ?Subroutine31 & 0xFFFF
   2773              pServ->numAttrs = 0;
   2774            }
   2775          }
   \                     ??CrossCallReturnLabel_58:
   \   00007F   02....       LJMP    ??Subroutine146_0 & 0xFFFF

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HCI_EXT_App_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HCI_EXT_App_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HCI_EXT_App_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HCI_EXT_App_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processExtMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processExtMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processExMsgUTIL?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processExMsgUTIL

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??checkNVLen?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    checkNVLen

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processExMsgL2CAP?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processExMsgL2CAP

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processExMsgATT?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processExMsgATT

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processExMsgGATT?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processExMsgGATT

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processExMsgGAP?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processExMsgGAP

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processEvents?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processEvents

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processEventsGAP?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processEventsGAP

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processEventsL2CAP?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processEventsL2CAP

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processEventsGATT?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processEventsGATT

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??buildHCIExtHeader?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    buildHCIExtHeader

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??mapATT2BLEStatus?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    mapATT2BLEStatus

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??addAttrRec?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    addAttrRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??freeAttrRecs?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    freeAttrRecs

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0
   \            00      
   2776          
   2777          /*********************************************************************
   2778           * @fn      findUUIDRec
   2779           *
   2780           * @brief   Find UUID record. If the record is not found, create one
   2781           *          dynamically.
   2782           *
   2783           * @param   pUUID - UUID to look for
   2784           * @param   len - length of UUID
   2785           *
   2786           * @return  UUID record
   2787           */
   2788          static const uint8 *findUUIDRec( uint8 *pUUID, uint8 len )
   2789          {
   2790            const uint8 *pUuid = GATT_FindUUIDRec( pUUID, len );
   2791            if ( pUuid == NULL )
   2792            {
   2793              // UUID not found; allocate space for it
   2794              pUuid = osal_mem_alloc( len );
   2795              if ( pUuid != NULL )
   2796              {
   2797                VOID osal_memcpy( (uint8 *)pUuid, pUUID, len );
   2798              }
   2799            }
   2800          
   2801            return ( pUuid );
   2802          }
   2803          #endif // GATT_DB_OFF_CHIP
   2804          
   2805          /*********************************************************************
   2806          *********************************************************************/

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      0      9   HCI_EXT_App_Init
        0      9   -> GAP_RegisterForHCIMsgs
        0      9   -> GATT_InitClient
        0      9   -> GATT_RegisterForInd
        0      9   -> GATT_RegisterForReq
        0      9   -> HCI_ExtTaskRegister
        0      9   -> osal_snv_read
      0     14   HCI_EXT_App_ProcessEvent
        0     14   -> HCI_SendCommandCompleteEvent
        0     12   -> osal_msg_deallocate
        0     12   -> osal_msg_receive
        0     12   -> osal_snv_write
        0     12   -> processEvents
        0     12   -> processExtMsg
      1     84   addAttrRec
        0     20   -> GATT_FindUUIDRec
        0     20   -> GATT_RegisterService
        0     20   -> freeAttrRecs
        0     20   -> osal_mem_alloc
        0     22   -> osal_memcpy
      1     27   buildHCIExtHeader
      0     26   checkNVLen
        0      9   -> GAPBondMgr_CheckNVLen
      0     73   freeAttrRecs
        0     16   -> GATT_FindUUIDRec
        0     16   -> osal_mem_free
      0     57   mapATT2BLEStatus
      0     33   processEvents
        0     15   -> HCI_SendControllerToHostEvent
        0     15   -> osal_mem_free
        0     15   -> osal_memset
        0     15   -> osal_msg_deallocate
        0     21   -> processEventsGAP
        0     19   -> processEventsGATT
        0     17   -> processEventsL2CAP
      1     43   processEventsGAP
        0     21   -> GAPBondMgr_LinkEst
        0     20   -> GAPBondMgr_ProcessGAPMsg
        0     20   -> osal_mem_alloc
        0     22   -> osal_memcpy
        0     20   -> osal_memset
        0     20   -> osal_snv_write
      1     37   processEventsGATT
        0     16   -> ATT_BuildErrorRsp
        0     16   -> ATT_BuildExchangeMTUReq
        0     16   -> ATT_BuildExchangeMTURsp
        0     16   -> ATT_BuildExecuteWriteReq
        0     16   -> ATT_BuildFindByTypeValueReq
        0     16   -> ATT_BuildFindByTypeValueRsp
        0     16   -> ATT_BuildFindInfoReq
        0     16   -> ATT_BuildFindInfoRsp
        0     16   -> ATT_BuildHandleValueInd
        0     16   -> ATT_BuildPrepareWriteReq
        0     16   -> ATT_BuildPrepareWriteRsp
        0     16   -> ATT_BuildReadBlobReq
        0     16   -> ATT_BuildReadBlobRsp
        0     16   -> ATT_BuildReadByGrpTypeRsp
        0     16   -> ATT_BuildReadByTypeReq
        0     16   -> ATT_BuildReadByTypeRsp
        0     16   -> ATT_BuildReadMultiReq
        0     16   -> ATT_BuildReadMultiRsp
        0     16   -> ATT_BuildReadReq
        0     16   -> ATT_BuildReadRsp
        0     16   -> ATT_BuildWriteReq
        0     16   -> GATT_AppCompletedMsg
        0     18   -> buildHCIExtHeader
      1     35   processEventsL2CAP
        0     16   -> L2CAP_BuildCmdReject
        0     16   -> L2CAP_BuildInfoRsp
        0     16   -> L2CAP_BuildParamUpdateRsp
        0     18   -> buildHCIExtHeader
      1     65   processExMsgATT
        0     46   -> ATT_CompareUUID
        0     42   -> ATT_ErrorRsp
        0     42   -> ATT_ExchangeMTURsp
        0     42   -> ATT_ExecuteWriteRsp
        0     42   -> ATT_FindByTypeValueRsp
        0     42   -> ATT_FindInfoRsp
        0     42   -> ATT_HandleValueCfm
        0     44   -> ATT_ParseErrorRsp
        0     46   -> ATT_ParseExchangeMTUReq
        0     44   -> ATT_ParseExchangeMTURsp
        0     46   -> ATT_ParseExecuteWriteReq
        0     44   -> ATT_ParseExecuteWriteRsp
        0     46   -> ATT_ParseFindByTypeValueReq
        0     44   -> ATT_ParseFindByTypeValueRsp
        0     46   -> ATT_ParseFindInfoReq
        0     44   -> ATT_ParseFindInfoRsp
        0     44   -> ATT_ParseHandleValueCfm
        0     46   -> ATT_ParseHandleValueInd
        0     46   -> ATT_ParsePrepareWriteReq
        0     44   -> ATT_ParsePrepareWriteRsp
        0     46   -> ATT_ParseReadBlobReq
        0     44   -> ATT_ParseReadBlobRsp
        0     44   -> ATT_ParseReadByGrpTypeRsp
        0     46   -> ATT_ParseReadByTypeReq
        0     44   -> ATT_ParseReadByTypeRsp
        0     46   -> ATT_ParseReadMultiReq
        0     44   -> ATT_ParseReadMultiRsp
        0     46   -> ATT_ParseReadReq
        0     44   -> ATT_ParseReadRsp
        0     46   -> ATT_ParseWriteReq
        0     44   -> ATT_ParseWriteRsp
        0     42   -> ATT_PrepareWriteRsp
        0     42   -> ATT_ReadBlobRsp
        0     42   -> ATT_ReadByGrpTypeRsp
        0     42   -> ATT_ReadByTypeRsp
        0     42   -> ATT_ReadMultiRsp
        0     42   -> ATT_ReadRsp
        0     42   -> ATT_WriteRsp
        0     44   -> GATT_DiscAllCharDescs
        0     44   -> GATT_DiscAllChars
        0     42   -> GATT_DiscAllPrimaryServices
        0     43   -> GATT_DiscPrimaryServiceByUUID
        0     42   -> GATT_ExchangeMTU
        0     44   -> GATT_FindIncludedServices
        0     43   -> GATT_Indication
        0     42   -> GATT_Notification
        0     42   -> GATT_ReadCharValue
        0     42   -> GATT_ReadLongCharValue
        0     42   -> GATT_ReadMultiCharValues
        0     42   -> GATT_ReadUsingCharUUID
        0     44   -> GATT_ReliableWrites
        0     42   -> GATT_SignedWriteNoRsp
        0     42   -> GATT_WriteCharValue
        0     42   -> GATT_WriteNoRsp
        0     42   -> mapATT2BLEStatus
        0     42   -> osal_mem_alloc
        0     42   -> osal_mem_free
        0     44   -> osal_memcpy
      1    133   processExMsgGAP
        0    110   -> GAPBondMgr_GetParameter
        0    110   -> GAPBondMgr_ServiceChangeInd
        0    110   -> GAPBondMgr_SetParameter
        0    110   -> GAP_Authenticate
        0    111   -> GAP_Bond
        0    110   -> GAP_ConfigDeviceAddr
        0    110   -> GAP_DeviceDiscoveryCancel
        0    110   -> GAP_DeviceDiscoveryRequest
        0    114   -> GAP_DeviceInit
        0    110   -> GAP_EndDiscoverable
        0    110   -> GAP_EstablishLinkReq
        0    110   -> GAP_GetParamValue
        0    110   -> GAP_MakeDiscoverable
        0    110   -> GAP_PasskeyUpdate
        0    110   -> GAP_RemoveAdvToken
        0    110   -> GAP_ResolvePrivateAddr
        0    110   -> GAP_SendSlaveSecurityRequest
        0    110   -> GAP_SetAdvToken
        0    110   -> GAP_SetParamValue
        0    110   -> GAP_Signable
        0    110   -> GAP_TerminateAuth
        0    110   -> GAP_TerminateLinkReq
        0    110   -> GAP_UpdateAdvTokens
        0    110   -> GAP_UpdateAdvertisingData
        0    110   -> GAP_UpdateLinkParamReq
        0    110   -> osal_build_uint32
        0    110   -> osal_isbufset
        0    110   -> osal_mem_alloc
        0    110   -> osal_mem_free
        0    112   -> osal_memcmp
        0    112   -> osal_memcpy
        0    110   -> osal_memset
      1     81   processExMsgGATT
        0     61   -> ATT_ParseExchangeMTUReq
        0     61   -> ATT_ParseFindInfoReq
        0     61   -> ATT_ParseHandleValueInd
        0     61   -> ATT_ParsePrepareWriteReq
        0     61   -> ATT_ParseReadBlobReq
        0     61   -> ATT_ParseReadByTypeReq
        0     61   -> ATT_ParseReadMultiReq
        0     61   -> ATT_ParseReadReq
        0     61   -> ATT_ParseWriteReq
        0     57   -> GATT_DeregisterService
        0     59   -> GATT_DiscAllCharDescs
        0     59   -> GATT_DiscAllChars
        0     57   -> GATT_DiscAllPrimaryServices
        0     57   -> GATT_DiscCharsByUUID
        0     58   -> GATT_DiscPrimaryServiceByUUID
        0     57   -> GATT_ExchangeMTU
        0     59   -> GATT_FindIncludedServices
        0     58   -> GATT_Indication
        0     57   -> GATT_Notification
        0     57   -> GATT_ReadCharDesc
        0     57   -> GATT_ReadCharValue
        0     57   -> GATT_ReadLongCharDesc
        0     57   -> GATT_ReadLongCharValue
        0     57   -> GATT_ReadMultiCharValues
        0     57   -> GATT_ReadUsingCharUUID
        0     59   -> GATT_ReliableWrites
        0     57   -> GATT_SignedWriteNoRsp
        0     57   -> GATT_WriteCharDesc
        0     57   -> GATT_WriteCharValue
        0     57   -> GATT_WriteLongCharDesc
        0     57   -> GATT_WriteLongCharValue
        0     57   -> GATT_WriteNoRsp
        0     62   -> addAttrRec
        0     57   -> freeAttrRecs
        0     57   -> mapATT2BLEStatus
        0     57   -> osal_mem_alloc
        0     57   -> osal_mem_free
        0     59   -> osal_memcpy
        0     57   -> osal_memset
      0     45   processExMsgL2CAP
        0     24   -> L2CAP_ConnParamUpdateReq
        0     24   -> L2CAP_InfoReq
        0     26   -> L2CAP_ParseInfoReq
        0     26   -> L2CAP_ParseParamUpdateReq
      1     36   processExMsgUTIL
        0     17   -> appForceBoot
        0     17   -> checkNVLen
        0     17   -> osal_snv_read
        0     17   -> osal_snv_write
      1     31   processExtMsg
        0     19   -> HCI_SendControllerToHostEvent
        0     19   -> osal_msg_deallocate
        0     19   -> processExMsgATT
        0     19   -> processExMsgGAP
        0     19   -> processExMsgGATT
        0     19   -> processExMsgL2CAP
        0     19   -> processExMsgUTIL


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       6  ?<Constant {0}>
       6  ??HCI_EXT_App_Init?relay
       6  ??HCI_EXT_App_ProcessEvent?relay
       4  ??Subroutine139_0
      11  ??Subroutine140_0
       6  ??Subroutine141_0
       5  ??Subroutine142_0
       6  ??Subroutine143_0
       8  ??Subroutine144_0
       3  ??Subroutine145_0
       5  ??Subroutine146_0
       8  ??Subroutine147_0
       5  ??Subroutine148_0
       9  ??Subroutine149_0
      15  ??Subroutine150_0
       3  ??Subroutine151_0
       1  ??Subroutine152_0
       4  ??Subroutine153_0
       5  ??Subroutine154_0
      11  ??Subroutine155_0
       4  ??Subroutine156_0
       8  ??Subroutine157_0
       2  ??Subroutine158_0
       5  ??Subroutine159_0
       6  ??Subroutine160_0
       4  ??Subroutine161_0
       6  ??Subroutine162_0
      12  ??Subroutine163_0
       8  ??Subroutine164_0
       2  ??Subroutine165_0
      12  ??Subroutine166_0
       9  ??Subroutine167_0
       4  ??Subroutine168_0
       6  ??Subroutine169_0
       5  ??Subroutine170_0
      10  ??Subroutine171_0
       8  ??Subroutine172_0
       6  ??addAttrRec?relay
       6  ??buildHCIExtHeader?relay
       6  ??checkNVLen?relay
       6  ??freeAttrRecs?relay
       6  ??mapATT2BLEStatus?relay
       6  ??processEvents?relay
       6  ??processEventsGAP?relay
       6  ??processEventsGATT?relay
       6  ??processEventsL2CAP?relay
       6  ??processExMsgATT?relay
       6  ??processExMsgGAP?relay
       6  ??processExMsgGATT?relay
       6  ??processExMsgL2CAP?relay
       6  ??processExMsgUTIL?relay
       6  ??processExtMsg?relay
       5  ?Subroutine0
       3  ?Subroutine1
       6  ?Subroutine10
       4  ?Subroutine100
       1  ?Subroutine101
       8  ?Subroutine102
       5  ?Subroutine103
       4  ?Subroutine104
       6  ?Subroutine105
       9  ?Subroutine106
       4  ?Subroutine107
       8  ?Subroutine108
       7  ?Subroutine109
      12  ?Subroutine11
       9  ?Subroutine110
       6  ?Subroutine111
       8  ?Subroutine112
       7  ?Subroutine113
      11  ?Subroutine114
       6  ?Subroutine115
       6  ?Subroutine116
       4  ?Subroutine117
       4  ?Subroutine118
       1  ?Subroutine119
      15  ?Subroutine12
      10  ?Subroutine120
       5  ?Subroutine121
       8  ?Subroutine122
       8  ?Subroutine123
       4  ?Subroutine124
       6  ?Subroutine125
       5  ?Subroutine126
       4  ?Subroutine127
       5  ?Subroutine128
       4  ?Subroutine129
       5  ?Subroutine13
       4  ?Subroutine130
       7  ?Subroutine131
      10  ?Subroutine132
      12  ?Subroutine133
      12  ?Subroutine134
       6  ?Subroutine135
       9  ?Subroutine136
       9  ?Subroutine137
       9  ?Subroutine138
       9  ?Subroutine14
      15  ?Subroutine15
      10  ?Subroutine16
       4  ?Subroutine17
      10  ?Subroutine18
      12  ?Subroutine19
       2  ?Subroutine2
      16  ?Subroutine20
       7  ?Subroutine21
       8  ?Subroutine22
      11  ?Subroutine23
       4  ?Subroutine24
       8  ?Subroutine25
       4  ?Subroutine26
       3  ?Subroutine27
       4  ?Subroutine28
       5  ?Subroutine29
      23  ?Subroutine3
       7  ?Subroutine30
       9  ?Subroutine31
       6  ?Subroutine32
      10  ?Subroutine33
       5  ?Subroutine34
      13  ?Subroutine35
       5  ?Subroutine36
       6  ?Subroutine37
       7  ?Subroutine38
       1  ?Subroutine39
      34  ?Subroutine4
       5  ?Subroutine40
      12  ?Subroutine41
       9  ?Subroutine42
       4  ?Subroutine43
      14  ?Subroutine44
      20  ?Subroutine45
       2  ?Subroutine46
       3  ?Subroutine47
       8  ?Subroutine48
      14  ?Subroutine49
       6  ?Subroutine5
      12  ?Subroutine50
      20  ?Subroutine51
       2  ?Subroutine52
       9  ?Subroutine53
       6  ?Subroutine54
       1  ?Subroutine55
       6  ?Subroutine56
      10  ?Subroutine57
       4  ?Subroutine58
       2  ?Subroutine59
       2  ?Subroutine6
       8  ?Subroutine60
       3  ?Subroutine61
       9  ?Subroutine62
      10  ?Subroutine63
       7  ?Subroutine64
       4  ?Subroutine65
       3  ?Subroutine66
      12  ?Subroutine67
      12  ?Subroutine68
       3  ?Subroutine69
      39  ?Subroutine7
       4  ?Subroutine70
       1  ?Subroutine71
      10  ?Subroutine72
      11  ?Subroutine73
      11  ?Subroutine74
      11  ?Subroutine75
      16  ?Subroutine76
      16  ?Subroutine77
       5  ?Subroutine78
      10  ?Subroutine79
      12  ?Subroutine8
      16  ?Subroutine80
       9  ?Subroutine81
       2  ?Subroutine82
      15  ?Subroutine83
      10  ?Subroutine84
       4  ?Subroutine85
       4  ?Subroutine86
      11  ?Subroutine87
      10  ?Subroutine88
      10  ?Subroutine89
      13  ?Subroutine9
      11  ?Subroutine90
      15  ?Subroutine91
      14  ?Subroutine92
       6  ?Subroutine93
       7  ?Subroutine94
       4  ?Subroutine95
       1  ?Subroutine96
      10  ?Subroutine97
      14  ?Subroutine98
       4  ?Subroutine99
      73  HCI_EXT_App_Init
     159  HCI_EXT_App_ProcessEvent
      16  IRK
      16  SRK
     337  addAttrRec
      55  buildHCIExtHeader
      58  checkNVLen
     130  freeAttrRecs
       1  hciExtApp_TaskID
       1  hciExtProfileRole
       4  hciExtSignCounter
      35  mapATT2BLEStatus
       1  numPrepareWrites
      44  out_msg
       2  pPrepareWrites
     276  processEvents
    2106  processEventsGAP
     402  processEventsGATT
     145  processEventsL2CAP
    2028  processExMsgATT
    2364  processExMsgGAP
    2089  processExMsgGATT
     118  processExMsgL2CAP
     305  processExMsgUTIL
     304  processExtMsg
      56  rspBuf
       4  service
       2  totalAttrs

 
 12 341 bytes in segment BANKED_CODE
    102 bytes in segment BANK_RELAYS
      6 bytes in segment XDATA_ROM_C
    147 bytes in segment XDATA_Z
 
 12 443 bytes of CODE  memory
      6 bytes of CONST memory
    147 bytes of XDATA memory

Errors: none
Warnings: none
